function qx(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function Rv(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Uy={exports:{}},Oc={},By={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xI;function Wx(){if(xI)return Ue;xI=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function _($){return $===null||typeof $!="object"?null:($=g&&$[g]||$["@@iterator"],typeof $=="function"?$:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,R={};function P($,ie,Te){this.props=$,this.context=ie,this.refs=R,this.updater=Te||T}P.prototype.isReactComponent={},P.prototype.setState=function($,ie){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,ie,"setState")},P.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function L(){}L.prototype=P.prototype;function V($,ie,Te){this.props=$,this.context=ie,this.refs=R,this.updater=Te||T}var U=V.prototype=new L;U.constructor=V,I(U,P.prototype),U.isPureReactComponent=!0;var q=Array.isArray,j=Object.prototype.hasOwnProperty,W={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function b($,ie,Te){var Ce,Ve={},Fe=null,Ke=null;if(ie!=null)for(Ce in ie.ref!==void 0&&(Ke=ie.ref),ie.key!==void 0&&(Fe=""+ie.key),ie)j.call(ie,Ce)&&!D.hasOwnProperty(Ce)&&(Ve[Ce]=ie[Ce]);var We=arguments.length-2;if(We===1)Ve.children=Te;else if(1<We){for(var tt=Array(We),gt=0;gt<We;gt++)tt[gt]=arguments[gt+2];Ve.children=tt}if($&&$.defaultProps)for(Ce in We=$.defaultProps,We)Ve[Ce]===void 0&&(Ve[Ce]=We[Ce]);return{$$typeof:n,type:$,key:Fe,ref:Ke,props:Ve,_owner:W.current}}function C($,ie){return{$$typeof:n,type:$.type,key:ie,ref:$.ref,props:$.props,_owner:$._owner}}function E($){return typeof $=="object"&&$!==null&&$.$$typeof===n}function O($){var ie={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(Te){return ie[Te]})}var k=/\/+/g;function x($,ie){return typeof $=="object"&&$!==null&&$.key!=null?O(""+$.key):ie.toString(36)}function ee($,ie,Te,Ce,Ve){var Fe=typeof $;(Fe==="undefined"||Fe==="boolean")&&($=null);var Ke=!1;if($===null)Ke=!0;else switch(Fe){case"string":case"number":Ke=!0;break;case"object":switch($.$$typeof){case n:case e:Ke=!0}}if(Ke)return Ke=$,Ve=Ve(Ke),$=Ce===""?"."+x(Ke,0):Ce,q(Ve)?(Te="",$!=null&&(Te=$.replace(k,"$&/")+"/"),ee(Ve,ie,Te,"",function(gt){return gt})):Ve!=null&&(E(Ve)&&(Ve=C(Ve,Te+(!Ve.key||Ke&&Ke.key===Ve.key?"":(""+Ve.key).replace(k,"$&/")+"/")+$)),ie.push(Ve)),1;if(Ke=0,Ce=Ce===""?".":Ce+":",q($))for(var We=0;We<$.length;We++){Fe=$[We];var tt=Ce+x(Fe,We);Ke+=ee(Fe,ie,Te,tt,Ve)}else if(tt=_($),typeof tt=="function")for($=tt.call($),We=0;!(Fe=$.next()).done;)Fe=Fe.value,tt=Ce+x(Fe,We++),Ke+=ee(Fe,ie,Te,tt,Ve);else if(Fe==="object")throw ie=String($),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.");return Ke}function M($,ie,Te){if($==null)return $;var Ce=[],Ve=0;return ee($,Ce,"","",function(Fe){return ie.call(Te,Fe,Ve++)}),Ce}function me($){if($._status===-1){var ie=$._result;ie=ie(),ie.then(function(Te){($._status===0||$._status===-1)&&($._status=1,$._result=Te)},function(Te){($._status===0||$._status===-1)&&($._status=2,$._result=Te)}),$._status===-1&&($._status=0,$._result=ie)}if($._status===1)return $._result.default;throw $._result}var oe={current:null},X={transition:null},pe={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:X,ReactCurrentOwner:W};function de(){throw Error("act(...) is not supported in production builds of React.")}return Ue.Children={map:M,forEach:function($,ie,Te){M($,function(){ie.apply(this,arguments)},Te)},count:function($){var ie=0;return M($,function(){ie++}),ie},toArray:function($){return M($,function(ie){return ie})||[]},only:function($){if(!E($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Ue.Component=P,Ue.Fragment=t,Ue.Profiler=i,Ue.PureComponent=V,Ue.StrictMode=r,Ue.Suspense=d,Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,Ue.act=de,Ue.cloneElement=function($,ie,Te){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var Ce=I({},$.props),Ve=$.key,Fe=$.ref,Ke=$._owner;if(ie!=null){if(ie.ref!==void 0&&(Fe=ie.ref,Ke=W.current),ie.key!==void 0&&(Ve=""+ie.key),$.type&&$.type.defaultProps)var We=$.type.defaultProps;for(tt in ie)j.call(ie,tt)&&!D.hasOwnProperty(tt)&&(Ce[tt]=ie[tt]===void 0&&We!==void 0?We[tt]:ie[tt])}var tt=arguments.length-2;if(tt===1)Ce.children=Te;else if(1<tt){We=Array(tt);for(var gt=0;gt<tt;gt++)We[gt]=arguments[gt+2];Ce.children=We}return{$$typeof:n,type:$.type,key:Ve,ref:Fe,props:Ce,_owner:Ke}},Ue.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:o,_context:$},$.Consumer=$},Ue.createElement=b,Ue.createFactory=function($){var ie=b.bind(null,$);return ie.type=$,ie},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function($){return{$$typeof:u,render:$}},Ue.isValidElement=E,Ue.lazy=function($){return{$$typeof:m,_payload:{_status:-1,_result:$},_init:me}},Ue.memo=function($,ie){return{$$typeof:f,type:$,compare:ie===void 0?null:ie}},Ue.startTransition=function($){var ie=X.transition;X.transition={};try{$()}finally{X.transition=ie}},Ue.unstable_act=de,Ue.useCallback=function($,ie){return oe.current.useCallback($,ie)},Ue.useContext=function($){return oe.current.useContext($)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function($){return oe.current.useDeferredValue($)},Ue.useEffect=function($,ie){return oe.current.useEffect($,ie)},Ue.useId=function(){return oe.current.useId()},Ue.useImperativeHandle=function($,ie,Te){return oe.current.useImperativeHandle($,ie,Te)},Ue.useInsertionEffect=function($,ie){return oe.current.useInsertionEffect($,ie)},Ue.useLayoutEffect=function($,ie){return oe.current.useLayoutEffect($,ie)},Ue.useMemo=function($,ie){return oe.current.useMemo($,ie)},Ue.useReducer=function($,ie,Te){return oe.current.useReducer($,ie,Te)},Ue.useRef=function($){return oe.current.useRef($)},Ue.useState=function($){return oe.current.useState($)},Ue.useSyncExternalStore=function($,ie,Te){return oe.current.useSyncExternalStore($,ie,Te)},Ue.useTransition=function(){return oe.current.useTransition()},Ue.version="18.3.1",Ue}var OI;function Io(){return OI||(OI=1,By.exports=Wx()),By.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NI;function Hx(){if(NI)return Oc;NI=1;var n=Io(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,f){var m,g={},_=null,T=null;f!==void 0&&(_=""+f),d.key!==void 0&&(_=""+d.key),d.ref!==void 0&&(T=d.ref);for(m in d)r.call(d,m)&&!o.hasOwnProperty(m)&&(g[m]=d[m]);if(u&&u.defaultProps)for(m in d=u.defaultProps,d)g[m]===void 0&&(g[m]=d[m]);return{$$typeof:e,type:u,key:_,ref:T,props:g,_owner:i.current}}return Oc.Fragment=t,Oc.jsx=l,Oc.jsxs=l,Oc}var DI;function Kx(){return DI||(DI=1,Uy.exports=Hx()),Uy.exports}var B=Kx(),K=Io();const ze=Rv(K),S_=qx({__proto__:null,default:ze},[K]);var jf={},jy={exports:{}},Yn={},zy={exports:{}},$y={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VI;function Gx(){return VI||(VI=1,function(n){function e(X,pe){var de=X.length;X.push(pe);e:for(;0<de;){var $=de-1>>>1,ie=X[$];if(0<i(ie,pe))X[$]=pe,X[de]=ie,de=$;else break e}}function t(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var pe=X[0],de=X.pop();if(de!==pe){X[0]=de;e:for(var $=0,ie=X.length,Te=ie>>>1;$<Te;){var Ce=2*($+1)-1,Ve=X[Ce],Fe=Ce+1,Ke=X[Fe];if(0>i(Ve,de))Fe<ie&&0>i(Ke,Ve)?(X[$]=Ke,X[Fe]=de,$=Fe):(X[$]=Ve,X[Ce]=de,$=Ce);else if(Fe<ie&&0>i(Ke,de))X[$]=Ke,X[Fe]=de,$=Fe;else break e}}return pe}function i(X,pe){var de=X.sortIndex-pe.sortIndex;return de!==0?de:X.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var d=[],f=[],m=1,g=null,_=3,T=!1,I=!1,R=!1,P=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(X){for(var pe=t(f);pe!==null;){if(pe.callback===null)r(f);else if(pe.startTime<=X)r(f),pe.sortIndex=pe.expirationTime,e(d,pe);else break;pe=t(f)}}function q(X){if(R=!1,U(X),!I)if(t(d)!==null)I=!0,me(j);else{var pe=t(f);pe!==null&&oe(q,pe.startTime-X)}}function j(X,pe){I=!1,R&&(R=!1,L(b),b=-1),T=!0;var de=_;try{for(U(pe),g=t(d);g!==null&&(!(g.expirationTime>pe)||X&&!O());){var $=g.callback;if(typeof $=="function"){g.callback=null,_=g.priorityLevel;var ie=$(g.expirationTime<=pe);pe=n.unstable_now(),typeof ie=="function"?g.callback=ie:g===t(d)&&r(d),U(pe)}else r(d);g=t(d)}if(g!==null)var Te=!0;else{var Ce=t(f);Ce!==null&&oe(q,Ce.startTime-pe),Te=!1}return Te}finally{g=null,_=de,T=!1}}var W=!1,D=null,b=-1,C=5,E=-1;function O(){return!(n.unstable_now()-E<C)}function k(){if(D!==null){var X=n.unstable_now();E=X;var pe=!0;try{pe=D(!0,X)}finally{pe?x():(W=!1,D=null)}}else W=!1}var x;if(typeof V=="function")x=function(){V(k)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,M=ee.port2;ee.port1.onmessage=k,x=function(){M.postMessage(null)}}else x=function(){P(k,0)};function me(X){D=X,W||(W=!0,x())}function oe(X,pe){b=P(function(){X(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_continueExecution=function(){I||T||(I=!0,me(j))},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(X){switch(_){case 1:case 2:case 3:var pe=3;break;default:pe=_}var de=_;_=pe;try{return X()}finally{_=de}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(X,pe){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var de=_;_=X;try{return pe()}finally{_=de}},n.unstable_scheduleCallback=function(X,pe,de){var $=n.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?$+de:$):de=$,X){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=de+ie,X={id:m++,callback:pe,priorityLevel:X,startTime:de,expirationTime:ie,sortIndex:-1},de>$?(X.sortIndex=de,e(f,X),t(d)===null&&X===t(f)&&(R?(L(b),b=-1):R=!0,oe(q,de-$))):(X.sortIndex=ie,e(d,X),I||T||(I=!0,me(j))),X},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(X){var pe=_;return function(){var de=_;_=pe;try{return X.apply(this,arguments)}finally{_=de}}}}($y)),$y}var LI;function Qx(){return LI||(LI=1,zy.exports=Gx()),zy.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MI;function Jx(){if(MI)return Yn;MI=1;var n=Io(),e=Qx();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function _(s){return d.call(g,s)?!0:d.call(m,s)?!1:f.test(s)?g[s]=!0:(m[s]=!0,!1)}function T(s,a,c,p){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function I(s,a,c,p){if(a===null||typeof a>"u"||T(s,a,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function R(s,a,c,p,y,w,A){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=s,this.type=a,this.sanitizeURL=w,this.removeEmptyString=A}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){P[s]=new R(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];P[a]=new R(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){P[s]=new R(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){P[s]=new R(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){P[s]=new R(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){P[s]=new R(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){P[s]=new R(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){P[s]=new R(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){P[s]=new R(s,5,!1,s.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function V(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(L,V);P[a]=new R(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(L,V);P[a]=new R(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(L,V);P[a]=new R(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){P[s]=new R(s,1,!1,s.toLowerCase(),null,!1,!1)}),P.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){P[s]=new R(s,1,!1,s.toLowerCase(),null,!0,!0)});function U(s,a,c,p){var y=P.hasOwnProperty(a)?P[a]:null;(y!==null?y.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(I(a,c,y,p)&&(c=null),p||y===null?_(a)&&(c===null?s.removeAttribute(a):s.setAttribute(a,""+c)):y.mustUseProperty?s[y.propertyName]=c===null?y.type===3?!1:"":c:(a=y.attributeName,p=y.attributeNamespace,c===null?s.removeAttribute(a):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,p?s.setAttributeNS(p,a,c):s.setAttribute(a,c))))}var q=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),W=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),O=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),X=Symbol.iterator;function pe(s){return s===null||typeof s!="object"?null:(s=X&&s[X]||s["@@iterator"],typeof s=="function"?s:null)}var de=Object.assign,$;function ie(s){if($===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);$=a&&a[1]||""}return`
`+$+s}var Te=!1;function Ce(s,a){if(!s||Te)return"";Te=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Z){var p=Z}Reflect.construct(s,[],a)}else{try{a.call()}catch(Z){p=Z}s.call(a.prototype)}else{try{throw Error()}catch(Z){p=Z}s()}}catch(Z){if(Z&&p&&typeof Z.stack=="string"){for(var y=Z.stack.split(`
`),w=p.stack.split(`
`),A=y.length-1,F=w.length-1;1<=A&&0<=F&&y[A]!==w[F];)F--;for(;1<=A&&0<=F;A--,F--)if(y[A]!==w[F]){if(A!==1||F!==1)do if(A--,F--,0>F||y[A]!==w[F]){var z=`
`+y[A].replace(" at new "," at ");return s.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",s.displayName)),z}while(1<=A&&0<=F);break}}}finally{Te=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?ie(s):""}function Ve(s){switch(s.tag){case 5:return ie(s.type);case 16:return ie("Lazy");case 13:return ie("Suspense");case 19:return ie("SuspenseList");case 0:case 2:case 15:return s=Ce(s.type,!1),s;case 11:return s=Ce(s.type.render,!1),s;case 1:return s=Ce(s.type,!0),s;default:return""}}function Fe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case W:return"Portal";case C:return"Profiler";case b:return"StrictMode";case x:return"Suspense";case ee:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case O:return(s.displayName||"Context")+".Consumer";case E:return(s._context.displayName||"Context")+".Provider";case k:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case M:return a=s.displayName||null,a!==null?a:Fe(s.type)||"Memo";case me:a=s._payload,s=s._init;try{return Fe(s(a))}catch{}}return null}function Ke(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fe(a);case 8:return a===b?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function We(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function tt(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function gt(s){var a=tt(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),p=""+s[a];if(!s.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,w=c.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return y.call(this)},set:function(A){p=""+A,w.call(this,A)}}),Object.defineProperty(s,a,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(A){p=""+A},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function on(s){s._valueTracker||(s._valueTracker=gt(s))}function nt(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),p="";return s&&(p=tt(s)?s.checked?"true":"false":s.value),s=p,s!==c?(a.setValue(s),!0):!1}function ht(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Yt(s,a){var c=a.checked;return de({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function Fr(s,a){var c=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;c=We(a.value!=null?a.value:c),s._wrapperState={initialChecked:p,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Er(s,a){a=a.checked,a!=null&&U(s,"checked",a,!1)}function Ir(s,a){Er(s,a);var c=We(a.value),p=a.type;if(c!=null)p==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?$n(s,a.type,c):a.hasOwnProperty("defaultValue")&&$n(s,a.type,We(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function zn(s,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,c||a===s.value||(s.value=a),s.defaultValue=a}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function $n(s,a,c){(a!=="number"||ht(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var ir=Array.isArray;function Fi(s,a,c,p){if(s=s.options,a){a={};for(var y=0;y<c.length;y++)a["$"+c[y]]=!0;for(c=0;c<s.length;c++)y=a.hasOwnProperty("$"+s[c].value),s[c].selected!==y&&(s[c].selected=y),y&&p&&(s[c].defaultSelected=!0)}else{for(c=""+We(c),a=null,y=0;y<s.length;y++){if(s[y].value===c){s[y].selected=!0,p&&(s[y].defaultSelected=!0);return}a!==null||s[y].disabled||(a=s[y])}a!==null&&(a.selected=!0)}}function Bu(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return de({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Ua(s,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(ir(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}s._wrapperState={initialValue:We(c)}}function Ba(s,a){var c=We(a.value),p=We(a.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),a.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),p!=null&&(s.defaultValue=""+p)}function ju(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function Xt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zt(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?Xt(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Ui,zu=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,p,y){MSApp.execUnsafeLocalFunction(function(){return s(a,c,p,y)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Ui=Ui||document.createElement("div"),Ui.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Ui.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Rs(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var xo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Oo=["Webkit","ms","Moz","O"];Object.keys(xo).forEach(function(s){Oo.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),xo[a]=xo[s]})});function $u(s,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||xo.hasOwnProperty(s)&&xo[s]?(""+a).trim():a+"px"}function qu(s,a){s=s.style;for(var c in a)if(a.hasOwnProperty(c)){var p=c.indexOf("--")===0,y=$u(c,a[c],p);c==="float"&&(c="cssFloat"),p?s.setProperty(c,y):s[c]=y}}var Wu=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hu(s,a){if(a){if(Wu[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Ku(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var No=null;function ja(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var za=null,Tr=null,si=null;function $a(s){if(s=yc(s)){if(typeof za!="function")throw Error(t(280));var a=s.stateNode;a&&(a=tf(a),za(s.stateNode,s.type,a))}}function oi(s){Tr?si?si.push(s):si=[s]:Tr=s}function Gu(){if(Tr){var s=Tr,a=si;if(si=Tr=null,$a(s),a)for(s=0;s<a.length;s++)$a(a[s])}}function Do(s,a){return s(a)}function Qu(){}var Bi=!1;function Ju(s,a,c){if(Bi)return s(a,c);Bi=!0;try{return Do(s,a,c)}finally{Bi=!1,(Tr!==null||si!==null)&&(Qu(),Gu())}}function Ft(s,a){var c=s.stateNode;if(c===null)return null;var p=tf(c);if(p===null)return null;c=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var qa=!1;if(u)try{var Ur={};Object.defineProperty(Ur,"passive",{get:function(){qa=!0}}),window.addEventListener("test",Ur,Ur),window.removeEventListener("test",Ur,Ur)}catch{qa=!1}function Vo(s,a,c,p,y,w,A,F,z){var Z=Array.prototype.slice.call(arguments,3);try{a.apply(c,Z)}catch(ce){this.onError(ce)}}var Lo=!1,Wa=null,Br=!1,Yu=null,fg={onError:function(s){Lo=!0,Wa=s}};function Ha(s,a,c,p,y,w,A,F,z){Lo=!1,Wa=null,Vo.apply(fg,arguments)}function bh(s,a,c,p,y,w,A,F,z){if(Ha.apply(this,arguments),Lo){if(Lo){var Z=Wa;Lo=!1,Wa=null}else throw Error(t(198));Br||(Br=!0,Yu=Z)}}function jr(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,a.flags&4098&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function Mo(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function zr(s){if(jr(s)!==s)throw Error(t(188))}function Ah(s){var a=s.alternate;if(!a){if(a=jr(s),a===null)throw Error(t(188));return a!==s?null:s}for(var c=s,p=a;;){var y=c.return;if(y===null)break;var w=y.alternate;if(w===null){if(p=y.return,p!==null){c=p;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===c)return zr(y),s;if(w===p)return zr(y),a;w=w.sibling}throw Error(t(188))}if(c.return!==p.return)c=y,p=w;else{for(var A=!1,F=y.child;F;){if(F===c){A=!0,c=y,p=w;break}if(F===p){A=!0,p=y,c=w;break}F=F.sibling}if(!A){for(F=w.child;F;){if(F===c){A=!0,c=w,p=y;break}if(F===p){A=!0,p=w,c=y;break}F=F.sibling}if(!A)throw Error(t(189))}}if(c.alternate!==p)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:a}function Xu(s){return s=Ah(s),s!==null?Ka(s):null}function Ka(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Ka(s);if(a!==null)return a;s=s.sibling}return null}var Ga=e.unstable_scheduleCallback,Zu=e.unstable_cancelCallback,Ph=e.unstable_shouldYield,pg=e.unstable_requestPaint,ut=e.unstable_now,Ch=e.unstable_getCurrentPriorityLevel,Fo=e.unstable_ImmediatePriority,bs=e.unstable_UserBlockingPriority,Sr=e.unstable_NormalPriority,ec=e.unstable_LowPriority,kh=e.unstable_IdlePriority,Uo=null,sr=null;function xh(s){if(sr&&typeof sr.onCommitFiberRoot=="function")try{sr.onCommitFiberRoot(Uo,s,void 0,(s.current.flags&128)===128)}catch{}}var Nn=Math.clz32?Math.clz32:Nh,tc=Math.log,Oh=Math.LN2;function Nh(s){return s>>>=0,s===0?32:31-(tc(s)/Oh|0)|0}var Qa=64,Ja=4194304;function As(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Bo(s,a){var c=s.pendingLanes;if(c===0)return 0;var p=0,y=s.suspendedLanes,w=s.pingedLanes,A=c&268435455;if(A!==0){var F=A&~y;F!==0?p=As(F):(w&=A,w!==0&&(p=As(w)))}else A=c&~y,A!==0?p=As(A):w!==0&&(p=As(w));if(p===0)return 0;if(a!==0&&a!==p&&!(a&y)&&(y=p&-p,w=a&-a,y>=w||y===16&&(w&4194240)!==0))return a;if(p&4&&(p|=c&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=p;0<a;)c=31-Nn(a),y=1<<c,p|=s[c],a&=~y;return p}function mg(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ji(s,a){for(var c=s.suspendedLanes,p=s.pingedLanes,y=s.expirationTimes,w=s.pendingLanes;0<w;){var A=31-Nn(w),F=1<<A,z=y[A];z===-1?(!(F&c)||F&p)&&(y[A]=mg(F,a)):z<=a&&(s.expiredLanes|=F),w&=~F}}function or(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function jo(){var s=Qa;return Qa<<=1,!(Qa&4194240)&&(Qa=64),s}function Ps(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function Cs(s,a,c){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-Nn(a),s[a]=c}function ot(s,a){var c=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<c;){var y=31-Nn(c),w=1<<y;a[y]=0,p[y]=-1,s[y]=-1,c&=~w}}function ks(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var p=31-Nn(c),y=1<<p;y&a|s[p]&a&&(s[p]|=a),c&=~y}}var He=0;function xs(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var Dh,Ya,Vh,Lh,Mh,nc=!1,ai=[],mn=null,$r=null,qr=null,Os=new Map,Rr=new Map,li=[],gg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fh(s,a){switch(s){case"focusin":case"focusout":mn=null;break;case"dragenter":case"dragleave":$r=null;break;case"mouseover":case"mouseout":qr=null;break;case"pointerover":case"pointerout":Os.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rr.delete(a.pointerId)}}function qn(s,a,c,p,y,w){return s===null||s.nativeEvent!==w?(s={blockedOn:a,domEventName:c,eventSystemFlags:p,nativeEvent:w,targetContainers:[y]},a!==null&&(a=yc(a),a!==null&&Ya(a)),s):(s.eventSystemFlags|=p,a=s.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),s)}function yg(s,a,c,p,y){switch(a){case"focusin":return mn=qn(mn,s,a,c,p,y),!0;case"dragenter":return $r=qn($r,s,a,c,p,y),!0;case"mouseover":return qr=qn(qr,s,a,c,p,y),!0;case"pointerover":var w=y.pointerId;return Os.set(w,qn(Os.get(w)||null,s,a,c,p,y)),!0;case"gotpointercapture":return w=y.pointerId,Rr.set(w,qn(Rr.get(w)||null,s,a,c,p,y)),!0}return!1}function Uh(s){var a=Ho(s.target);if(a!==null){var c=jr(a);if(c!==null){if(a=c.tag,a===13){if(a=Mo(c),a!==null){s.blockedOn=a,Mh(s.priority,function(){Vh(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function zi(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=Xa(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var p=new c.constructor(c.type,c);No=p,c.target.dispatchEvent(p),No=null}else return a=yc(c),a!==null&&Ya(a),s.blockedOn=c,!1;a.shift()}return!0}function zo(s,a,c){zi(s)&&c.delete(a)}function Bh(){nc=!1,mn!==null&&zi(mn)&&(mn=null),$r!==null&&zi($r)&&($r=null),qr!==null&&zi(qr)&&(qr=null),Os.forEach(zo),Rr.forEach(zo)}function Wr(s,a){s.blockedOn===a&&(s.blockedOn=null,nc||(nc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Bh)))}function Hr(s){function a(y){return Wr(y,s)}if(0<ai.length){Wr(ai[0],s);for(var c=1;c<ai.length;c++){var p=ai[c];p.blockedOn===s&&(p.blockedOn=null)}}for(mn!==null&&Wr(mn,s),$r!==null&&Wr($r,s),qr!==null&&Wr(qr,s),Os.forEach(a),Rr.forEach(a),c=0;c<li.length;c++)p=li[c],p.blockedOn===s&&(p.blockedOn=null);for(;0<li.length&&(c=li[0],c.blockedOn===null);)Uh(c),c.blockedOn===null&&li.shift()}var $i=q.ReactCurrentBatchConfig,Ns=!0;function yt(s,a,c,p){var y=He,w=$i.transition;$i.transition=null;try{He=1,rc(s,a,c,p)}finally{He=y,$i.transition=w}}function _g(s,a,c,p){var y=He,w=$i.transition;$i.transition=null;try{He=4,rc(s,a,c,p)}finally{He=y,$i.transition=w}}function rc(s,a,c,p){if(Ns){var y=Xa(s,a,c,p);if(y===null)Cg(s,a,p,$o,c),Fh(s,p);else if(yg(y,s,a,c,p))p.stopPropagation();else if(Fh(s,p),a&4&&-1<gg.indexOf(s)){for(;y!==null;){var w=yc(y);if(w!==null&&Dh(w),w=Xa(s,a,c,p),w===null&&Cg(s,a,p,$o,c),w===y)break;y=w}y!==null&&p.stopPropagation()}else Cg(s,a,p,null,c)}}var $o=null;function Xa(s,a,c,p){if($o=null,s=ja(p),s=Ho(s),s!==null)if(a=jr(s),a===null)s=null;else if(c=a.tag,c===13){if(s=Mo(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return $o=s,null}function ic(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ch()){case Fo:return 1;case bs:return 4;case Sr:case ec:return 16;case kh:return 536870912;default:return 16}default:return 16}}var ar=null,Za=null,Wn=null;function sc(){if(Wn)return Wn;var s,a=Za,c=a.length,p,y="value"in ar?ar.value:ar.textContent,w=y.length;for(s=0;s<c&&a[s]===y[s];s++);var A=c-s;for(p=1;p<=A&&a[c-p]===y[w-p];p++);return Wn=y.slice(s,1<p?1-p:void 0)}function el(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function ui(){return!0}function oc(){return!1}function gn(s){function a(c,p,y,w,A){this._reactName=c,this._targetInst=y,this.type=p,this.nativeEvent=w,this.target=A,this.currentTarget=null;for(var F in s)s.hasOwnProperty(F)&&(c=s[F],this[F]=c?c(w):w[F]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?ui:oc,this.isPropagationStopped=oc,this}return de(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ui)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ui)},persist:function(){},isPersistent:ui}),a}var Kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tl=gn(Kr),ci=de({},Kr,{view:0,detail:0}),vg=gn(ci),nl,qi,Ds,qo=de({},ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:di,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ds&&(Ds&&s.type==="mousemove"?(nl=s.screenX-Ds.screenX,qi=s.screenY-Ds.screenY):qi=nl=0,Ds=s),nl)},movementY:function(s){return"movementY"in s?s.movementY:qi}}),rl=gn(qo),ac=de({},qo,{dataTransfer:0}),jh=gn(ac),il=de({},ci,{relatedTarget:0}),sl=gn(il),zh=de({},Kr,{animationName:0,elapsedTime:0,pseudoElement:0}),Wi=gn(zh),$h=de({},Kr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),qh=gn($h),Wh=de({},Kr,{data:0}),lc=gn(Wh),ol={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kh(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Hh[s])?!!a[s]:!1}function di(){return Kh}var h=de({},ci,{key:function(s){if(s.key){var a=ol[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=el(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Dn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:di,charCode:function(s){return s.type==="keypress"?el(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?el(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),v=gn(h),S=de({},qo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),N=gn(S),Q=de({},ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:di}),ne=gn(Q),ye=de({},Kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),rt=gn(ye),en=de({},qo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ge=gn(en),an=[9,13,27,32],qt=u&&"CompositionEvent"in window,br=null;u&&"documentMode"in document&&(br=document.documentMode);var lr=u&&"TextEvent"in window&&!br,Wo=u&&(!qt||br&&8<br&&11>=br),al=" ",Rw=!1;function bw(s,a){switch(s){case"keyup":return an.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Aw(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ll=!1;function jk(s,a){switch(s){case"compositionend":return Aw(a);case"keypress":return a.which!==32?null:(Rw=!0,al);case"textInput":return s=a.data,s===al&&Rw?null:s;default:return null}}function zk(s,a){if(ll)return s==="compositionend"||!qt&&bw(s,a)?(s=sc(),Wn=Za=ar=null,ll=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Wo&&a.locale!=="ko"?null:a.data;default:return null}}var $k={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pw(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!$k[s.type]:a==="textarea"}function Cw(s,a,c,p){oi(p),a=Xh(a,"onChange"),0<a.length&&(c=new tl("onChange","change",null,c,p),s.push({event:c,listeners:a}))}var uc=null,cc=null;function qk(s){Kw(s,0)}function Gh(s){var a=fl(s);if(nt(a))return s}function Wk(s,a){if(s==="change")return a}var kw=!1;if(u){var wg;if(u){var Eg="oninput"in document;if(!Eg){var xw=document.createElement("div");xw.setAttribute("oninput","return;"),Eg=typeof xw.oninput=="function"}wg=Eg}else wg=!1;kw=wg&&(!document.documentMode||9<document.documentMode)}function Ow(){uc&&(uc.detachEvent("onpropertychange",Nw),cc=uc=null)}function Nw(s){if(s.propertyName==="value"&&Gh(cc)){var a=[];Cw(a,cc,s,ja(s)),Ju(qk,a)}}function Hk(s,a,c){s==="focusin"?(Ow(),uc=a,cc=c,uc.attachEvent("onpropertychange",Nw)):s==="focusout"&&Ow()}function Kk(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Gh(cc)}function Gk(s,a){if(s==="click")return Gh(a)}function Qk(s,a){if(s==="input"||s==="change")return Gh(a)}function Jk(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Gr=typeof Object.is=="function"?Object.is:Jk;function dc(s,a){if(Gr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),p=Object.keys(a);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var y=c[p];if(!d.call(a,y)||!Gr(s[y],a[y]))return!1}return!0}function Dw(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Vw(s,a){var c=Dw(s);s=0;for(var p;c;){if(c.nodeType===3){if(p=s+c.textContent.length,s<=a&&p>=a)return{node:c,offset:a-s};s=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Dw(c)}}function Lw(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Lw(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Mw(){for(var s=window,a=ht();a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=ht(s.document)}return a}function Ig(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function Yk(s){var a=Mw(),c=s.focusedElem,p=s.selectionRange;if(a!==c&&c&&c.ownerDocument&&Lw(c.ownerDocument.documentElement,c)){if(p!==null&&Ig(c)){if(a=p.start,s=p.end,s===void 0&&(s=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(s,c.value.length);else if(s=(a=c.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var y=c.textContent.length,w=Math.min(p.start,y);p=p.end===void 0?w:Math.min(p.end,y),!s.extend&&w>p&&(y=p,p=w,w=y),y=Vw(c,w);var A=Vw(c,p);y&&A&&(s.rangeCount!==1||s.anchorNode!==y.node||s.anchorOffset!==y.offset||s.focusNode!==A.node||s.focusOffset!==A.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),s.removeAllRanges(),w>p?(s.addRange(a),s.extend(A.node,A.offset)):(a.setEnd(A.node,A.offset),s.addRange(a)))}}for(a=[],s=c;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)s=a[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Xk=u&&"documentMode"in document&&11>=document.documentMode,ul=null,Tg=null,hc=null,Sg=!1;function Fw(s,a,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Sg||ul==null||ul!==ht(p)||(p=ul,"selectionStart"in p&&Ig(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),hc&&dc(hc,p)||(hc=p,p=Xh(Tg,"onSelect"),0<p.length&&(a=new tl("onSelect","select",null,a,c),s.push({event:a,listeners:p}),a.target=ul)))}function Qh(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var cl={animationend:Qh("Animation","AnimationEnd"),animationiteration:Qh("Animation","AnimationIteration"),animationstart:Qh("Animation","AnimationStart"),transitionend:Qh("Transition","TransitionEnd")},Rg={},Uw={};u&&(Uw=document.createElement("div").style,"AnimationEvent"in window||(delete cl.animationend.animation,delete cl.animationiteration.animation,delete cl.animationstart.animation),"TransitionEvent"in window||delete cl.transitionend.transition);function Jh(s){if(Rg[s])return Rg[s];if(!cl[s])return s;var a=cl[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in Uw)return Rg[s]=a[c];return s}var Bw=Jh("animationend"),jw=Jh("animationiteration"),zw=Jh("animationstart"),$w=Jh("transitionend"),qw=new Map,Ww="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vs(s,a){qw.set(s,a),o(a,[s])}for(var bg=0;bg<Ww.length;bg++){var Ag=Ww[bg],Zk=Ag.toLowerCase(),ex=Ag[0].toUpperCase()+Ag.slice(1);Vs(Zk,"on"+ex)}Vs(Bw,"onAnimationEnd"),Vs(jw,"onAnimationIteration"),Vs(zw,"onAnimationStart"),Vs("dblclick","onDoubleClick"),Vs("focusin","onFocus"),Vs("focusout","onBlur"),Vs($w,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tx=new Set("cancel close invalid load scroll toggle".split(" ").concat(fc));function Hw(s,a,c){var p=s.type||"unknown-event";s.currentTarget=c,bh(p,a,void 0,s),s.currentTarget=null}function Kw(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var p=s[c],y=p.event;p=p.listeners;e:{var w=void 0;if(a)for(var A=p.length-1;0<=A;A--){var F=p[A],z=F.instance,Z=F.currentTarget;if(F=F.listener,z!==w&&y.isPropagationStopped())break e;Hw(y,F,Z),w=z}else for(A=0;A<p.length;A++){if(F=p[A],z=F.instance,Z=F.currentTarget,F=F.listener,z!==w&&y.isPropagationStopped())break e;Hw(y,F,Z),w=z}}}if(Br)throw s=Yu,Br=!1,Yu=null,s}function ft(s,a){var c=a[Vg];c===void 0&&(c=a[Vg]=new Set);var p=s+"__bubble";c.has(p)||(Gw(a,s,2,!1),c.add(p))}function Pg(s,a,c){var p=0;a&&(p|=4),Gw(c,s,p,a)}var Yh="_reactListening"+Math.random().toString(36).slice(2);function pc(s){if(!s[Yh]){s[Yh]=!0,r.forEach(function(c){c!=="selectionchange"&&(tx.has(c)||Pg(c,!1,s),Pg(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Yh]||(a[Yh]=!0,Pg("selectionchange",!1,a))}}function Gw(s,a,c,p){switch(ic(a)){case 1:var y=yt;break;case 4:y=_g;break;default:y=rc}c=y.bind(null,a,c,s),y=void 0,!qa||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),p?y!==void 0?s.addEventListener(a,c,{capture:!0,passive:y}):s.addEventListener(a,c,!0):y!==void 0?s.addEventListener(a,c,{passive:y}):s.addEventListener(a,c,!1)}function Cg(s,a,c,p,y){var w=p;if(!(a&1)&&!(a&2)&&p!==null)e:for(;;){if(p===null)return;var A=p.tag;if(A===3||A===4){var F=p.stateNode.containerInfo;if(F===y||F.nodeType===8&&F.parentNode===y)break;if(A===4)for(A=p.return;A!==null;){var z=A.tag;if((z===3||z===4)&&(z=A.stateNode.containerInfo,z===y||z.nodeType===8&&z.parentNode===y))return;A=A.return}for(;F!==null;){if(A=Ho(F),A===null)return;if(z=A.tag,z===5||z===6){p=w=A;continue e}F=F.parentNode}}p=p.return}Ju(function(){var Z=w,ce=ja(c),he=[];e:{var le=qw.get(s);if(le!==void 0){var we=tl,Se=s;switch(s){case"keypress":if(el(c)===0)break e;case"keydown":case"keyup":we=v;break;case"focusin":Se="focus",we=sl;break;case"focusout":Se="blur",we=sl;break;case"beforeblur":case"afterblur":we=sl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=rl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=jh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=ne;break;case Bw:case jw:case zw:we=Wi;break;case $w:we=rt;break;case"scroll":we=vg;break;case"wheel":we=Ge;break;case"copy":case"cut":case"paste":we=qh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=N}var be=(a&4)!==0,Ut=!be&&s==="scroll",J=be?le!==null?le+"Capture":null:le;be=[];for(var H=Z,Y;H!==null;){Y=H;var ge=Y.stateNode;if(Y.tag===5&&ge!==null&&(Y=ge,J!==null&&(ge=Ft(H,J),ge!=null&&be.push(mc(H,ge,Y)))),Ut)break;H=H.return}0<be.length&&(le=new we(le,Se,null,c,ce),he.push({event:le,listeners:be}))}}if(!(a&7)){e:{if(le=s==="mouseover"||s==="pointerover",we=s==="mouseout"||s==="pointerout",le&&c!==No&&(Se=c.relatedTarget||c.fromElement)&&(Ho(Se)||Se[Hi]))break e;if((we||le)&&(le=ce.window===ce?ce:(le=ce.ownerDocument)?le.defaultView||le.parentWindow:window,we?(Se=c.relatedTarget||c.toElement,we=Z,Se=Se?Ho(Se):null,Se!==null&&(Ut=jr(Se),Se!==Ut||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(we=null,Se=Z),we!==Se)){if(be=rl,ge="onMouseLeave",J="onMouseEnter",H="mouse",(s==="pointerout"||s==="pointerover")&&(be=N,ge="onPointerLeave",J="onPointerEnter",H="pointer"),Ut=we==null?le:fl(we),Y=Se==null?le:fl(Se),le=new be(ge,H+"leave",we,c,ce),le.target=Ut,le.relatedTarget=Y,ge=null,Ho(ce)===Z&&(be=new be(J,H+"enter",Se,c,ce),be.target=Y,be.relatedTarget=Ut,ge=be),Ut=ge,we&&Se)t:{for(be=we,J=Se,H=0,Y=be;Y;Y=dl(Y))H++;for(Y=0,ge=J;ge;ge=dl(ge))Y++;for(;0<H-Y;)be=dl(be),H--;for(;0<Y-H;)J=dl(J),Y--;for(;H--;){if(be===J||J!==null&&be===J.alternate)break t;be=dl(be),J=dl(J)}be=null}else be=null;we!==null&&Qw(he,le,we,be,!1),Se!==null&&Ut!==null&&Qw(he,Ut,Se,be,!0)}}e:{if(le=Z?fl(Z):window,we=le.nodeName&&le.nodeName.toLowerCase(),we==="select"||we==="input"&&le.type==="file")var Ae=Wk;else if(Pw(le))if(kw)Ae=Qk;else{Ae=Kk;var xe=Hk}else(we=le.nodeName)&&we.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(Ae=Gk);if(Ae&&(Ae=Ae(s,Z))){Cw(he,Ae,c,ce);break e}xe&&xe(s,le,Z),s==="focusout"&&(xe=le._wrapperState)&&xe.controlled&&le.type==="number"&&$n(le,"number",le.value)}switch(xe=Z?fl(Z):window,s){case"focusin":(Pw(xe)||xe.contentEditable==="true")&&(ul=xe,Tg=Z,hc=null);break;case"focusout":hc=Tg=ul=null;break;case"mousedown":Sg=!0;break;case"contextmenu":case"mouseup":case"dragend":Sg=!1,Fw(he,c,ce);break;case"selectionchange":if(Xk)break;case"keydown":case"keyup":Fw(he,c,ce)}var Oe;if(qt)e:{switch(s){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else ll?bw(s,c)&&(Ne="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Ne="onCompositionStart");Ne&&(Wo&&c.locale!=="ko"&&(ll||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&ll&&(Oe=sc()):(ar=ce,Za="value"in ar?ar.value:ar.textContent,ll=!0)),xe=Xh(Z,Ne),0<xe.length&&(Ne=new lc(Ne,s,null,c,ce),he.push({event:Ne,listeners:xe}),Oe?Ne.data=Oe:(Oe=Aw(c),Oe!==null&&(Ne.data=Oe)))),(Oe=lr?jk(s,c):zk(s,c))&&(Z=Xh(Z,"onBeforeInput"),0<Z.length&&(ce=new lc("onBeforeInput","beforeinput",null,c,ce),he.push({event:ce,listeners:Z}),ce.data=Oe))}Kw(he,a)})}function mc(s,a,c){return{instance:s,listener:a,currentTarget:c}}function Xh(s,a){for(var c=a+"Capture",p=[];s!==null;){var y=s,w=y.stateNode;y.tag===5&&w!==null&&(y=w,w=Ft(s,c),w!=null&&p.unshift(mc(s,w,y)),w=Ft(s,a),w!=null&&p.push(mc(s,w,y))),s=s.return}return p}function dl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Qw(s,a,c,p,y){for(var w=a._reactName,A=[];c!==null&&c!==p;){var F=c,z=F.alternate,Z=F.stateNode;if(z!==null&&z===p)break;F.tag===5&&Z!==null&&(F=Z,y?(z=Ft(c,w),z!=null&&A.unshift(mc(c,z,F))):y||(z=Ft(c,w),z!=null&&A.push(mc(c,z,F)))),c=c.return}A.length!==0&&s.push({event:a,listeners:A})}var nx=/\r\n?/g,rx=/\u0000|\uFFFD/g;function Jw(s){return(typeof s=="string"?s:""+s).replace(nx,`
`).replace(rx,"")}function Zh(s,a,c){if(a=Jw(a),Jw(s)!==a&&c)throw Error(t(425))}function ef(){}var kg=null,xg=null;function Og(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Ng=typeof setTimeout=="function"?setTimeout:void 0,ix=typeof clearTimeout=="function"?clearTimeout:void 0,Yw=typeof Promise=="function"?Promise:void 0,sx=typeof queueMicrotask=="function"?queueMicrotask:typeof Yw<"u"?function(s){return Yw.resolve(null).then(s).catch(ox)}:Ng;function ox(s){setTimeout(function(){throw s})}function Dg(s,a){var c=a,p=0;do{var y=c.nextSibling;if(s.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(p===0){s.removeChild(y),Hr(a);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=y}while(c);Hr(a)}function Ls(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function Xw(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return s;a--}else c==="/$"&&a++}s=s.previousSibling}return null}var hl=Math.random().toString(36).slice(2),hi="__reactFiber$"+hl,gc="__reactProps$"+hl,Hi="__reactContainer$"+hl,Vg="__reactEvents$"+hl,ax="__reactListeners$"+hl,lx="__reactHandles$"+hl;function Ho(s){var a=s[hi];if(a)return a;for(var c=s.parentNode;c;){if(a=c[Hi]||c[hi]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=Xw(s);s!==null;){if(c=s[hi])return c;s=Xw(s)}return a}s=c,c=s.parentNode}return null}function yc(s){return s=s[hi]||s[Hi],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function fl(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function tf(s){return s[gc]||null}var Lg=[],pl=-1;function Ms(s){return{current:s}}function pt(s){0>pl||(s.current=Lg[pl],Lg[pl]=null,pl--)}function ct(s,a){pl++,Lg[pl]=s.current,s.current=a}var Fs={},Tn=Ms(Fs),Hn=Ms(!1),Ko=Fs;function ml(s,a){var c=s.type.contextTypes;if(!c)return Fs;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var y={},w;for(w in c)y[w]=a[w];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=y),y}function Kn(s){return s=s.childContextTypes,s!=null}function nf(){pt(Hn),pt(Tn)}function Zw(s,a,c){if(Tn.current!==Fs)throw Error(t(168));ct(Tn,a),ct(Hn,c)}function eE(s,a,c){var p=s.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var y in p)if(!(y in a))throw Error(t(108,Ke(s)||"Unknown",y));return de({},c,p)}function rf(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Fs,Ko=Tn.current,ct(Tn,s),ct(Hn,Hn.current),!0}function tE(s,a,c){var p=s.stateNode;if(!p)throw Error(t(169));c?(s=eE(s,a,Ko),p.__reactInternalMemoizedMergedChildContext=s,pt(Hn),pt(Tn),ct(Tn,s)):pt(Hn),ct(Hn,c)}var Ki=null,sf=!1,Mg=!1;function nE(s){Ki===null?Ki=[s]:Ki.push(s)}function ux(s){sf=!0,nE(s)}function Us(){if(!Mg&&Ki!==null){Mg=!0;var s=0,a=He;try{var c=Ki;for(He=1;s<c.length;s++){var p=c[s];do p=p(!0);while(p!==null)}Ki=null,sf=!1}catch(y){throw Ki!==null&&(Ki=Ki.slice(s+1)),Ga(Fo,Us),y}finally{He=a,Mg=!1}}return null}var gl=[],yl=0,of=null,af=0,Ar=[],Pr=0,Go=null,Gi=1,Qi="";function Qo(s,a){gl[yl++]=af,gl[yl++]=of,of=s,af=a}function rE(s,a,c){Ar[Pr++]=Gi,Ar[Pr++]=Qi,Ar[Pr++]=Go,Go=s;var p=Gi;s=Qi;var y=32-Nn(p)-1;p&=~(1<<y),c+=1;var w=32-Nn(a)+y;if(30<w){var A=y-y%5;w=(p&(1<<A)-1).toString(32),p>>=A,y-=A,Gi=1<<32-Nn(a)+y|c<<y|p,Qi=w+s}else Gi=1<<w|c<<y|p,Qi=s}function Fg(s){s.return!==null&&(Qo(s,1),rE(s,1,0))}function Ug(s){for(;s===of;)of=gl[--yl],gl[yl]=null,af=gl[--yl],gl[yl]=null;for(;s===Go;)Go=Ar[--Pr],Ar[Pr]=null,Qi=Ar[--Pr],Ar[Pr]=null,Gi=Ar[--Pr],Ar[Pr]=null}var ur=null,cr=null,_t=!1,Qr=null;function iE(s,a){var c=Or(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=s,a=s.deletions,a===null?(s.deletions=[c],s.flags|=16):a.push(c)}function sE(s,a){switch(s.tag){case 5:var c=s.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,ur=s,cr=Ls(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,ur=s,cr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=Go!==null?{id:Gi,overflow:Qi}:null,s.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=Or(18,null,null,0),c.stateNode=a,c.return=s,s.child=c,ur=s,cr=null,!0):!1;default:return!1}}function Bg(s){return(s.mode&1)!==0&&(s.flags&128)===0}function jg(s){if(_t){var a=cr;if(a){var c=a;if(!sE(s,a)){if(Bg(s))throw Error(t(418));a=Ls(c.nextSibling);var p=ur;a&&sE(s,a)?iE(p,c):(s.flags=s.flags&-4097|2,_t=!1,ur=s)}}else{if(Bg(s))throw Error(t(418));s.flags=s.flags&-4097|2,_t=!1,ur=s}}}function oE(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;ur=s}function lf(s){if(s!==ur)return!1;if(!_t)return oE(s),_t=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Og(s.type,s.memoizedProps)),a&&(a=cr)){if(Bg(s))throw aE(),Error(t(418));for(;a;)iE(s,a),a=Ls(a.nextSibling)}if(oE(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(a===0){cr=Ls(s.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}s=s.nextSibling}cr=null}}else cr=ur?Ls(s.stateNode.nextSibling):null;return!0}function aE(){for(var s=cr;s;)s=Ls(s.nextSibling)}function _l(){cr=ur=null,_t=!1}function zg(s){Qr===null?Qr=[s]:Qr.push(s)}var cx=q.ReactCurrentBatchConfig;function _c(s,a,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var p=c.stateNode}if(!p)throw Error(t(147,s));var y=p,w=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===w?a.ref:(a=function(A){var F=y.refs;A===null?delete F[w]:F[w]=A},a._stringRef=w,a)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function uf(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function lE(s){var a=s._init;return a(s._payload)}function uE(s){function a(J,H){if(s){var Y=J.deletions;Y===null?(J.deletions=[H],J.flags|=16):Y.push(H)}}function c(J,H){if(!s)return null;for(;H!==null;)a(J,H),H=H.sibling;return null}function p(J,H){for(J=new Map;H!==null;)H.key!==null?J.set(H.key,H):J.set(H.index,H),H=H.sibling;return J}function y(J,H){return J=Ks(J,H),J.index=0,J.sibling=null,J}function w(J,H,Y){return J.index=Y,s?(Y=J.alternate,Y!==null?(Y=Y.index,Y<H?(J.flags|=2,H):Y):(J.flags|=2,H)):(J.flags|=1048576,H)}function A(J){return s&&J.alternate===null&&(J.flags|=2),J}function F(J,H,Y,ge){return H===null||H.tag!==6?(H=Ny(Y,J.mode,ge),H.return=J,H):(H=y(H,Y),H.return=J,H)}function z(J,H,Y,ge){var Ae=Y.type;return Ae===D?ce(J,H,Y.props.children,ge,Y.key):H!==null&&(H.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===me&&lE(Ae)===H.type)?(ge=y(H,Y.props),ge.ref=_c(J,H,Y),ge.return=J,ge):(ge=Nf(Y.type,Y.key,Y.props,null,J.mode,ge),ge.ref=_c(J,H,Y),ge.return=J,ge)}function Z(J,H,Y,ge){return H===null||H.tag!==4||H.stateNode.containerInfo!==Y.containerInfo||H.stateNode.implementation!==Y.implementation?(H=Dy(Y,J.mode,ge),H.return=J,H):(H=y(H,Y.children||[]),H.return=J,H)}function ce(J,H,Y,ge,Ae){return H===null||H.tag!==7?(H=ra(Y,J.mode,ge,Ae),H.return=J,H):(H=y(H,Y),H.return=J,H)}function he(J,H,Y){if(typeof H=="string"&&H!==""||typeof H=="number")return H=Ny(""+H,J.mode,Y),H.return=J,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case j:return Y=Nf(H.type,H.key,H.props,null,J.mode,Y),Y.ref=_c(J,null,H),Y.return=J,Y;case W:return H=Dy(H,J.mode,Y),H.return=J,H;case me:var ge=H._init;return he(J,ge(H._payload),Y)}if(ir(H)||pe(H))return H=ra(H,J.mode,Y,null),H.return=J,H;uf(J,H)}return null}function le(J,H,Y,ge){var Ae=H!==null?H.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Ae!==null?null:F(J,H,""+Y,ge);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case j:return Y.key===Ae?z(J,H,Y,ge):null;case W:return Y.key===Ae?Z(J,H,Y,ge):null;case me:return Ae=Y._init,le(J,H,Ae(Y._payload),ge)}if(ir(Y)||pe(Y))return Ae!==null?null:ce(J,H,Y,ge,null);uf(J,Y)}return null}function we(J,H,Y,ge,Ae){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return J=J.get(Y)||null,F(H,J,""+ge,Ae);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case j:return J=J.get(ge.key===null?Y:ge.key)||null,z(H,J,ge,Ae);case W:return J=J.get(ge.key===null?Y:ge.key)||null,Z(H,J,ge,Ae);case me:var xe=ge._init;return we(J,H,Y,xe(ge._payload),Ae)}if(ir(ge)||pe(ge))return J=J.get(Y)||null,ce(H,J,ge,Ae,null);uf(H,ge)}return null}function Se(J,H,Y,ge){for(var Ae=null,xe=null,Oe=H,Ne=H=0,cn=null;Oe!==null&&Ne<Y.length;Ne++){Oe.index>Ne?(cn=Oe,Oe=null):cn=Oe.sibling;var Ye=le(J,Oe,Y[Ne],ge);if(Ye===null){Oe===null&&(Oe=cn);break}s&&Oe&&Ye.alternate===null&&a(J,Oe),H=w(Ye,H,Ne),xe===null?Ae=Ye:xe.sibling=Ye,xe=Ye,Oe=cn}if(Ne===Y.length)return c(J,Oe),_t&&Qo(J,Ne),Ae;if(Oe===null){for(;Ne<Y.length;Ne++)Oe=he(J,Y[Ne],ge),Oe!==null&&(H=w(Oe,H,Ne),xe===null?Ae=Oe:xe.sibling=Oe,xe=Oe);return _t&&Qo(J,Ne),Ae}for(Oe=p(J,Oe);Ne<Y.length;Ne++)cn=we(Oe,J,Ne,Y[Ne],ge),cn!==null&&(s&&cn.alternate!==null&&Oe.delete(cn.key===null?Ne:cn.key),H=w(cn,H,Ne),xe===null?Ae=cn:xe.sibling=cn,xe=cn);return s&&Oe.forEach(function(Gs){return a(J,Gs)}),_t&&Qo(J,Ne),Ae}function be(J,H,Y,ge){var Ae=pe(Y);if(typeof Ae!="function")throw Error(t(150));if(Y=Ae.call(Y),Y==null)throw Error(t(151));for(var xe=Ae=null,Oe=H,Ne=H=0,cn=null,Ye=Y.next();Oe!==null&&!Ye.done;Ne++,Ye=Y.next()){Oe.index>Ne?(cn=Oe,Oe=null):cn=Oe.sibling;var Gs=le(J,Oe,Ye.value,ge);if(Gs===null){Oe===null&&(Oe=cn);break}s&&Oe&&Gs.alternate===null&&a(J,Oe),H=w(Gs,H,Ne),xe===null?Ae=Gs:xe.sibling=Gs,xe=Gs,Oe=cn}if(Ye.done)return c(J,Oe),_t&&Qo(J,Ne),Ae;if(Oe===null){for(;!Ye.done;Ne++,Ye=Y.next())Ye=he(J,Ye.value,ge),Ye!==null&&(H=w(Ye,H,Ne),xe===null?Ae=Ye:xe.sibling=Ye,xe=Ye);return _t&&Qo(J,Ne),Ae}for(Oe=p(J,Oe);!Ye.done;Ne++,Ye=Y.next())Ye=we(Oe,J,Ne,Ye.value,ge),Ye!==null&&(s&&Ye.alternate!==null&&Oe.delete(Ye.key===null?Ne:Ye.key),H=w(Ye,H,Ne),xe===null?Ae=Ye:xe.sibling=Ye,xe=Ye);return s&&Oe.forEach(function($x){return a(J,$x)}),_t&&Qo(J,Ne),Ae}function Ut(J,H,Y,ge){if(typeof Y=="object"&&Y!==null&&Y.type===D&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case j:e:{for(var Ae=Y.key,xe=H;xe!==null;){if(xe.key===Ae){if(Ae=Y.type,Ae===D){if(xe.tag===7){c(J,xe.sibling),H=y(xe,Y.props.children),H.return=J,J=H;break e}}else if(xe.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===me&&lE(Ae)===xe.type){c(J,xe.sibling),H=y(xe,Y.props),H.ref=_c(J,xe,Y),H.return=J,J=H;break e}c(J,xe);break}else a(J,xe);xe=xe.sibling}Y.type===D?(H=ra(Y.props.children,J.mode,ge,Y.key),H.return=J,J=H):(ge=Nf(Y.type,Y.key,Y.props,null,J.mode,ge),ge.ref=_c(J,H,Y),ge.return=J,J=ge)}return A(J);case W:e:{for(xe=Y.key;H!==null;){if(H.key===xe)if(H.tag===4&&H.stateNode.containerInfo===Y.containerInfo&&H.stateNode.implementation===Y.implementation){c(J,H.sibling),H=y(H,Y.children||[]),H.return=J,J=H;break e}else{c(J,H);break}else a(J,H);H=H.sibling}H=Dy(Y,J.mode,ge),H.return=J,J=H}return A(J);case me:return xe=Y._init,Ut(J,H,xe(Y._payload),ge)}if(ir(Y))return Se(J,H,Y,ge);if(pe(Y))return be(J,H,Y,ge);uf(J,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,H!==null&&H.tag===6?(c(J,H.sibling),H=y(H,Y),H.return=J,J=H):(c(J,H),H=Ny(Y,J.mode,ge),H.return=J,J=H),A(J)):c(J,H)}return Ut}var vl=uE(!0),cE=uE(!1),cf=Ms(null),df=null,wl=null,$g=null;function qg(){$g=wl=df=null}function Wg(s){var a=cf.current;pt(cf),s._currentValue=a}function Hg(s,a,c){for(;s!==null;){var p=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),s===c)break;s=s.return}}function El(s,a){df=s,$g=wl=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&a&&(Gn=!0),s.firstContext=null)}function Cr(s){var a=s._currentValue;if($g!==s)if(s={context:s,memoizedValue:a,next:null},wl===null){if(df===null)throw Error(t(308));wl=s,df.dependencies={lanes:0,firstContext:s}}else wl=wl.next=s;return a}var Jo=null;function Kg(s){Jo===null?Jo=[s]:Jo.push(s)}function dE(s,a,c,p){var y=a.interleaved;return y===null?(c.next=c,Kg(a)):(c.next=y.next,y.next=c),a.interleaved=c,Ji(s,p)}function Ji(s,a){s.lanes|=a;var c=s.alternate;for(c!==null&&(c.lanes|=a),c=s,s=s.return;s!==null;)s.childLanes|=a,c=s.alternate,c!==null&&(c.childLanes|=a),c=s,s=s.return;return c.tag===3?c.stateNode:null}var Bs=!1;function Gg(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hE(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Yi(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function js(s,a,c){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,Je&2){var y=p.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),p.pending=a,Ji(s,c)}return y=p.interleaved,y===null?(a.next=a,Kg(p)):(a.next=y.next,y.next=a),p.interleaved=a,Ji(s,c)}function hf(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var p=a.lanes;p&=s.pendingLanes,c|=p,a.lanes=c,ks(s,c)}}function fE(s,a){var c=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var y=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var A={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};w===null?y=w=A:w=w.next=A,c=c.next}while(c!==null);w===null?y=w=a:w=w.next=a}else y=w=a;c={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:p.shared,effects:p.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}function ff(s,a,c,p){var y=s.updateQueue;Bs=!1;var w=y.firstBaseUpdate,A=y.lastBaseUpdate,F=y.shared.pending;if(F!==null){y.shared.pending=null;var z=F,Z=z.next;z.next=null,A===null?w=Z:A.next=Z,A=z;var ce=s.alternate;ce!==null&&(ce=ce.updateQueue,F=ce.lastBaseUpdate,F!==A&&(F===null?ce.firstBaseUpdate=Z:F.next=Z,ce.lastBaseUpdate=z))}if(w!==null){var he=y.baseState;A=0,ce=Z=z=null,F=w;do{var le=F.lane,we=F.eventTime;if((p&le)===le){ce!==null&&(ce=ce.next={eventTime:we,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var Se=s,be=F;switch(le=a,we=c,be.tag){case 1:if(Se=be.payload,typeof Se=="function"){he=Se.call(we,he,le);break e}he=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=be.payload,le=typeof Se=="function"?Se.call(we,he,le):Se,le==null)break e;he=de({},he,le);break e;case 2:Bs=!0}}F.callback!==null&&F.lane!==0&&(s.flags|=64,le=y.effects,le===null?y.effects=[F]:le.push(F))}else we={eventTime:we,lane:le,tag:F.tag,payload:F.payload,callback:F.callback,next:null},ce===null?(Z=ce=we,z=he):ce=ce.next=we,A|=le;if(F=F.next,F===null){if(F=y.shared.pending,F===null)break;le=F,F=le.next,le.next=null,y.lastBaseUpdate=le,y.shared.pending=null}}while(!0);if(ce===null&&(z=he),y.baseState=z,y.firstBaseUpdate=Z,y.lastBaseUpdate=ce,a=y.shared.interleaved,a!==null){y=a;do A|=y.lane,y=y.next;while(y!==a)}else w===null&&(y.shared.lanes=0);Zo|=A,s.lanes=A,s.memoizedState=he}}function pE(s,a,c){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var p=s[a],y=p.callback;if(y!==null){if(p.callback=null,p=c,typeof y!="function")throw Error(t(191,y));y.call(p)}}}var vc={},fi=Ms(vc),wc=Ms(vc),Ec=Ms(vc);function Yo(s){if(s===vc)throw Error(t(174));return s}function Qg(s,a){switch(ct(Ec,a),ct(wc,s),ct(fi,vc),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Zt(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=Zt(a,s)}pt(fi),ct(fi,a)}function Il(){pt(fi),pt(wc),pt(Ec)}function mE(s){Yo(Ec.current);var a=Yo(fi.current),c=Zt(a,s.type);a!==c&&(ct(wc,s),ct(fi,c))}function Jg(s){wc.current===s&&(pt(fi),pt(wc))}var St=Ms(0);function pf(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Yg=[];function Xg(){for(var s=0;s<Yg.length;s++)Yg[s]._workInProgressVersionPrimary=null;Yg.length=0}var mf=q.ReactCurrentDispatcher,Zg=q.ReactCurrentBatchConfig,Xo=0,Rt=null,tn=null,ln=null,gf=!1,Ic=!1,Tc=0,dx=0;function Sn(){throw Error(t(321))}function ey(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!Gr(s[c],a[c]))return!1;return!0}function ty(s,a,c,p,y,w){if(Xo=w,Rt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,mf.current=s===null||s.memoizedState===null?mx:gx,s=c(p,y),Ic){w=0;do{if(Ic=!1,Tc=0,25<=w)throw Error(t(301));w+=1,ln=tn=null,a.updateQueue=null,mf.current=yx,s=c(p,y)}while(Ic)}if(mf.current=vf,a=tn!==null&&tn.next!==null,Xo=0,ln=tn=Rt=null,gf=!1,a)throw Error(t(300));return s}function ny(){var s=Tc!==0;return Tc=0,s}function pi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?Rt.memoizedState=ln=s:ln=ln.next=s,ln}function kr(){if(tn===null){var s=Rt.alternate;s=s!==null?s.memoizedState:null}else s=tn.next;var a=ln===null?Rt.memoizedState:ln.next;if(a!==null)ln=a,tn=s;else{if(s===null)throw Error(t(310));tn=s,s={memoizedState:tn.memoizedState,baseState:tn.baseState,baseQueue:tn.baseQueue,queue:tn.queue,next:null},ln===null?Rt.memoizedState=ln=s:ln=ln.next=s}return ln}function Sc(s,a){return typeof a=="function"?a(s):a}function ry(s){var a=kr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var p=tn,y=p.baseQueue,w=c.pending;if(w!==null){if(y!==null){var A=y.next;y.next=w.next,w.next=A}p.baseQueue=y=w,c.pending=null}if(y!==null){w=y.next,p=p.baseState;var F=A=null,z=null,Z=w;do{var ce=Z.lane;if((Xo&ce)===ce)z!==null&&(z=z.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),p=Z.hasEagerState?Z.eagerState:s(p,Z.action);else{var he={lane:ce,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};z===null?(F=z=he,A=p):z=z.next=he,Rt.lanes|=ce,Zo|=ce}Z=Z.next}while(Z!==null&&Z!==w);z===null?A=p:z.next=F,Gr(p,a.memoizedState)||(Gn=!0),a.memoizedState=p,a.baseState=A,a.baseQueue=z,c.lastRenderedState=p}if(s=c.interleaved,s!==null){y=s;do w=y.lane,Rt.lanes|=w,Zo|=w,y=y.next;while(y!==s)}else y===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function iy(s){var a=kr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var p=c.dispatch,y=c.pending,w=a.memoizedState;if(y!==null){c.pending=null;var A=y=y.next;do w=s(w,A.action),A=A.next;while(A!==y);Gr(w,a.memoizedState)||(Gn=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),c.lastRenderedState=w}return[w,p]}function gE(){}function yE(s,a){var c=Rt,p=kr(),y=a(),w=!Gr(p.memoizedState,y);if(w&&(p.memoizedState=y,Gn=!0),p=p.queue,sy(wE.bind(null,c,p,s),[s]),p.getSnapshot!==a||w||ln!==null&&ln.memoizedState.tag&1){if(c.flags|=2048,Rc(9,vE.bind(null,c,p,y,a),void 0,null),un===null)throw Error(t(349));Xo&30||_E(c,a,y)}return y}function _E(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=Rt.updateQueue,a===null?(a={lastEffect:null,stores:null},Rt.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function vE(s,a,c,p){a.value=c,a.getSnapshot=p,EE(a)&&IE(s)}function wE(s,a,c){return c(function(){EE(a)&&IE(s)})}function EE(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!Gr(s,c)}catch{return!0}}function IE(s){var a=Ji(s,1);a!==null&&Zr(a,s,1,-1)}function TE(s){var a=pi();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sc,lastRenderedState:s},a.queue=s,s=s.dispatch=px.bind(null,Rt,s),[a.memoizedState,s]}function Rc(s,a,c,p){return s={tag:s,create:a,destroy:c,deps:p,next:null},a=Rt.updateQueue,a===null?(a={lastEffect:null,stores:null},Rt.updateQueue=a,a.lastEffect=s.next=s):(c=a.lastEffect,c===null?a.lastEffect=s.next=s:(p=c.next,c.next=s,s.next=p,a.lastEffect=s)),s}function SE(){return kr().memoizedState}function yf(s,a,c,p){var y=pi();Rt.flags|=s,y.memoizedState=Rc(1|a,c,void 0,p===void 0?null:p)}function _f(s,a,c,p){var y=kr();p=p===void 0?null:p;var w=void 0;if(tn!==null){var A=tn.memoizedState;if(w=A.destroy,p!==null&&ey(p,A.deps)){y.memoizedState=Rc(a,c,w,p);return}}Rt.flags|=s,y.memoizedState=Rc(1|a,c,w,p)}function RE(s,a){return yf(8390656,8,s,a)}function sy(s,a){return _f(2048,8,s,a)}function bE(s,a){return _f(4,2,s,a)}function AE(s,a){return _f(4,4,s,a)}function PE(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function CE(s,a,c){return c=c!=null?c.concat([s]):null,_f(4,4,PE.bind(null,a,s),c)}function oy(){}function kE(s,a){var c=kr();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&ey(a,p[1])?p[0]:(c.memoizedState=[s,a],s)}function xE(s,a){var c=kr();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&ey(a,p[1])?p[0]:(s=s(),c.memoizedState=[s,a],s)}function OE(s,a,c){return Xo&21?(Gr(c,a)||(c=jo(),Rt.lanes|=c,Zo|=c,s.baseState=!0),a):(s.baseState&&(s.baseState=!1,Gn=!0),s.memoizedState=c)}function hx(s,a){var c=He;He=c!==0&&4>c?c:4,s(!0);var p=Zg.transition;Zg.transition={};try{s(!1),a()}finally{He=c,Zg.transition=p}}function NE(){return kr().memoizedState}function fx(s,a,c){var p=Ws(s);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},DE(s))VE(a,c);else if(c=dE(s,a,c,p),c!==null){var y=Ln();Zr(c,s,p,y),LE(c,a,p)}}function px(s,a,c){var p=Ws(s),y={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(DE(s))VE(a,y);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var A=a.lastRenderedState,F=w(A,c);if(y.hasEagerState=!0,y.eagerState=F,Gr(F,A)){var z=a.interleaved;z===null?(y.next=y,Kg(a)):(y.next=z.next,z.next=y),a.interleaved=y;return}}catch{}finally{}c=dE(s,a,y,p),c!==null&&(y=Ln(),Zr(c,s,p,y),LE(c,a,p))}}function DE(s){var a=s.alternate;return s===Rt||a!==null&&a===Rt}function VE(s,a){Ic=gf=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function LE(s,a,c){if(c&4194240){var p=a.lanes;p&=s.pendingLanes,c|=p,a.lanes=c,ks(s,c)}}var vf={readContext:Cr,useCallback:Sn,useContext:Sn,useEffect:Sn,useImperativeHandle:Sn,useInsertionEffect:Sn,useLayoutEffect:Sn,useMemo:Sn,useReducer:Sn,useRef:Sn,useState:Sn,useDebugValue:Sn,useDeferredValue:Sn,useTransition:Sn,useMutableSource:Sn,useSyncExternalStore:Sn,useId:Sn,unstable_isNewReconciler:!1},mx={readContext:Cr,useCallback:function(s,a){return pi().memoizedState=[s,a===void 0?null:a],s},useContext:Cr,useEffect:RE,useImperativeHandle:function(s,a,c){return c=c!=null?c.concat([s]):null,yf(4194308,4,PE.bind(null,a,s),c)},useLayoutEffect:function(s,a){return yf(4194308,4,s,a)},useInsertionEffect:function(s,a){return yf(4,2,s,a)},useMemo:function(s,a){var c=pi();return a=a===void 0?null:a,s=s(),c.memoizedState=[s,a],s},useReducer:function(s,a,c){var p=pi();return a=c!==void 0?c(a):a,p.memoizedState=p.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},p.queue=s,s=s.dispatch=fx.bind(null,Rt,s),[p.memoizedState,s]},useRef:function(s){var a=pi();return s={current:s},a.memoizedState=s},useState:TE,useDebugValue:oy,useDeferredValue:function(s){return pi().memoizedState=s},useTransition:function(){var s=TE(!1),a=s[0];return s=hx.bind(null,s[1]),pi().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,c){var p=Rt,y=pi();if(_t){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),un===null)throw Error(t(349));Xo&30||_E(p,a,c)}y.memoizedState=c;var w={value:c,getSnapshot:a};return y.queue=w,RE(wE.bind(null,p,w,s),[s]),p.flags|=2048,Rc(9,vE.bind(null,p,w,c,a),void 0,null),c},useId:function(){var s=pi(),a=un.identifierPrefix;if(_t){var c=Qi,p=Gi;c=(p&~(1<<32-Nn(p)-1)).toString(32)+c,a=":"+a+"R"+c,c=Tc++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=dx++,a=":"+a+"r"+c.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},gx={readContext:Cr,useCallback:kE,useContext:Cr,useEffect:sy,useImperativeHandle:CE,useInsertionEffect:bE,useLayoutEffect:AE,useMemo:xE,useReducer:ry,useRef:SE,useState:function(){return ry(Sc)},useDebugValue:oy,useDeferredValue:function(s){var a=kr();return OE(a,tn.memoizedState,s)},useTransition:function(){var s=ry(Sc)[0],a=kr().memoizedState;return[s,a]},useMutableSource:gE,useSyncExternalStore:yE,useId:NE,unstable_isNewReconciler:!1},yx={readContext:Cr,useCallback:kE,useContext:Cr,useEffect:sy,useImperativeHandle:CE,useInsertionEffect:bE,useLayoutEffect:AE,useMemo:xE,useReducer:iy,useRef:SE,useState:function(){return iy(Sc)},useDebugValue:oy,useDeferredValue:function(s){var a=kr();return tn===null?a.memoizedState=s:OE(a,tn.memoizedState,s)},useTransition:function(){var s=iy(Sc)[0],a=kr().memoizedState;return[s,a]},useMutableSource:gE,useSyncExternalStore:yE,useId:NE,unstable_isNewReconciler:!1};function Jr(s,a){if(s&&s.defaultProps){a=de({},a),s=s.defaultProps;for(var c in s)a[c]===void 0&&(a[c]=s[c]);return a}return a}function ay(s,a,c,p){a=s.memoizedState,c=c(p,a),c=c==null?a:de({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var wf={isMounted:function(s){return(s=s._reactInternals)?jr(s)===s:!1},enqueueSetState:function(s,a,c){s=s._reactInternals;var p=Ln(),y=Ws(s),w=Yi(p,y);w.payload=a,c!=null&&(w.callback=c),a=js(s,w,y),a!==null&&(Zr(a,s,y,p),hf(a,s,y))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var p=Ln(),y=Ws(s),w=Yi(p,y);w.tag=1,w.payload=a,c!=null&&(w.callback=c),a=js(s,w,y),a!==null&&(Zr(a,s,y,p),hf(a,s,y))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=Ln(),p=Ws(s),y=Yi(c,p);y.tag=2,a!=null&&(y.callback=a),a=js(s,y,p),a!==null&&(Zr(a,s,p,c),hf(a,s,p))}};function ME(s,a,c,p,y,w,A){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,w,A):a.prototype&&a.prototype.isPureReactComponent?!dc(c,p)||!dc(y,w):!0}function FE(s,a,c){var p=!1,y=Fs,w=a.contextType;return typeof w=="object"&&w!==null?w=Cr(w):(y=Kn(a)?Ko:Tn.current,p=a.contextTypes,w=(p=p!=null)?ml(s,y):Fs),a=new a(c,w),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=wf,s.stateNode=a,a._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=y,s.__reactInternalMemoizedMaskedChildContext=w),a}function UE(s,a,c,p){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,p),a.state!==s&&wf.enqueueReplaceState(a,a.state,null)}function ly(s,a,c,p){var y=s.stateNode;y.props=c,y.state=s.memoizedState,y.refs={},Gg(s);var w=a.contextType;typeof w=="object"&&w!==null?y.context=Cr(w):(w=Kn(a)?Ko:Tn.current,y.context=ml(s,w)),y.state=s.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(ay(s,a,w,c),y.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&wf.enqueueReplaceState(y,y.state,null),ff(s,c,y,p),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308)}function Tl(s,a){try{var c="",p=a;do c+=Ve(p),p=p.return;while(p);var y=c}catch(w){y=`
Error generating stack: `+w.message+`
`+w.stack}return{value:s,source:a,stack:y,digest:null}}function uy(s,a,c){return{value:s,source:null,stack:c??null,digest:a??null}}function cy(s,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var _x=typeof WeakMap=="function"?WeakMap:Map;function BE(s,a,c){c=Yi(-1,c),c.tag=3,c.payload={element:null};var p=a.value;return c.callback=function(){Af||(Af=!0,Ry=p),cy(s,a)},c}function jE(s,a,c){c=Yi(-1,c),c.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var y=a.value;c.payload=function(){return p(y)},c.callback=function(){cy(s,a)}}var w=s.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(c.callback=function(){cy(s,a),typeof p!="function"&&($s===null?$s=new Set([this]):$s.add(this));var A=a.stack;this.componentDidCatch(a.value,{componentStack:A!==null?A:""})}),c}function zE(s,a,c){var p=s.pingCache;if(p===null){p=s.pingCache=new _x;var y=new Set;p.set(a,y)}else y=p.get(a),y===void 0&&(y=new Set,p.set(a,y));y.has(c)||(y.add(c),s=Ox.bind(null,s,a,c),a.then(s,s))}function $E(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function qE(s,a,c,p,y){return s.mode&1?(s.flags|=65536,s.lanes=y,s):(s===a?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=Yi(-1,1),a.tag=2,js(c,a,1))),c.lanes|=1),s)}var vx=q.ReactCurrentOwner,Gn=!1;function Vn(s,a,c,p){a.child=s===null?cE(a,null,c,p):vl(a,s.child,c,p)}function WE(s,a,c,p,y){c=c.render;var w=a.ref;return El(a,y),p=ty(s,a,c,p,w,y),c=ny(),s!==null&&!Gn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~y,Xi(s,a,y)):(_t&&c&&Fg(a),a.flags|=1,Vn(s,a,p,y),a.child)}function HE(s,a,c,p,y){if(s===null){var w=c.type;return typeof w=="function"&&!Oy(w)&&w.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=w,KE(s,a,w,p,y)):(s=Nf(c.type,null,p,a,a.mode,y),s.ref=a.ref,s.return=a,a.child=s)}if(w=s.child,!(s.lanes&y)){var A=w.memoizedProps;if(c=c.compare,c=c!==null?c:dc,c(A,p)&&s.ref===a.ref)return Xi(s,a,y)}return a.flags|=1,s=Ks(w,p),s.ref=a.ref,s.return=a,a.child=s}function KE(s,a,c,p,y){if(s!==null){var w=s.memoizedProps;if(dc(w,p)&&s.ref===a.ref)if(Gn=!1,a.pendingProps=p=w,(s.lanes&y)!==0)s.flags&131072&&(Gn=!0);else return a.lanes=s.lanes,Xi(s,a,y)}return dy(s,a,c,p,y)}function GE(s,a,c){var p=a.pendingProps,y=p.children,w=s!==null?s.memoizedState:null;if(p.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(Rl,dr),dr|=c;else{if(!(c&1073741824))return s=w!==null?w.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,ct(Rl,dr),dr|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=w!==null?w.baseLanes:c,ct(Rl,dr),dr|=p}else w!==null?(p=w.baseLanes|c,a.memoizedState=null):p=c,ct(Rl,dr),dr|=p;return Vn(s,a,y,c),a.child}function QE(s,a){var c=a.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function dy(s,a,c,p,y){var w=Kn(c)?Ko:Tn.current;return w=ml(a,w),El(a,y),c=ty(s,a,c,p,w,y),p=ny(),s!==null&&!Gn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~y,Xi(s,a,y)):(_t&&p&&Fg(a),a.flags|=1,Vn(s,a,c,y),a.child)}function JE(s,a,c,p,y){if(Kn(c)){var w=!0;rf(a)}else w=!1;if(El(a,y),a.stateNode===null)If(s,a),FE(a,c,p),ly(a,c,p,y),p=!0;else if(s===null){var A=a.stateNode,F=a.memoizedProps;A.props=F;var z=A.context,Z=c.contextType;typeof Z=="object"&&Z!==null?Z=Cr(Z):(Z=Kn(c)?Ko:Tn.current,Z=ml(a,Z));var ce=c.getDerivedStateFromProps,he=typeof ce=="function"||typeof A.getSnapshotBeforeUpdate=="function";he||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(F!==p||z!==Z)&&UE(a,A,p,Z),Bs=!1;var le=a.memoizedState;A.state=le,ff(a,p,A,y),z=a.memoizedState,F!==p||le!==z||Hn.current||Bs?(typeof ce=="function"&&(ay(a,c,ce,p),z=a.memoizedState),(F=Bs||ME(a,c,F,p,le,z,Z))?(he||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(a.flags|=4194308)):(typeof A.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=z),A.props=p,A.state=z,A.context=Z,p=F):(typeof A.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{A=a.stateNode,hE(s,a),F=a.memoizedProps,Z=a.type===a.elementType?F:Jr(a.type,F),A.props=Z,he=a.pendingProps,le=A.context,z=c.contextType,typeof z=="object"&&z!==null?z=Cr(z):(z=Kn(c)?Ko:Tn.current,z=ml(a,z));var we=c.getDerivedStateFromProps;(ce=typeof we=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(F!==he||le!==z)&&UE(a,A,p,z),Bs=!1,le=a.memoizedState,A.state=le,ff(a,p,A,y);var Se=a.memoizedState;F!==he||le!==Se||Hn.current||Bs?(typeof we=="function"&&(ay(a,c,we,p),Se=a.memoizedState),(Z=Bs||ME(a,c,Z,p,le,Se,z)||!1)?(ce||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(p,Se,z),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(p,Se,z)),typeof A.componentDidUpdate=="function"&&(a.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof A.componentDidUpdate!="function"||F===s.memoizedProps&&le===s.memoizedState||(a.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||F===s.memoizedProps&&le===s.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=Se),A.props=p,A.state=Se,A.context=z,p=Z):(typeof A.componentDidUpdate!="function"||F===s.memoizedProps&&le===s.memoizedState||(a.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||F===s.memoizedProps&&le===s.memoizedState||(a.flags|=1024),p=!1)}return hy(s,a,c,p,w,y)}function hy(s,a,c,p,y,w){QE(s,a);var A=(a.flags&128)!==0;if(!p&&!A)return y&&tE(a,c,!1),Xi(s,a,w);p=a.stateNode,vx.current=a;var F=A&&typeof c.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,s!==null&&A?(a.child=vl(a,s.child,null,w),a.child=vl(a,null,F,w)):Vn(s,a,F,w),a.memoizedState=p.state,y&&tE(a,c,!0),a.child}function YE(s){var a=s.stateNode;a.pendingContext?Zw(s,a.pendingContext,a.pendingContext!==a.context):a.context&&Zw(s,a.context,!1),Qg(s,a.containerInfo)}function XE(s,a,c,p,y){return _l(),zg(y),a.flags|=256,Vn(s,a,c,p),a.child}var fy={dehydrated:null,treeContext:null,retryLane:0};function py(s){return{baseLanes:s,cachePool:null,transitions:null}}function ZE(s,a,c){var p=a.pendingProps,y=St.current,w=!1,A=(a.flags&128)!==0,F;if((F=A)||(F=s!==null&&s.memoizedState===null?!1:(y&2)!==0),F?(w=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(y|=1),ct(St,y&1),s===null)return jg(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(a.mode&1?s.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(A=p.children,s=p.fallback,w?(p=a.mode,w=a.child,A={mode:"hidden",children:A},!(p&1)&&w!==null?(w.childLanes=0,w.pendingProps=A):w=Df(A,p,0,null),s=ra(s,p,c,null),w.return=a,s.return=a,w.sibling=s,a.child=w,a.child.memoizedState=py(c),a.memoizedState=fy,s):my(a,A));if(y=s.memoizedState,y!==null&&(F=y.dehydrated,F!==null))return wx(s,a,A,p,F,y,c);if(w){w=p.fallback,A=a.mode,y=s.child,F=y.sibling;var z={mode:"hidden",children:p.children};return!(A&1)&&a.child!==y?(p=a.child,p.childLanes=0,p.pendingProps=z,a.deletions=null):(p=Ks(y,z),p.subtreeFlags=y.subtreeFlags&14680064),F!==null?w=Ks(F,w):(w=ra(w,A,c,null),w.flags|=2),w.return=a,p.return=a,p.sibling=w,a.child=p,p=w,w=a.child,A=s.child.memoizedState,A=A===null?py(c):{baseLanes:A.baseLanes|c,cachePool:null,transitions:A.transitions},w.memoizedState=A,w.childLanes=s.childLanes&~c,a.memoizedState=fy,p}return w=s.child,s=w.sibling,p=Ks(w,{mode:"visible",children:p.children}),!(a.mode&1)&&(p.lanes=c),p.return=a,p.sibling=null,s!==null&&(c=a.deletions,c===null?(a.deletions=[s],a.flags|=16):c.push(s)),a.child=p,a.memoizedState=null,p}function my(s,a){return a=Df({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Ef(s,a,c,p){return p!==null&&zg(p),vl(a,s.child,null,c),s=my(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function wx(s,a,c,p,y,w,A){if(c)return a.flags&256?(a.flags&=-257,p=uy(Error(t(422))),Ef(s,a,A,p)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(w=p.fallback,y=a.mode,p=Df({mode:"visible",children:p.children},y,0,null),w=ra(w,y,A,null),w.flags|=2,p.return=a,w.return=a,p.sibling=w,a.child=p,a.mode&1&&vl(a,s.child,null,A),a.child.memoizedState=py(A),a.memoizedState=fy,w);if(!(a.mode&1))return Ef(s,a,A,null);if(y.data==="$!"){if(p=y.nextSibling&&y.nextSibling.dataset,p)var F=p.dgst;return p=F,w=Error(t(419)),p=uy(w,p,void 0),Ef(s,a,A,p)}if(F=(A&s.childLanes)!==0,Gn||F){if(p=un,p!==null){switch(A&-A){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=y&(p.suspendedLanes|A)?0:y,y!==0&&y!==w.retryLane&&(w.retryLane=y,Ji(s,y),Zr(p,s,y,-1))}return xy(),p=uy(Error(t(421))),Ef(s,a,A,p)}return y.data==="$?"?(a.flags|=128,a.child=s.child,a=Nx.bind(null,s),y._reactRetry=a,null):(s=w.treeContext,cr=Ls(y.nextSibling),ur=a,_t=!0,Qr=null,s!==null&&(Ar[Pr++]=Gi,Ar[Pr++]=Qi,Ar[Pr++]=Go,Gi=s.id,Qi=s.overflow,Go=a),a=my(a,p.children),a.flags|=4096,a)}function eI(s,a,c){s.lanes|=a;var p=s.alternate;p!==null&&(p.lanes|=a),Hg(s.return,a,c)}function gy(s,a,c,p,y){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:y}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=c,w.tailMode=y)}function tI(s,a,c){var p=a.pendingProps,y=p.revealOrder,w=p.tail;if(Vn(s,a,p.children,c),p=St.current,p&2)p=p&1|2,a.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&eI(s,c,a);else if(s.tag===19)eI(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(ct(St,p),!(a.mode&1))a.memoizedState=null;else switch(y){case"forwards":for(c=a.child,y=null;c!==null;)s=c.alternate,s!==null&&pf(s)===null&&(y=c),c=c.sibling;c=y,c===null?(y=a.child,a.child=null):(y=c.sibling,c.sibling=null),gy(a,!1,y,c,w);break;case"backwards":for(c=null,y=a.child,a.child=null;y!==null;){if(s=y.alternate,s!==null&&pf(s)===null){a.child=y;break}s=y.sibling,y.sibling=c,c=y,y=s}gy(a,!0,c,null,w);break;case"together":gy(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function If(s,a){!(a.mode&1)&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Xi(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),Zo|=a.lanes,!(c&a.childLanes))return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,c=Ks(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=Ks(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function Ex(s,a,c){switch(a.tag){case 3:YE(a),_l();break;case 5:mE(a);break;case 1:Kn(a.type)&&rf(a);break;case 4:Qg(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,y=a.memoizedProps.value;ct(cf,p._currentValue),p._currentValue=y;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(ct(St,St.current&1),a.flags|=128,null):c&a.child.childLanes?ZE(s,a,c):(ct(St,St.current&1),s=Xi(s,a,c),s!==null?s.sibling:null);ct(St,St.current&1);break;case 19:if(p=(c&a.childLanes)!==0,s.flags&128){if(p)return tI(s,a,c);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ct(St,St.current),p)break;return null;case 22:case 23:return a.lanes=0,GE(s,a,c)}return Xi(s,a,c)}var nI,yy,rI,iI;nI=function(s,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},yy=function(){},rI=function(s,a,c,p){var y=s.memoizedProps;if(y!==p){s=a.stateNode,Yo(fi.current);var w=null;switch(c){case"input":y=Yt(s,y),p=Yt(s,p),w=[];break;case"select":y=de({},y,{value:void 0}),p=de({},p,{value:void 0}),w=[];break;case"textarea":y=Bu(s,y),p=Bu(s,p),w=[];break;default:typeof y.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=ef)}Hu(c,p);var A;c=null;for(Z in y)if(!p.hasOwnProperty(Z)&&y.hasOwnProperty(Z)&&y[Z]!=null)if(Z==="style"){var F=y[Z];for(A in F)F.hasOwnProperty(A)&&(c||(c={}),c[A]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(i.hasOwnProperty(Z)?w||(w=[]):(w=w||[]).push(Z,null));for(Z in p){var z=p[Z];if(F=y!=null?y[Z]:void 0,p.hasOwnProperty(Z)&&z!==F&&(z!=null||F!=null))if(Z==="style")if(F){for(A in F)!F.hasOwnProperty(A)||z&&z.hasOwnProperty(A)||(c||(c={}),c[A]="");for(A in z)z.hasOwnProperty(A)&&F[A]!==z[A]&&(c||(c={}),c[A]=z[A])}else c||(w||(w=[]),w.push(Z,c)),c=z;else Z==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,F=F?F.__html:void 0,z!=null&&F!==z&&(w=w||[]).push(Z,z)):Z==="children"?typeof z!="string"&&typeof z!="number"||(w=w||[]).push(Z,""+z):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(i.hasOwnProperty(Z)?(z!=null&&Z==="onScroll"&&ft("scroll",s),w||F===z||(w=[])):(w=w||[]).push(Z,z))}c&&(w=w||[]).push("style",c);var Z=w;(a.updateQueue=Z)&&(a.flags|=4)}},iI=function(s,a,c,p){c!==p&&(a.flags|=4)};function bc(s,a){if(!_t)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function Rn(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,p=0;if(a)for(var y=s.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=p,s.childLanes=c,a}function Ix(s,a,c){var p=a.pendingProps;switch(Ug(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rn(a),null;case 1:return Kn(a.type)&&nf(),Rn(a),null;case 3:return p=a.stateNode,Il(),pt(Hn),pt(Tn),Xg(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(lf(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,Qr!==null&&(Py(Qr),Qr=null))),yy(s,a),Rn(a),null;case 5:Jg(a);var y=Yo(Ec.current);if(c=a.type,s!==null&&a.stateNode!=null)rI(s,a,c,p,y),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(t(166));return Rn(a),null}if(s=Yo(fi.current),lf(a)){p=a.stateNode,c=a.type;var w=a.memoizedProps;switch(p[hi]=a,p[gc]=w,s=(a.mode&1)!==0,c){case"dialog":ft("cancel",p),ft("close",p);break;case"iframe":case"object":case"embed":ft("load",p);break;case"video":case"audio":for(y=0;y<fc.length;y++)ft(fc[y],p);break;case"source":ft("error",p);break;case"img":case"image":case"link":ft("error",p),ft("load",p);break;case"details":ft("toggle",p);break;case"input":Fr(p,w),ft("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!w.multiple},ft("invalid",p);break;case"textarea":Ua(p,w),ft("invalid",p)}Hu(c,w),y=null;for(var A in w)if(w.hasOwnProperty(A)){var F=w[A];A==="children"?typeof F=="string"?p.textContent!==F&&(w.suppressHydrationWarning!==!0&&Zh(p.textContent,F,s),y=["children",F]):typeof F=="number"&&p.textContent!==""+F&&(w.suppressHydrationWarning!==!0&&Zh(p.textContent,F,s),y=["children",""+F]):i.hasOwnProperty(A)&&F!=null&&A==="onScroll"&&ft("scroll",p)}switch(c){case"input":on(p),zn(p,w,!0);break;case"textarea":on(p),ju(p);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(p.onclick=ef)}p=y,a.updateQueue=p,p!==null&&(a.flags|=4)}else{A=y.nodeType===9?y:y.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Xt(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=A.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=A.createElement(c,{is:p.is}):(s=A.createElement(c),c==="select"&&(A=s,p.multiple?A.multiple=!0:p.size&&(A.size=p.size))):s=A.createElementNS(s,c),s[hi]=a,s[gc]=p,nI(s,a,!1,!1),a.stateNode=s;e:{switch(A=Ku(c,p),c){case"dialog":ft("cancel",s),ft("close",s),y=p;break;case"iframe":case"object":case"embed":ft("load",s),y=p;break;case"video":case"audio":for(y=0;y<fc.length;y++)ft(fc[y],s);y=p;break;case"source":ft("error",s),y=p;break;case"img":case"image":case"link":ft("error",s),ft("load",s),y=p;break;case"details":ft("toggle",s),y=p;break;case"input":Fr(s,p),y=Yt(s,p),ft("invalid",s);break;case"option":y=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},y=de({},p,{value:void 0}),ft("invalid",s);break;case"textarea":Ua(s,p),y=Bu(s,p),ft("invalid",s);break;default:y=p}Hu(c,y),F=y;for(w in F)if(F.hasOwnProperty(w)){var z=F[w];w==="style"?qu(s,z):w==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&zu(s,z)):w==="children"?typeof z=="string"?(c!=="textarea"||z!=="")&&Rs(s,z):typeof z=="number"&&Rs(s,""+z):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?z!=null&&w==="onScroll"&&ft("scroll",s):z!=null&&U(s,w,z,A))}switch(c){case"input":on(s),zn(s,p,!1);break;case"textarea":on(s),ju(s);break;case"option":p.value!=null&&s.setAttribute("value",""+We(p.value));break;case"select":s.multiple=!!p.multiple,w=p.value,w!=null?Fi(s,!!p.multiple,w,!1):p.defaultValue!=null&&Fi(s,!!p.multiple,p.defaultValue,!0);break;default:typeof y.onClick=="function"&&(s.onclick=ef)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Rn(a),null;case 6:if(s&&a.stateNode!=null)iI(s,a,s.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(t(166));if(c=Yo(Ec.current),Yo(fi.current),lf(a)){if(p=a.stateNode,c=a.memoizedProps,p[hi]=a,(w=p.nodeValue!==c)&&(s=ur,s!==null))switch(s.tag){case 3:Zh(p.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Zh(p.nodeValue,c,(s.mode&1)!==0)}w&&(a.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[hi]=a,a.stateNode=p}return Rn(a),null;case 13:if(pt(St),p=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(_t&&cr!==null&&a.mode&1&&!(a.flags&128))aE(),_l(),a.flags|=98560,w=!1;else if(w=lf(a),p!==null&&p.dehydrated!==null){if(s===null){if(!w)throw Error(t(318));if(w=a.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(t(317));w[hi]=a}else _l(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;Rn(a),w=!1}else Qr!==null&&(Py(Qr),Qr=null),w=!0;if(!w)return a.flags&65536?a:null}return a.flags&128?(a.lanes=c,a):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(a.child.flags|=8192,a.mode&1&&(s===null||St.current&1?nn===0&&(nn=3):xy())),a.updateQueue!==null&&(a.flags|=4),Rn(a),null);case 4:return Il(),yy(s,a),s===null&&pc(a.stateNode.containerInfo),Rn(a),null;case 10:return Wg(a.type._context),Rn(a),null;case 17:return Kn(a.type)&&nf(),Rn(a),null;case 19:if(pt(St),w=a.memoizedState,w===null)return Rn(a),null;if(p=(a.flags&128)!==0,A=w.rendering,A===null)if(p)bc(w,!1);else{if(nn!==0||s!==null&&s.flags&128)for(s=a.child;s!==null;){if(A=pf(s),A!==null){for(a.flags|=128,bc(w,!1),p=A.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=c,c=a.child;c!==null;)w=c,s=p,w.flags&=14680066,A=w.alternate,A===null?(w.childLanes=0,w.lanes=s,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=A.childLanes,w.lanes=A.lanes,w.child=A.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=A.memoizedProps,w.memoizedState=A.memoizedState,w.updateQueue=A.updateQueue,w.type=A.type,s=A.dependencies,w.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return ct(St,St.current&1|2),a.child}s=s.sibling}w.tail!==null&&ut()>bl&&(a.flags|=128,p=!0,bc(w,!1),a.lanes=4194304)}else{if(!p)if(s=pf(A),s!==null){if(a.flags|=128,p=!0,c=s.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),bc(w,!0),w.tail===null&&w.tailMode==="hidden"&&!A.alternate&&!_t)return Rn(a),null}else 2*ut()-w.renderingStartTime>bl&&c!==1073741824&&(a.flags|=128,p=!0,bc(w,!1),a.lanes=4194304);w.isBackwards?(A.sibling=a.child,a.child=A):(c=w.last,c!==null?c.sibling=A:a.child=A,w.last=A)}return w.tail!==null?(a=w.tail,w.rendering=a,w.tail=a.sibling,w.renderingStartTime=ut(),a.sibling=null,c=St.current,ct(St,p?c&1|2:c&1),a):(Rn(a),null);case 22:case 23:return ky(),p=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(a.flags|=8192),p&&a.mode&1?dr&1073741824&&(Rn(a),a.subtreeFlags&6&&(a.flags|=8192)):Rn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function Tx(s,a){switch(Ug(a),a.tag){case 1:return Kn(a.type)&&nf(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Il(),pt(Hn),pt(Tn),Xg(),s=a.flags,s&65536&&!(s&128)?(a.flags=s&-65537|128,a):null;case 5:return Jg(a),null;case 13:if(pt(St),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));_l()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return pt(St),null;case 4:return Il(),null;case 10:return Wg(a.type._context),null;case 22:case 23:return ky(),null;case 24:return null;default:return null}}var Tf=!1,bn=!1,Sx=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function Sl(s,a){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){xt(s,a,p)}else c.current=null}function _y(s,a,c){try{c()}catch(p){xt(s,a,p)}}var sI=!1;function Rx(s,a){if(kg=Ns,s=Mw(),Ig(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var y=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var A=0,F=-1,z=-1,Z=0,ce=0,he=s,le=null;t:for(;;){for(var we;he!==c||y!==0&&he.nodeType!==3||(F=A+y),he!==w||p!==0&&he.nodeType!==3||(z=A+p),he.nodeType===3&&(A+=he.nodeValue.length),(we=he.firstChild)!==null;)le=he,he=we;for(;;){if(he===s)break t;if(le===c&&++Z===y&&(F=A),le===w&&++ce===p&&(z=A),(we=he.nextSibling)!==null)break;he=le,le=he.parentNode}he=we}c=F===-1||z===-1?null:{start:F,end:z}}else c=null}c=c||{start:0,end:0}}else c=null;for(xg={focusedElem:s,selectionRange:c},Ns=!1,Ie=a;Ie!==null;)if(a=Ie,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Ie=s;else for(;Ie!==null;){a=Ie;try{var Se=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var be=Se.memoizedProps,Ut=Se.memoizedState,J=a.stateNode,H=J.getSnapshotBeforeUpdate(a.elementType===a.type?be:Jr(a.type,be),Ut);J.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var Y=a.stateNode.containerInfo;Y.nodeType===1?Y.textContent="":Y.nodeType===9&&Y.documentElement&&Y.removeChild(Y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ge){xt(a,a.return,ge)}if(s=a.sibling,s!==null){s.return=a.return,Ie=s;break}Ie=a.return}return Se=sI,sI=!1,Se}function Ac(s,a,c){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&s)===s){var w=y.destroy;y.destroy=void 0,w!==void 0&&_y(a,c,w)}y=y.next}while(y!==p)}}function Sf(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&s)===s){var p=c.create;c.destroy=p()}c=c.next}while(c!==a)}}function vy(s){var a=s.ref;if(a!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof a=="function"?a(s):a.current=s}}function oI(s){var a=s.alternate;a!==null&&(s.alternate=null,oI(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[hi],delete a[gc],delete a[Vg],delete a[ax],delete a[lx])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function aI(s){return s.tag===5||s.tag===3||s.tag===4}function lI(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||aI(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function wy(s,a,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(s,a):c.insertBefore(s,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(s,c)):(a=c,a.appendChild(s)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=ef));else if(p!==4&&(s=s.child,s!==null))for(wy(s,a,c),s=s.sibling;s!==null;)wy(s,a,c),s=s.sibling}function Ey(s,a,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(Ey(s,a,c),s=s.sibling;s!==null;)Ey(s,a,c),s=s.sibling}var yn=null,Yr=!1;function zs(s,a,c){for(c=c.child;c!==null;)uI(s,a,c),c=c.sibling}function uI(s,a,c){if(sr&&typeof sr.onCommitFiberUnmount=="function")try{sr.onCommitFiberUnmount(Uo,c)}catch{}switch(c.tag){case 5:bn||Sl(c,a);case 6:var p=yn,y=Yr;yn=null,zs(s,a,c),yn=p,Yr=y,yn!==null&&(Yr?(s=yn,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):yn.removeChild(c.stateNode));break;case 18:yn!==null&&(Yr?(s=yn,c=c.stateNode,s.nodeType===8?Dg(s.parentNode,c):s.nodeType===1&&Dg(s,c),Hr(s)):Dg(yn,c.stateNode));break;case 4:p=yn,y=Yr,yn=c.stateNode.containerInfo,Yr=!0,zs(s,a,c),yn=p,Yr=y;break;case 0:case 11:case 14:case 15:if(!bn&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var w=y,A=w.destroy;w=w.tag,A!==void 0&&(w&2||w&4)&&_y(c,a,A),y=y.next}while(y!==p)}zs(s,a,c);break;case 1:if(!bn&&(Sl(c,a),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(F){xt(c,a,F)}zs(s,a,c);break;case 21:zs(s,a,c);break;case 22:c.mode&1?(bn=(p=bn)||c.memoizedState!==null,zs(s,a,c),bn=p):zs(s,a,c);break;default:zs(s,a,c)}}function cI(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new Sx),a.forEach(function(p){var y=Dx.bind(null,s,p);c.has(p)||(c.add(p),p.then(y,y))})}}function Xr(s,a){var c=a.deletions;if(c!==null)for(var p=0;p<c.length;p++){var y=c[p];try{var w=s,A=a,F=A;e:for(;F!==null;){switch(F.tag){case 5:yn=F.stateNode,Yr=!1;break e;case 3:yn=F.stateNode.containerInfo,Yr=!0;break e;case 4:yn=F.stateNode.containerInfo,Yr=!0;break e}F=F.return}if(yn===null)throw Error(t(160));uI(w,A,y),yn=null,Yr=!1;var z=y.alternate;z!==null&&(z.return=null),y.return=null}catch(Z){xt(y,a,Z)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)dI(a,s),a=a.sibling}function dI(s,a){var c=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Xr(a,s),mi(s),p&4){try{Ac(3,s,s.return),Sf(3,s)}catch(be){xt(s,s.return,be)}try{Ac(5,s,s.return)}catch(be){xt(s,s.return,be)}}break;case 1:Xr(a,s),mi(s),p&512&&c!==null&&Sl(c,c.return);break;case 5:if(Xr(a,s),mi(s),p&512&&c!==null&&Sl(c,c.return),s.flags&32){var y=s.stateNode;try{Rs(y,"")}catch(be){xt(s,s.return,be)}}if(p&4&&(y=s.stateNode,y!=null)){var w=s.memoizedProps,A=c!==null?c.memoizedProps:w,F=s.type,z=s.updateQueue;if(s.updateQueue=null,z!==null)try{F==="input"&&w.type==="radio"&&w.name!=null&&Er(y,w),Ku(F,A);var Z=Ku(F,w);for(A=0;A<z.length;A+=2){var ce=z[A],he=z[A+1];ce==="style"?qu(y,he):ce==="dangerouslySetInnerHTML"?zu(y,he):ce==="children"?Rs(y,he):U(y,ce,he,Z)}switch(F){case"input":Ir(y,w);break;case"textarea":Ba(y,w);break;case"select":var le=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!w.multiple;var we=w.value;we!=null?Fi(y,!!w.multiple,we,!1):le!==!!w.multiple&&(w.defaultValue!=null?Fi(y,!!w.multiple,w.defaultValue,!0):Fi(y,!!w.multiple,w.multiple?[]:"",!1))}y[gc]=w}catch(be){xt(s,s.return,be)}}break;case 6:if(Xr(a,s),mi(s),p&4){if(s.stateNode===null)throw Error(t(162));y=s.stateNode,w=s.memoizedProps;try{y.nodeValue=w}catch(be){xt(s,s.return,be)}}break;case 3:if(Xr(a,s),mi(s),p&4&&c!==null&&c.memoizedState.isDehydrated)try{Hr(a.containerInfo)}catch(be){xt(s,s.return,be)}break;case 4:Xr(a,s),mi(s);break;case 13:Xr(a,s),mi(s),y=s.child,y.flags&8192&&(w=y.memoizedState!==null,y.stateNode.isHidden=w,!w||y.alternate!==null&&y.alternate.memoizedState!==null||(Sy=ut())),p&4&&cI(s);break;case 22:if(ce=c!==null&&c.memoizedState!==null,s.mode&1?(bn=(Z=bn)||ce,Xr(a,s),bn=Z):Xr(a,s),mi(s),p&8192){if(Z=s.memoizedState!==null,(s.stateNode.isHidden=Z)&&!ce&&s.mode&1)for(Ie=s,ce=s.child;ce!==null;){for(he=Ie=ce;Ie!==null;){switch(le=Ie,we=le.child,le.tag){case 0:case 11:case 14:case 15:Ac(4,le,le.return);break;case 1:Sl(le,le.return);var Se=le.stateNode;if(typeof Se.componentWillUnmount=="function"){p=le,c=le.return;try{a=p,Se.props=a.memoizedProps,Se.state=a.memoizedState,Se.componentWillUnmount()}catch(be){xt(p,c,be)}}break;case 5:Sl(le,le.return);break;case 22:if(le.memoizedState!==null){pI(he);continue}}we!==null?(we.return=le,Ie=we):pI(he)}ce=ce.sibling}e:for(ce=null,he=s;;){if(he.tag===5){if(ce===null){ce=he;try{y=he.stateNode,Z?(w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(F=he.stateNode,z=he.memoizedProps.style,A=z!=null&&z.hasOwnProperty("display")?z.display:null,F.style.display=$u("display",A))}catch(be){xt(s,s.return,be)}}}else if(he.tag===6){if(ce===null)try{he.stateNode.nodeValue=Z?"":he.memoizedProps}catch(be){xt(s,s.return,be)}}else if((he.tag!==22&&he.tag!==23||he.memoizedState===null||he===s)&&he.child!==null){he.child.return=he,he=he.child;continue}if(he===s)break e;for(;he.sibling===null;){if(he.return===null||he.return===s)break e;ce===he&&(ce=null),he=he.return}ce===he&&(ce=null),he.sibling.return=he.return,he=he.sibling}}break;case 19:Xr(a,s),mi(s),p&4&&cI(s);break;case 21:break;default:Xr(a,s),mi(s)}}function mi(s){var a=s.flags;if(a&2){try{e:{for(var c=s.return;c!==null;){if(aI(c)){var p=c;break e}c=c.return}throw Error(t(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(Rs(y,""),p.flags&=-33);var w=lI(s);Ey(s,w,y);break;case 3:case 4:var A=p.stateNode.containerInfo,F=lI(s);wy(s,F,A);break;default:throw Error(t(161))}}catch(z){xt(s,s.return,z)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function bx(s,a,c){Ie=s,hI(s)}function hI(s,a,c){for(var p=(s.mode&1)!==0;Ie!==null;){var y=Ie,w=y.child;if(y.tag===22&&p){var A=y.memoizedState!==null||Tf;if(!A){var F=y.alternate,z=F!==null&&F.memoizedState!==null||bn;F=Tf;var Z=bn;if(Tf=A,(bn=z)&&!Z)for(Ie=y;Ie!==null;)A=Ie,z=A.child,A.tag===22&&A.memoizedState!==null?mI(y):z!==null?(z.return=A,Ie=z):mI(y);for(;w!==null;)Ie=w,hI(w),w=w.sibling;Ie=y,Tf=F,bn=Z}fI(s)}else y.subtreeFlags&8772&&w!==null?(w.return=y,Ie=w):fI(s)}}function fI(s){for(;Ie!==null;){var a=Ie;if(a.flags&8772){var c=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:bn||Sf(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!bn)if(c===null)p.componentDidMount();else{var y=a.elementType===a.type?c.memoizedProps:Jr(a.type,c.memoizedProps);p.componentDidUpdate(y,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var w=a.updateQueue;w!==null&&pE(a,w,p);break;case 3:var A=a.updateQueue;if(A!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}pE(a,A,c)}break;case 5:var F=a.stateNode;if(c===null&&a.flags&4){c=F;var z=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&c.focus();break;case"img":z.src&&(c.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Z=a.alternate;if(Z!==null){var ce=Z.memoizedState;if(ce!==null){var he=ce.dehydrated;he!==null&&Hr(he)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}bn||a.flags&512&&vy(a)}catch(le){xt(a,a.return,le)}}if(a===s){Ie=null;break}if(c=a.sibling,c!==null){c.return=a.return,Ie=c;break}Ie=a.return}}function pI(s){for(;Ie!==null;){var a=Ie;if(a===s){Ie=null;break}var c=a.sibling;if(c!==null){c.return=a.return,Ie=c;break}Ie=a.return}}function mI(s){for(;Ie!==null;){var a=Ie;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{Sf(4,a)}catch(z){xt(a,c,z)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var y=a.return;try{p.componentDidMount()}catch(z){xt(a,y,z)}}var w=a.return;try{vy(a)}catch(z){xt(a,w,z)}break;case 5:var A=a.return;try{vy(a)}catch(z){xt(a,A,z)}}}catch(z){xt(a,a.return,z)}if(a===s){Ie=null;break}var F=a.sibling;if(F!==null){F.return=a.return,Ie=F;break}Ie=a.return}}var Ax=Math.ceil,Rf=q.ReactCurrentDispatcher,Iy=q.ReactCurrentOwner,xr=q.ReactCurrentBatchConfig,Je=0,un=null,Wt=null,_n=0,dr=0,Rl=Ms(0),nn=0,Pc=null,Zo=0,bf=0,Ty=0,Cc=null,Qn=null,Sy=0,bl=1/0,Zi=null,Af=!1,Ry=null,$s=null,Pf=!1,qs=null,Cf=0,kc=0,by=null,kf=-1,xf=0;function Ln(){return Je&6?ut():kf!==-1?kf:kf=ut()}function Ws(s){return s.mode&1?Je&2&&_n!==0?_n&-_n:cx.transition!==null?(xf===0&&(xf=jo()),xf):(s=He,s!==0||(s=window.event,s=s===void 0?16:ic(s.type)),s):1}function Zr(s,a,c,p){if(50<kc)throw kc=0,by=null,Error(t(185));Cs(s,c,p),(!(Je&2)||s!==un)&&(s===un&&(!(Je&2)&&(bf|=c),nn===4&&Hs(s,_n)),Jn(s,p),c===1&&Je===0&&!(a.mode&1)&&(bl=ut()+500,sf&&Us()))}function Jn(s,a){var c=s.callbackNode;ji(s,a);var p=Bo(s,s===un?_n:0);if(p===0)c!==null&&Zu(c),s.callbackNode=null,s.callbackPriority=0;else if(a=p&-p,s.callbackPriority!==a){if(c!=null&&Zu(c),a===1)s.tag===0?ux(yI.bind(null,s)):nE(yI.bind(null,s)),sx(function(){!(Je&6)&&Us()}),c=null;else{switch(xs(p)){case 1:c=Fo;break;case 4:c=bs;break;case 16:c=Sr;break;case 536870912:c=kh;break;default:c=Sr}c=RI(c,gI.bind(null,s))}s.callbackPriority=a,s.callbackNode=c}}function gI(s,a){if(kf=-1,xf=0,Je&6)throw Error(t(327));var c=s.callbackNode;if(Al()&&s.callbackNode!==c)return null;var p=Bo(s,s===un?_n:0);if(p===0)return null;if(p&30||p&s.expiredLanes||a)a=Of(s,p);else{a=p;var y=Je;Je|=2;var w=vI();(un!==s||_n!==a)&&(Zi=null,bl=ut()+500,ta(s,a));do try{kx();break}catch(F){_I(s,F)}while(!0);qg(),Rf.current=w,Je=y,Wt!==null?a=0:(un=null,_n=0,a=nn)}if(a!==0){if(a===2&&(y=or(s),y!==0&&(p=y,a=Ay(s,y))),a===1)throw c=Pc,ta(s,0),Hs(s,p),Jn(s,ut()),c;if(a===6)Hs(s,p);else{if(y=s.current.alternate,!(p&30)&&!Px(y)&&(a=Of(s,p),a===2&&(w=or(s),w!==0&&(p=w,a=Ay(s,w))),a===1))throw c=Pc,ta(s,0),Hs(s,p),Jn(s,ut()),c;switch(s.finishedWork=y,s.finishedLanes=p,a){case 0:case 1:throw Error(t(345));case 2:na(s,Qn,Zi);break;case 3:if(Hs(s,p),(p&130023424)===p&&(a=Sy+500-ut(),10<a)){if(Bo(s,0)!==0)break;if(y=s.suspendedLanes,(y&p)!==p){Ln(),s.pingedLanes|=s.suspendedLanes&y;break}s.timeoutHandle=Ng(na.bind(null,s,Qn,Zi),a);break}na(s,Qn,Zi);break;case 4:if(Hs(s,p),(p&4194240)===p)break;for(a=s.eventTimes,y=-1;0<p;){var A=31-Nn(p);w=1<<A,A=a[A],A>y&&(y=A),p&=~w}if(p=y,p=ut()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*Ax(p/1960))-p,10<p){s.timeoutHandle=Ng(na.bind(null,s,Qn,Zi),p);break}na(s,Qn,Zi);break;case 5:na(s,Qn,Zi);break;default:throw Error(t(329))}}}return Jn(s,ut()),s.callbackNode===c?gI.bind(null,s):null}function Ay(s,a){var c=Cc;return s.current.memoizedState.isDehydrated&&(ta(s,a).flags|=256),s=Of(s,a),s!==2&&(a=Qn,Qn=c,a!==null&&Py(a)),s}function Py(s){Qn===null?Qn=s:Qn.push.apply(Qn,s)}function Px(s){for(var a=s;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var y=c[p],w=y.getSnapshot;y=y.value;try{if(!Gr(w(),y))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Hs(s,a){for(a&=~Ty,a&=~bf,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var c=31-Nn(a),p=1<<c;s[c]=-1,a&=~p}}function yI(s){if(Je&6)throw Error(t(327));Al();var a=Bo(s,0);if(!(a&1))return Jn(s,ut()),null;var c=Of(s,a);if(s.tag!==0&&c===2){var p=or(s);p!==0&&(a=p,c=Ay(s,p))}if(c===1)throw c=Pc,ta(s,0),Hs(s,a),Jn(s,ut()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,na(s,Qn,Zi),Jn(s,ut()),null}function Cy(s,a){var c=Je;Je|=1;try{return s(a)}finally{Je=c,Je===0&&(bl=ut()+500,sf&&Us())}}function ea(s){qs!==null&&qs.tag===0&&!(Je&6)&&Al();var a=Je;Je|=1;var c=xr.transition,p=He;try{if(xr.transition=null,He=1,s)return s()}finally{He=p,xr.transition=c,Je=a,!(Je&6)&&Us()}}function ky(){dr=Rl.current,pt(Rl)}function ta(s,a){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,ix(c)),Wt!==null)for(c=Wt.return;c!==null;){var p=c;switch(Ug(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&nf();break;case 3:Il(),pt(Hn),pt(Tn),Xg();break;case 5:Jg(p);break;case 4:Il();break;case 13:pt(St);break;case 19:pt(St);break;case 10:Wg(p.type._context);break;case 22:case 23:ky()}c=c.return}if(un=s,Wt=s=Ks(s.current,null),_n=dr=a,nn=0,Pc=null,Ty=bf=Zo=0,Qn=Cc=null,Jo!==null){for(a=0;a<Jo.length;a++)if(c=Jo[a],p=c.interleaved,p!==null){c.interleaved=null;var y=p.next,w=c.pending;if(w!==null){var A=w.next;w.next=y,p.next=A}c.pending=p}Jo=null}return s}function _I(s,a){do{var c=Wt;try{if(qg(),mf.current=vf,gf){for(var p=Rt.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}gf=!1}if(Xo=0,ln=tn=Rt=null,Ic=!1,Tc=0,Iy.current=null,c===null||c.return===null){nn=1,Pc=a,Wt=null;break}e:{var w=s,A=c.return,F=c,z=a;if(a=_n,F.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var Z=z,ce=F,he=ce.tag;if(!(ce.mode&1)&&(he===0||he===11||he===15)){var le=ce.alternate;le?(ce.updateQueue=le.updateQueue,ce.memoizedState=le.memoizedState,ce.lanes=le.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var we=$E(A);if(we!==null){we.flags&=-257,qE(we,A,F,w,a),we.mode&1&&zE(w,Z,a),a=we,z=Z;var Se=a.updateQueue;if(Se===null){var be=new Set;be.add(z),a.updateQueue=be}else Se.add(z);break e}else{if(!(a&1)){zE(w,Z,a),xy();break e}z=Error(t(426))}}else if(_t&&F.mode&1){var Ut=$E(A);if(Ut!==null){!(Ut.flags&65536)&&(Ut.flags|=256),qE(Ut,A,F,w,a),zg(Tl(z,F));break e}}w=z=Tl(z,F),nn!==4&&(nn=2),Cc===null?Cc=[w]:Cc.push(w),w=A;do{switch(w.tag){case 3:w.flags|=65536,a&=-a,w.lanes|=a;var J=BE(w,z,a);fE(w,J);break e;case 1:F=z;var H=w.type,Y=w.stateNode;if(!(w.flags&128)&&(typeof H.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&($s===null||!$s.has(Y)))){w.flags|=65536,a&=-a,w.lanes|=a;var ge=jE(w,F,a);fE(w,ge);break e}}w=w.return}while(w!==null)}EI(c)}catch(Ae){a=Ae,Wt===c&&c!==null&&(Wt=c=c.return);continue}break}while(!0)}function vI(){var s=Rf.current;return Rf.current=vf,s===null?vf:s}function xy(){(nn===0||nn===3||nn===2)&&(nn=4),un===null||!(Zo&268435455)&&!(bf&268435455)||Hs(un,_n)}function Of(s,a){var c=Je;Je|=2;var p=vI();(un!==s||_n!==a)&&(Zi=null,ta(s,a));do try{Cx();break}catch(y){_I(s,y)}while(!0);if(qg(),Je=c,Rf.current=p,Wt!==null)throw Error(t(261));return un=null,_n=0,nn}function Cx(){for(;Wt!==null;)wI(Wt)}function kx(){for(;Wt!==null&&!Ph();)wI(Wt)}function wI(s){var a=SI(s.alternate,s,dr);s.memoizedProps=s.pendingProps,a===null?EI(s):Wt=a,Iy.current=null}function EI(s){var a=s;do{var c=a.alternate;if(s=a.return,a.flags&32768){if(c=Tx(c,a),c!==null){c.flags&=32767,Wt=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{nn=6,Wt=null;return}}else if(c=Ix(c,a,dr),c!==null){Wt=c;return}if(a=a.sibling,a!==null){Wt=a;return}Wt=a=s}while(a!==null);nn===0&&(nn=5)}function na(s,a,c){var p=He,y=xr.transition;try{xr.transition=null,He=1,xx(s,a,c,p)}finally{xr.transition=y,He=p}return null}function xx(s,a,c,p){do Al();while(qs!==null);if(Je&6)throw Error(t(327));c=s.finishedWork;var y=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var w=c.lanes|c.childLanes;if(ot(s,w),s===un&&(Wt=un=null,_n=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||Pf||(Pf=!0,RI(Sr,function(){return Al(),null})),w=(c.flags&15990)!==0,c.subtreeFlags&15990||w){w=xr.transition,xr.transition=null;var A=He;He=1;var F=Je;Je|=4,Iy.current=null,Rx(s,c),dI(c,s),Yk(xg),Ns=!!kg,xg=kg=null,s.current=c,bx(c),pg(),Je=F,He=A,xr.transition=w}else s.current=c;if(Pf&&(Pf=!1,qs=s,Cf=y),w=s.pendingLanes,w===0&&($s=null),xh(c.stateNode),Jn(s,ut()),a!==null)for(p=s.onRecoverableError,c=0;c<a.length;c++)y=a[c],p(y.value,{componentStack:y.stack,digest:y.digest});if(Af)throw Af=!1,s=Ry,Ry=null,s;return Cf&1&&s.tag!==0&&Al(),w=s.pendingLanes,w&1?s===by?kc++:(kc=0,by=s):kc=0,Us(),null}function Al(){if(qs!==null){var s=xs(Cf),a=xr.transition,c=He;try{if(xr.transition=null,He=16>s?16:s,qs===null)var p=!1;else{if(s=qs,qs=null,Cf=0,Je&6)throw Error(t(331));var y=Je;for(Je|=4,Ie=s.current;Ie!==null;){var w=Ie,A=w.child;if(Ie.flags&16){var F=w.deletions;if(F!==null){for(var z=0;z<F.length;z++){var Z=F[z];for(Ie=Z;Ie!==null;){var ce=Ie;switch(ce.tag){case 0:case 11:case 15:Ac(8,ce,w)}var he=ce.child;if(he!==null)he.return=ce,Ie=he;else for(;Ie!==null;){ce=Ie;var le=ce.sibling,we=ce.return;if(oI(ce),ce===Z){Ie=null;break}if(le!==null){le.return=we,Ie=le;break}Ie=we}}}var Se=w.alternate;if(Se!==null){var be=Se.child;if(be!==null){Se.child=null;do{var Ut=be.sibling;be.sibling=null,be=Ut}while(be!==null)}}Ie=w}}if(w.subtreeFlags&2064&&A!==null)A.return=w,Ie=A;else e:for(;Ie!==null;){if(w=Ie,w.flags&2048)switch(w.tag){case 0:case 11:case 15:Ac(9,w,w.return)}var J=w.sibling;if(J!==null){J.return=w.return,Ie=J;break e}Ie=w.return}}var H=s.current;for(Ie=H;Ie!==null;){A=Ie;var Y=A.child;if(A.subtreeFlags&2064&&Y!==null)Y.return=A,Ie=Y;else e:for(A=H;Ie!==null;){if(F=Ie,F.flags&2048)try{switch(F.tag){case 0:case 11:case 15:Sf(9,F)}}catch(Ae){xt(F,F.return,Ae)}if(F===A){Ie=null;break e}var ge=F.sibling;if(ge!==null){ge.return=F.return,Ie=ge;break e}Ie=F.return}}if(Je=y,Us(),sr&&typeof sr.onPostCommitFiberRoot=="function")try{sr.onPostCommitFiberRoot(Uo,s)}catch{}p=!0}return p}finally{He=c,xr.transition=a}}return!1}function II(s,a,c){a=Tl(c,a),a=BE(s,a,1),s=js(s,a,1),a=Ln(),s!==null&&(Cs(s,1,a),Jn(s,a))}function xt(s,a,c){if(s.tag===3)II(s,s,c);else for(;a!==null;){if(a.tag===3){II(a,s,c);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&($s===null||!$s.has(p))){s=Tl(c,s),s=jE(a,s,1),a=js(a,s,1),s=Ln(),a!==null&&(Cs(a,1,s),Jn(a,s));break}}a=a.return}}function Ox(s,a,c){var p=s.pingCache;p!==null&&p.delete(a),a=Ln(),s.pingedLanes|=s.suspendedLanes&c,un===s&&(_n&c)===c&&(nn===4||nn===3&&(_n&130023424)===_n&&500>ut()-Sy?ta(s,0):Ty|=c),Jn(s,a)}function TI(s,a){a===0&&(s.mode&1?(a=Ja,Ja<<=1,!(Ja&130023424)&&(Ja=4194304)):a=1);var c=Ln();s=Ji(s,a),s!==null&&(Cs(s,a,c),Jn(s,c))}function Nx(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),TI(s,c)}function Dx(s,a){var c=0;switch(s.tag){case 13:var p=s.stateNode,y=s.memoizedState;y!==null&&(c=y.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(a),TI(s,c)}var SI;SI=function(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps||Hn.current)Gn=!0;else{if(!(s.lanes&c)&&!(a.flags&128))return Gn=!1,Ex(s,a,c);Gn=!!(s.flags&131072)}else Gn=!1,_t&&a.flags&1048576&&rE(a,af,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;If(s,a),s=a.pendingProps;var y=ml(a,Tn.current);El(a,c),y=ty(null,a,p,s,y,c);var w=ny();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Kn(p)?(w=!0,rf(a)):w=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Gg(a),y.updater=wf,a.stateNode=y,y._reactInternals=a,ly(a,p,s,c),a=hy(null,a,p,!0,w,c)):(a.tag=0,_t&&w&&Fg(a),Vn(null,a,y,c),a=a.child),a;case 16:p=a.elementType;e:{switch(If(s,a),s=a.pendingProps,y=p._init,p=y(p._payload),a.type=p,y=a.tag=Lx(p),s=Jr(p,s),y){case 0:a=dy(null,a,p,s,c);break e;case 1:a=JE(null,a,p,s,c);break e;case 11:a=WE(null,a,p,s,c);break e;case 14:a=HE(null,a,p,Jr(p.type,s),c);break e}throw Error(t(306,p,""))}return a;case 0:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:Jr(p,y),dy(s,a,p,y,c);case 1:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:Jr(p,y),JE(s,a,p,y,c);case 3:e:{if(YE(a),s===null)throw Error(t(387));p=a.pendingProps,w=a.memoizedState,y=w.element,hE(s,a),ff(a,p,null,c);var A=a.memoizedState;if(p=A.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){y=Tl(Error(t(423)),a),a=XE(s,a,p,c,y);break e}else if(p!==y){y=Tl(Error(t(424)),a),a=XE(s,a,p,c,y);break e}else for(cr=Ls(a.stateNode.containerInfo.firstChild),ur=a,_t=!0,Qr=null,c=cE(a,null,p,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(_l(),p===y){a=Xi(s,a,c);break e}Vn(s,a,p,c)}a=a.child}return a;case 5:return mE(a),s===null&&jg(a),p=a.type,y=a.pendingProps,w=s!==null?s.memoizedProps:null,A=y.children,Og(p,y)?A=null:w!==null&&Og(p,w)&&(a.flags|=32),QE(s,a),Vn(s,a,A,c),a.child;case 6:return s===null&&jg(a),null;case 13:return ZE(s,a,c);case 4:return Qg(a,a.stateNode.containerInfo),p=a.pendingProps,s===null?a.child=vl(a,null,p,c):Vn(s,a,p,c),a.child;case 11:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:Jr(p,y),WE(s,a,p,y,c);case 7:return Vn(s,a,a.pendingProps,c),a.child;case 8:return Vn(s,a,a.pendingProps.children,c),a.child;case 12:return Vn(s,a,a.pendingProps.children,c),a.child;case 10:e:{if(p=a.type._context,y=a.pendingProps,w=a.memoizedProps,A=y.value,ct(cf,p._currentValue),p._currentValue=A,w!==null)if(Gr(w.value,A)){if(w.children===y.children&&!Hn.current){a=Xi(s,a,c);break e}}else for(w=a.child,w!==null&&(w.return=a);w!==null;){var F=w.dependencies;if(F!==null){A=w.child;for(var z=F.firstContext;z!==null;){if(z.context===p){if(w.tag===1){z=Yi(-1,c&-c),z.tag=2;var Z=w.updateQueue;if(Z!==null){Z=Z.shared;var ce=Z.pending;ce===null?z.next=z:(z.next=ce.next,ce.next=z),Z.pending=z}}w.lanes|=c,z=w.alternate,z!==null&&(z.lanes|=c),Hg(w.return,c,a),F.lanes|=c;break}z=z.next}}else if(w.tag===10)A=w.type===a.type?null:w.child;else if(w.tag===18){if(A=w.return,A===null)throw Error(t(341));A.lanes|=c,F=A.alternate,F!==null&&(F.lanes|=c),Hg(A,c,a),A=w.sibling}else A=w.child;if(A!==null)A.return=w;else for(A=w;A!==null;){if(A===a){A=null;break}if(w=A.sibling,w!==null){w.return=A.return,A=w;break}A=A.return}w=A}Vn(s,a,y.children,c),a=a.child}return a;case 9:return y=a.type,p=a.pendingProps.children,El(a,c),y=Cr(y),p=p(y),a.flags|=1,Vn(s,a,p,c),a.child;case 14:return p=a.type,y=Jr(p,a.pendingProps),y=Jr(p.type,y),HE(s,a,p,y,c);case 15:return KE(s,a,a.type,a.pendingProps,c);case 17:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:Jr(p,y),If(s,a),a.tag=1,Kn(p)?(s=!0,rf(a)):s=!1,El(a,c),FE(a,p,y),ly(a,p,y,c),hy(null,a,p,!0,s,c);case 19:return tI(s,a,c);case 22:return GE(s,a,c)}throw Error(t(156,a.tag))};function RI(s,a){return Ga(s,a)}function Vx(s,a,c,p){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Or(s,a,c,p){return new Vx(s,a,c,p)}function Oy(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Lx(s){if(typeof s=="function")return Oy(s)?1:0;if(s!=null){if(s=s.$$typeof,s===k)return 11;if(s===M)return 14}return 2}function Ks(s,a){var c=s.alternate;return c===null?(c=Or(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Nf(s,a,c,p,y,w){var A=2;if(p=s,typeof s=="function")Oy(s)&&(A=1);else if(typeof s=="string")A=5;else e:switch(s){case D:return ra(c.children,y,w,a);case b:A=8,y|=8;break;case C:return s=Or(12,c,a,y|2),s.elementType=C,s.lanes=w,s;case x:return s=Or(13,c,a,y),s.elementType=x,s.lanes=w,s;case ee:return s=Or(19,c,a,y),s.elementType=ee,s.lanes=w,s;case oe:return Df(c,y,w,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case E:A=10;break e;case O:A=9;break e;case k:A=11;break e;case M:A=14;break e;case me:A=16,p=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=Or(A,c,a,y),a.elementType=s,a.type=p,a.lanes=w,a}function ra(s,a,c,p){return s=Or(7,s,p,a),s.lanes=c,s}function Df(s,a,c,p){return s=Or(22,s,p,a),s.elementType=oe,s.lanes=c,s.stateNode={isHidden:!1},s}function Ny(s,a,c){return s=Or(6,s,null,a),s.lanes=c,s}function Dy(s,a,c){return a=Or(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function Mx(s,a,c,p,y){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ps(0),this.expirationTimes=Ps(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ps(0),this.identifierPrefix=p,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Vy(s,a,c,p,y,w,A,F,z){return s=new Mx(s,a,c,F,z),a===1?(a=1,w===!0&&(a|=8)):a=0,w=Or(3,null,null,a),s.current=w,w.stateNode=s,w.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gg(w),s}function Fx(s,a,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:W,key:p==null?null:""+p,children:s,containerInfo:a,implementation:c}}function bI(s){if(!s)return Fs;s=s._reactInternals;e:{if(jr(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Kn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(Kn(c))return eE(s,c,a)}return a}function AI(s,a,c,p,y,w,A,F,z){return s=Vy(c,p,!0,s,y,w,A,F,z),s.context=bI(null),c=s.current,p=Ln(),y=Ws(c),w=Yi(p,y),w.callback=a??null,js(c,w,y),s.current.lanes=y,Cs(s,y,p),Jn(s,p),s}function Vf(s,a,c,p){var y=a.current,w=Ln(),A=Ws(y);return c=bI(c),a.context===null?a.context=c:a.pendingContext=c,a=Yi(w,A),a.payload={element:s},p=p===void 0?null:p,p!==null&&(a.callback=p),s=js(y,a,A),s!==null&&(Zr(s,y,A,w),hf(s,y,A)),A}function Lf(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function PI(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function Ly(s,a){PI(s,a),(s=s.alternate)&&PI(s,a)}function Ux(){return null}var CI=typeof reportError=="function"?reportError:function(s){console.error(s)};function My(s){this._internalRoot=s}Mf.prototype.render=My.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));Vf(s,a,null,null)},Mf.prototype.unmount=My.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;ea(function(){Vf(null,s,null,null)}),a[Hi]=null}};function Mf(s){this._internalRoot=s}Mf.prototype.unstable_scheduleHydration=function(s){if(s){var a=Lh();s={blockedOn:null,target:s,priority:a};for(var c=0;c<li.length&&a!==0&&a<li[c].priority;c++);li.splice(c,0,s),c===0&&Uh(s)}};function Fy(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Ff(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function kI(){}function Bx(s,a,c,p,y){if(y){if(typeof p=="function"){var w=p;p=function(){var Z=Lf(A);w.call(Z)}}var A=AI(a,p,s,0,null,!1,!1,"",kI);return s._reactRootContainer=A,s[Hi]=A.current,pc(s.nodeType===8?s.parentNode:s),ea(),A}for(;y=s.lastChild;)s.removeChild(y);if(typeof p=="function"){var F=p;p=function(){var Z=Lf(z);F.call(Z)}}var z=Vy(s,0,!1,null,null,!1,!1,"",kI);return s._reactRootContainer=z,s[Hi]=z.current,pc(s.nodeType===8?s.parentNode:s),ea(function(){Vf(a,z,c,p)}),z}function Uf(s,a,c,p,y){var w=c._reactRootContainer;if(w){var A=w;if(typeof y=="function"){var F=y;y=function(){var z=Lf(A);F.call(z)}}Vf(a,A,s,y)}else A=Bx(c,a,s,y,p);return Lf(A)}Dh=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var c=As(a.pendingLanes);c!==0&&(ks(a,c|1),Jn(a,ut()),!(Je&6)&&(bl=ut()+500,Us()))}break;case 13:ea(function(){var p=Ji(s,1);if(p!==null){var y=Ln();Zr(p,s,1,y)}}),Ly(s,1)}},Ya=function(s){if(s.tag===13){var a=Ji(s,134217728);if(a!==null){var c=Ln();Zr(a,s,134217728,c)}Ly(s,134217728)}},Vh=function(s){if(s.tag===13){var a=Ws(s),c=Ji(s,a);if(c!==null){var p=Ln();Zr(c,s,a,p)}Ly(s,a)}},Lh=function(){return He},Mh=function(s,a){var c=He;try{return He=s,a()}finally{He=c}},za=function(s,a,c){switch(a){case"input":if(Ir(s,c),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var p=c[a];if(p!==s&&p.form===s.form){var y=tf(p);if(!y)throw Error(t(90));nt(p),Ir(p,y)}}}break;case"textarea":Ba(s,c);break;case"select":a=c.value,a!=null&&Fi(s,!!c.multiple,a,!1)}},Do=Cy,Qu=ea;var jx={usingClientEntryPoint:!1,Events:[yc,fl,tf,oi,Gu,Cy]},xc={findFiberByHostInstance:Ho,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zx={bundleType:xc.bundleType,version:xc.version,rendererPackageName:xc.rendererPackageName,rendererConfig:xc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:q.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Xu(s),s===null?null:s.stateNode},findFiberByHostInstance:xc.findFiberByHostInstance||Ux,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bf.isDisabled&&Bf.supportsFiber)try{Uo=Bf.inject(zx),sr=Bf}catch{}}return Yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jx,Yn.createPortal=function(s,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fy(a))throw Error(t(200));return Fx(s,a,null,c)},Yn.createRoot=function(s,a){if(!Fy(s))throw Error(t(299));var c=!1,p="",y=CI;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=Vy(s,1,!1,null,null,c,!1,p,y),s[Hi]=a.current,pc(s.nodeType===8?s.parentNode:s),new My(a)},Yn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Xu(a),s=s===null?null:s.stateNode,s},Yn.flushSync=function(s){return ea(s)},Yn.hydrate=function(s,a,c){if(!Ff(a))throw Error(t(200));return Uf(null,s,a,!0,c)},Yn.hydrateRoot=function(s,a,c){if(!Fy(s))throw Error(t(405));var p=c!=null&&c.hydratedSources||null,y=!1,w="",A=CI;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onRecoverableError!==void 0&&(A=c.onRecoverableError)),a=AI(a,null,s,1,c??null,y,!1,w,A),s[Hi]=a.current,pc(s),p)for(s=0;s<p.length;s++)c=p[s],y=c._getVersion,y=y(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,y]:a.mutableSourceEagerHydrationData.push(c,y);return new Mf(a)},Yn.render=function(s,a,c){if(!Ff(a))throw Error(t(200));return Uf(null,s,a,!1,c)},Yn.unmountComponentAtNode=function(s){if(!Ff(s))throw Error(t(40));return s._reactRootContainer?(ea(function(){Uf(null,null,s,!1,function(){s._reactRootContainer=null,s[Hi]=null})}),!0):!1},Yn.unstable_batchedUpdates=Cy,Yn.unstable_renderSubtreeIntoContainer=function(s,a,c,p){if(!Ff(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Uf(s,a,c,!1,p)},Yn.version="18.3.1-next-f1338f8080-20240426",Yn}var FI;function Yx(){if(FI)return jy.exports;FI=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),jy.exports=Jx(),jy.exports}var UI;function Xx(){if(UI)return jf;UI=1;var n=Yx();return jf.createRoot=n.createRoot,jf.hydrateRoot=n.hydrateRoot,jf}var Zx=Xx(),qy={exports:{}},Wy,BI;function eO(){if(BI)return Wy;BI=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Wy=n,Wy}var Hy,jI;function tO(){if(jI)return Hy;jI=1;var n=eO();function e(){}function t(){}return t.resetWarningCache=e,Hy=function(){function r(l,u,d,f,m,g){if(g!==n){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},Hy}var zI;function nR(){return zI||(zI=1,qy.exports=tO()()),qy.exports}var nO=nR();const je=Rv(nO),_s=K.createContext(),rR=({children:n,reducer:e,initialState:t})=>B.jsx(_s.Provider,{value:K.useReducer(e,t),children:n});rR.propTypes={children:je.node.isRequired,reducer:je.func.isRequired,initialState:je.object.isRequired};const ti={ADD_TO_BASKET:"ADD_TO_BASKET",REMOVE_FROM_BASKET:"REMOVE_FROM_BASKET",SET_USER:"SET_USER",EMPTY_BASKET:"EMPTY_BASKET"};var Nc={},$I;function rO(){if($I)return Nc;$I=1,Object.defineProperty(Nc,"__esModule",{value:!0}),Nc.parse=l,Nc.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function l(_,T){const I=new o,R=_.length;if(R<2)return I;const P=(T==null?void 0:T.decode)||m;let L=0;do{const V=_.indexOf("=",L);if(V===-1)break;const U=_.indexOf(";",L),q=U===-1?R:U;if(V>q){L=_.lastIndexOf(";",V-1)+1;continue}const j=u(_,L,V),W=d(_,V,j),D=_.slice(j,W);if(I[D]===void 0){let b=u(_,V+1,q),C=d(_,q,b);const E=P(_.slice(b,C));I[D]=E}L=q+1}while(L<R);return I}function u(_,T,I){do{const R=_.charCodeAt(T);if(R!==32&&R!==9)return T}while(++T<I);return I}function d(_,T,I){for(;T>I;){const R=_.charCodeAt(--T);if(R!==32&&R!==9)return T+1}return I}function f(_,T,I){const R=(I==null?void 0:I.encode)||encodeURIComponent;if(!n.test(_))throw new TypeError(`argument name is invalid: ${_}`);const P=R(T);if(!e.test(P))throw new TypeError(`argument val is invalid: ${T}`);let L=_+"="+P;if(!I)return L;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);L+="; Max-Age="+I.maxAge}if(I.domain){if(!t.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);L+="; Domain="+I.domain}if(I.path){if(!r.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);L+="; Path="+I.path}if(I.expires){if(!g(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);L+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(L+="; HttpOnly"),I.secure&&(L+="; Secure"),I.partitioned&&(L+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return L}function m(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function g(_){return i.call(_)==="[object Date]"}return Nc}rO();/**
 * react-router v7.0.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var qI="popstate";function iO(n={}){function e(r,i){let{pathname:o,search:l,hash:u}=r.location;return R_("",{pathname:o,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Rd(i)}return oO(e,t,null,n)}function bt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function To(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sO(){return Math.random().toString(36).substring(2,10)}function WI(n,e){return{usr:n.state,key:n.key,idx:e}}function R_(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Eu(e):e,state:t,key:e&&e.key||r||sO()}}function Rd({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Eu(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function oO(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,u="POP",d=null,f=m();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function m(){return(l.state||{idx:null}).idx}function g(){u="POP";let P=m(),L=P==null?null:P-f;f=P,d&&d({action:u,location:R.location,delta:L})}function _(P,L){u="PUSH";let V=R_(R.location,P,L);f=m()+1;let U=WI(V,f),q=R.createHref(V);try{l.pushState(U,"",q)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(q)}o&&d&&d({action:u,location:R.location,delta:1})}function T(P,L){u="REPLACE";let V=R_(R.location,P,L);f=m();let U=WI(V,f),q=R.createHref(V);l.replaceState(U,"",q),o&&d&&d({action:u,location:R.location,delta:0})}function I(P){let L=i.location.origin!=="null"?i.location.origin:i.location.href,V=typeof P=="string"?P:Rd(P);return V=V.replace(/ $/,"%20"),bt(L,`No window.location.(origin|href) available to create URL for href: ${V}`),new URL(V,L)}let R={get action(){return u},get location(){return n(i,l)},listen(P){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(qI,g),d=P,()=>{i.removeEventListener(qI,g),d=null}},createHref(P){return e(i,P)},createURL:I,encodeLocation(P){let L=I(P);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:_,replace:T,go(P){return l.go(P)}};return R}function iR(n,e,t="/"){return aO(n,e,t,!1)}function aO(n,e,t,r){let i=typeof e=="string"?Eu(e):e,o=oo(i.pathname||"/",t);if(o==null)return null;let l=sR(n);lO(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=vO(o);u=yO(l[d],f,r)}return u}function sR(n,e=[],t=[],r=""){let i=(o,l,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(bt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let f=us([r,d.relativePath]),m=t.concat(d);o.children&&o.children.length>0&&(bt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),sR(o.children,e,m,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:mO(f,o.index),routesMeta:m})};return n.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,l);else for(let d of oR(o.path))i(o,l,d)}),e}function oR(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=oR(r.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),i&&u.push(...l),u.map(d=>n.startsWith("/")&&d===""?"/":d)}function lO(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:gO(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var uO=/^:[\w-]+$/,cO=3,dO=2,hO=1,fO=10,pO=-2,HI=n=>n==="*";function mO(n,e){let t=n.split("/"),r=t.length;return t.some(HI)&&(r+=pO),e&&(r+=dO),t.filter(i=>!HI(i)).reduce((i,o)=>i+(uO.test(o)?cO:o===""?hO:fO),r)}function gO(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function yO(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],f=u===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",g=Cp({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),_=d.route;if(!g&&f&&t&&!r[r.length-1].route.index&&(g=Cp({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:us([o,g.pathname]),pathnameBase:TO(us([o,g.pathnameBase])),route:_}),g.pathnameBase!=="/"&&(o=us([o,g.pathnameBase]))}return l}function Cp(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=_O(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,{paramName:m,isOptional:g},_)=>{if(m==="*"){let I=u[_]||"";l=o.slice(0,o.length-I.length).replace(/(.)\/+$/,"$1")}const T=u[_];return g&&!T?f[m]=void 0:f[m]=(T||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:n}}function _O(n,e=!1,t=!0){To(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function vO(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return To(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function oo(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function wO(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Eu(n):n;return{pathname:t?t.startsWith("/")?t:EO(t,e):e,search:SO(r),hash:RO(i)}}function EO(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Ky(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function IO(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function aR(n){let e=IO(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function lR(n,e,t,r=!1){let i;typeof n=="string"?i=Eu(n):(i={...n},bt(!i.pathname||!i.pathname.includes("?"),Ky("?","pathname","search",i)),bt(!i.pathname||!i.pathname.includes("#"),Ky("#","pathname","hash",i)),bt(!i.search||!i.search.includes("#"),Ky("#","search","hash",i)));let o=n===""||i.pathname==="",l=o?"/":i.pathname,u;if(l==null)u=t;else{let g=e.length-1;if(!r&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),g-=1;i.pathname=_.join("/")}u=g>=0?e[g]:"/"}let d=wO(i,u),f=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}var us=n=>n.join("/").replace(/\/\/+/g,"/"),TO=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),SO=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,RO=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function bO(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var uR=["POST","PUT","PATCH","DELETE"];new Set(uR);var AO=["GET",...uR];new Set(AO);var Iu=K.createContext(null);Iu.displayName="DataRouter";var am=K.createContext(null);am.displayName="DataRouterState";var cR=K.createContext({isTransitioning:!1});cR.displayName="ViewTransition";var PO=K.createContext(new Map);PO.displayName="Fetchers";var CO=K.createContext(null);CO.displayName="Await";var Li=K.createContext(null);Li.displayName="Navigation";var Yd=K.createContext(null);Yd.displayName="Location";var Mi=K.createContext({outlet:null,matches:[],isDataRoute:!1});Mi.displayName="Route";var bv=K.createContext(null);bv.displayName="RouteError";function kO(n,{relative:e}={}){bt(Xd(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=K.useContext(Li),{hash:i,pathname:o,search:l}=Zd(n,{relative:e}),u=o;return t!=="/"&&(u=o==="/"?t:us([t,o])),r.createHref({pathname:u,search:l,hash:i})}function Xd(){return K.useContext(Yd)!=null}function So(){return bt(Xd(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(Yd).location}var dR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hR(n){K.useContext(Li).static||K.useLayoutEffect(n)}function lm(){let{isDataRoute:n}=K.useContext(Mi);return n?$O():xO()}function xO(){bt(Xd(),"useNavigate() may be used only in the context of a <Router> component.");let n=K.useContext(Iu),{basename:e,navigator:t}=K.useContext(Li),{matches:r}=K.useContext(Mi),{pathname:i}=So(),o=JSON.stringify(aR(r)),l=K.useRef(!1);return hR(()=>{l.current=!0}),K.useCallback((d,f={})=>{if(To(l.current,dR),!l.current)return;if(typeof d=="number"){t.go(d);return}let m=lR(d,JSON.parse(o),i,f.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:us([e,m.pathname])),(f.replace?t.replace:t.push)(m,f.state,f)},[e,t,o,i,n])}K.createContext(null);function fR(){let{matches:n}=K.useContext(Mi),e=n[n.length-1];return e?e.params:{}}function Zd(n,{relative:e}={}){let{matches:t}=K.useContext(Mi),{pathname:r}=So(),i=JSON.stringify(aR(t));return K.useMemo(()=>lR(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function OO(n,e){return pR(n,e)}function pR(n,e,t,r){var R;bt(Xd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=K.useContext(Li),{matches:o}=K.useContext(Mi),l=o[o.length-1],u=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let f=So(),m;if(e){let P=typeof e=="string"?Eu(e):e;bt(d==="/"||((R=P.pathname)==null?void 0:R.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${P.pathname}" was given in the \`location\` prop.`),m=P}else m=f;let g=m.pathname||"/",_=g;if(d!=="/"){let P=d.replace(/^\//,"").split("/");_="/"+g.replace(/^\//,"").split("/").slice(P.length).join("/")}let T=iR(n,{pathname:_}),I=MO(T&&T.map(P=>Object.assign({},P,{params:Object.assign({},u,P.params),pathname:us([d,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?d:us([d,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),o,t,r);return e&&I?K.createElement(Yd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},I):I}function NO(){let n=zO(),e=bO(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),t?K.createElement("pre",{style:i},t):null,null)}var DO=K.createElement(NO,null),VO=class extends K.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?K.createElement(Mi.Provider,{value:this.props.routeContext},K.createElement(bv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function LO({routeContext:n,match:e,children:t}){let r=K.useContext(Iu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(Mi.Provider,{value:n},t)}function MO(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,o=t==null?void 0:t.errors;if(o!=null){let d=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);bt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,u=-1;if(t)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:g}=t,_=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||_){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,m)=>{let g,_=!1,T=null,I=null;t&&(g=o&&f.route.id?o[f.route.id]:void 0,T=f.route.errorElement||DO,l&&(u<0&&m===0?(qO("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,I=null):u===m&&(_=!0,I=f.route.hydrateFallbackElement||null)));let R=e.concat(i.slice(0,m+1)),P=()=>{let L;return g?L=T:_?L=I:f.route.Component?L=K.createElement(f.route.Component,null):f.route.element?L=f.route.element:L=d,K.createElement(LO,{match:f,routeContext:{outlet:d,matches:R,isDataRoute:t!=null},children:L})};return t&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?K.createElement(VO,{location:t.location,revalidation:t.revalidation,component:T,error:g,children:P(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):P()},null)}function Av(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FO(n){let e=K.useContext(Iu);return bt(e,Av(n)),e}function UO(n){let e=K.useContext(am);return bt(e,Av(n)),e}function BO(n){let e=K.useContext(Mi);return bt(e,Av(n)),e}function Pv(n){let e=BO(n),t=e.matches[e.matches.length-1];return bt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function jO(){return Pv("useRouteId")}function zO(){var r;let n=K.useContext(bv),e=UO("useRouteError"),t=Pv("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function $O(){let{router:n}=FO("useNavigate"),e=Pv("useNavigate"),t=K.useRef(!1);return hR(()=>{t.current=!0}),K.useCallback(async(i,o={})=>{To(t.current,dR),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var KI={};function qO(n,e,t){KI[n]||(KI[n]=!0,To(!1,t))}K.memo(WO);function WO({routes:n,future:e,state:t}){return pR(n,void 0,t,e)}function ns(n){bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function HO({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1}){bt(!Xd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=K.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof t=="string"&&(t=Eu(t));let{pathname:d="/",search:f="",hash:m="",state:g=null,key:_="default"}=t,T=K.useMemo(()=>{let I=oo(d,l);return I==null?null:{location:{pathname:I,search:f,hash:m,state:g,key:_},navigationType:r}},[l,d,f,m,g,_,r]);return To(T!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:K.createElement(Li.Provider,{value:u},K.createElement(Yd.Provider,{children:e,value:T}))}function KO({children:n,location:e}){return OO(b_(n),e)}function b_(n,e=[]){let t=[];return K.Children.forEach(n,(r,i)=>{if(!K.isValidElement(r))return;let o=[...e,i];if(r.type===K.Fragment){t.push.apply(t,b_(r.props.children,o));return}bt(r.type===ns,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),bt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=b_(r.props.children,o)),t.push(l)}),t}var sp="get",op="application/x-www-form-urlencoded";function um(n){return n!=null&&typeof n.tagName=="string"}function GO(n){return um(n)&&n.tagName.toLowerCase()==="button"}function QO(n){return um(n)&&n.tagName.toLowerCase()==="form"}function JO(n){return um(n)&&n.tagName.toLowerCase()==="input"}function YO(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function XO(n,e){return n.button===0&&(!e||e==="_self")&&!YO(n)}var zf=null;function ZO(){if(zf===null)try{new FormData(document.createElement("form"),0),zf=!1}catch{zf=!0}return zf}var eN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gy(n){return n!=null&&!eN.has(n)?(To(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${op}"`),null):n}function tN(n,e){let t,r,i,o,l;if(QO(n)){let u=n.getAttribute("action");r=u?oo(u,e):null,t=n.getAttribute("method")||sp,i=Gy(n.getAttribute("enctype"))||op,o=new FormData(n)}else if(GO(n)||JO(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||u.getAttribute("action");if(r=d?oo(d,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||sp,i=Gy(n.getAttribute("formenctype"))||Gy(u.getAttribute("enctype"))||op,o=new FormData(u,n),!ZO()){let{name:f,type:m,value:g}=n;if(m==="image"){let _=f?`${f}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else f&&o.append(f,g)}}else{if(um(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=sp,r=null,i=op,l=n}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:l}}function Cv(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function nN(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rN(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function iN(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await nN(o,t);return l.links?l.links():[]}return[]}));return lN(r.flat(1).filter(rN).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function GI(n,e,t,r,i,o){let l=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,u=(d,f)=>{var m;return t[f].pathname!==d.pathname||((m=t[f].route.path)==null?void 0:m.endsWith("*"))&&t[f].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,f)=>l(d,f)||u(d,f)):o==="data"?e.filter((d,f)=>{var g;let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=t[0])==null?void 0:g.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function sN(n,e){return oN(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function oN(n){return[...new Set(n)]}function aN(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function lN(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(aN(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}function uN(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function cN(){let n=K.useContext(Iu);return Cv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function dN(){let n=K.useContext(am);return Cv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var kv=K.createContext(void 0);kv.displayName="FrameworkContext";function mR(){let n=K.useContext(kv);return Cv(n,"You must render this element inside a <HydratedRouter> element"),n}function hN(n,e){let t=K.useContext(kv),[r,i]=K.useState(!1),[o,l]=K.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:m,onTouchStart:g}=e,_=K.useRef(null);K.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let R=L=>{L.forEach(V=>{l(V.isIntersecting)})},P=new IntersectionObserver(R,{threshold:.5});return _.current&&P.observe(_.current),()=>{P.disconnect()}}},[n]),K.useEffect(()=>{if(r){let R=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(R)}}},[r]);let T=()=>{i(!0)},I=()=>{i(!1),l(!1)};return t?n!=="intent"?[o,_,{}]:[o,_,{onFocus:Dc(u,T),onBlur:Dc(d,I),onMouseEnter:Dc(f,T),onMouseLeave:Dc(m,I),onTouchStart:Dc(g,T)}]:[!1,_,{}]}function Dc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function fN({page:n,...e}){let{router:t}=cN(),r=K.useMemo(()=>iR(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?K.createElement(mN,{page:n,matches:r,...e}):(console.warn(`Tried to prefetch ${n} but no routes matched.`),null)}function pN(n){let{manifest:e,routeModules:t}=mR(),[r,i]=K.useState([]);return K.useEffect(()=>{let o=!1;return iN(n,e,t).then(l=>{o||i(l)}),()=>{o=!0}},[n,e,t]),r}function mN({page:n,matches:e,...t}){let r=So(),{manifest:i,routeModules:o}=mR(),{loaderData:l,matches:u}=dN(),d=K.useMemo(()=>GI(n,e,u,i,r,"data"),[n,e,u,i,r]),f=K.useMemo(()=>GI(n,e,u,i,r,"assets"),[n,e,u,i,r]),m=K.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let T=new Set,I=!1;if(e.forEach(P=>{var V;let L=i.routes[P.route.id];!L||!L.hasLoader||(!d.some(U=>U.route.id===P.route.id)&&P.route.id in l&&((V=o[P.route.id])!=null&&V.shouldRevalidate)||L.hasClientLoader?I=!0:T.add(P.route.id))}),T.size===0)return[];let R=uN(n);return I&&T.size>0&&R.searchParams.set("_routes",e.filter(P=>T.has(P.route.id)).map(P=>P.route.id).join(",")),[R.pathname+R.search]},[l,r,i,d,e,n,o]),g=K.useMemo(()=>sN(f,i),[f,i]),_=pN(f);return K.createElement(K.Fragment,null,m.map(T=>K.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...t})),g.map(T=>K.createElement("link",{key:T,rel:"modulepreload",href:T,...t})),_.map(({key:T,link:I})=>K.createElement("link",{key:T,...I})))}function gN(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var gR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gR&&(window.__reactRouterVersion="7.0.1")}catch{}function yN({basename:n,children:e,window:t}){let r=K.useRef();r.current==null&&(r.current=iO({window:t,v5Compat:!0}));let i=r.current,[o,l]=K.useState({action:i.action,location:i.location}),u=K.useCallback(d=>{K.startTransition(()=>l(d))},[l]);return K.useLayoutEffect(()=>i.listen(u),[i,u]),K.createElement(HO,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:i})}var yR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Si=K.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:u,target:d,to:f,preventScrollReset:m,viewTransition:g,..._},T){let{basename:I}=K.useContext(Li),R=typeof f=="string"&&yR.test(f),P,L=!1;if(typeof f=="string"&&R&&(P=f,gR))try{let C=new URL(window.location.href),E=f.startsWith("//")?new URL(C.protocol+f):new URL(f),O=oo(E.pathname,I);E.origin===C.origin&&O!=null?f=O+E.search+E.hash:L=!0}catch{To(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=kO(f,{relative:i}),[U,q,j]=hN(r,_),W=EN(f,{replace:l,state:u,target:d,preventScrollReset:m,relative:i,viewTransition:g});function D(C){e&&e(C),C.defaultPrevented||W(C)}let b=K.createElement("a",{..._,...j,href:P||V,onClick:L||o?e:D,ref:gN(T,q),target:d,"data-discover":!R&&t==="render"?"true":void 0});return U&&!R?K.createElement(K.Fragment,null,b,K.createElement(fN,{page:V})):b});Si.displayName="Link";var _N=K.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:u,children:d,...f},m){let g=Zd(l,{relative:f.relative}),_=So(),T=K.useContext(am),{navigator:I,basename:R}=K.useContext(Li),P=T!=null&&bN(g)&&u===!0,L=I.encodeLocation?I.encodeLocation(g).pathname:g.pathname,V=_.pathname,U=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(V=V.toLowerCase(),U=U?U.toLowerCase():null,L=L.toLowerCase()),U&&R&&(U=oo(U,R)||U);const q=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let j=V===L||!i&&V.startsWith(L)&&V.charAt(q)==="/",W=U!=null&&(U===L||!i&&U.startsWith(L)&&U.charAt(L.length)==="/"),D={isActive:j,isPending:W,isTransitioning:P},b=j?e:void 0,C;typeof r=="function"?C=r(D):C=[r,j?"active":null,W?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let E=typeof o=="function"?o(D):o;return K.createElement(Si,{...f,"aria-current":b,className:C,ref:m,style:E,to:l,viewTransition:u},typeof d=="function"?d(D):d)});_N.displayName="NavLink";var vN=K.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:l=sp,action:u,onSubmit:d,relative:f,preventScrollReset:m,viewTransition:g,..._},T)=>{let I=SN(),R=RN(u,{relative:f}),P=l.toLowerCase()==="get"?"get":"post",L=typeof u=="string"&&yR.test(u),V=U=>{if(d&&d(U),U.defaultPrevented)return;U.preventDefault();let q=U.nativeEvent.submitter,j=(q==null?void 0:q.getAttribute("formmethod"))||l;I(q||U.currentTarget,{fetcherKey:e,method:j,navigate:t,replace:i,state:o,relative:f,preventScrollReset:m,viewTransition:g})};return K.createElement("form",{ref:T,method:P,action:R,onSubmit:r?d:V,..._,"data-discover":!L&&n==="render"?"true":void 0})});vN.displayName="Form";function wN(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _R(n){let e=K.useContext(Iu);return bt(e,wN(n)),e}function EN(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:l}={}){let u=lm(),d=So(),f=Zd(n,{relative:o});return K.useCallback(m=>{if(XO(m,e)){m.preventDefault();let g=t!==void 0?t:Rd(d)===Rd(f);u(n,{replace:g,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[d,u,f,t,r,e,n,i,o,l])}var IN=0,TN=()=>`__${String(++IN)}__`;function SN(){let{router:n}=_R("useSubmit"),{basename:e}=K.useContext(Li),t=jO();return K.useCallback(async(r,i={})=>{let{action:o,method:l,encType:u,formData:d,body:f}=tN(r,e);if(i.navigate===!1){let m=i.fetcherKey||TN();await n.fetch(m,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await n.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function RN(n,{relative:e}={}){let{basename:t}=K.useContext(Li),r=K.useContext(Mi);bt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Zd(n||".",{relative:e})},l=So();if(n==null){o.search=l.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(m=>m==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let m=u.toString();o.search=m?`?${m}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:us([t,o.pathname])),Rd(o)}function bN(n,e={}){let t=K.useContext(cR);bt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=_R("useViewTransitionState"),i=Zd(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=oo(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=oo(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Cp(i.pathname,l)!=null||Cp(i.pathname,o)!=null}new TextEncoder;var vR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},QI=ze.createContext&&ze.createContext(vR),AN=["attr","size","title"];function PN(n,e){if(n==null)return{};var t=CN(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function CN(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function kp(){return kp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},kp.apply(this,arguments)}function JI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function xp(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?JI(Object(t),!0).forEach(function(r){kN(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):JI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function kN(n,e,t){return e=xN(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function xN(n){var e=ON(n,"string");return typeof e=="symbol"?e:e+""}function ON(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function wR(n){return n&&n.map((e,t)=>ze.createElement(e.tag,xp({key:t},e.attr),wR(e.child)))}function Tu(n){return e=>ze.createElement(NN,kp({attr:xp({},n.attr)},e),wR(n.child))}function NN(n){var e=t=>{var{attr:r,size:i,title:o}=n,l=PN(n,AN),u=i||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),ze.createElement("svg",kp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:d,style:xp(xp({color:n.color||t.color},t.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&ze.createElement("title",null,o),n.children)};return QI!==void 0?ze.createElement(QI.Consumer,null,t=>e(t)):e(vR)}function DN(n){return Tu({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(n)}function VN(n){return Tu({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Shopping_Cart"},child:[{tag:"path",attr:{d:"M17.437,19.934c0,0.552 -0.448,1 -1,1c-0.552,0 -1,-0.448 -1,-1c0,-0.552 0.448,-1 1,-1c0.552,0 1,0.448 1,1Zm-11.217,-4.266l-0.945,-10.9c-0.03,-0.391 -0.356,-0.693 -0.749,-0.693l-0.966,-0c-0.276,-0 -0.5,-0.224 -0.5,-0.5c0,-0.276 0.224,-0.5 0.5,-0.5l0.966,-0c0.916,-0 1.676,0.704 1.746,1.617l0.139,1.818l13.03,-0c0.885,-0 1.577,0.76 1.494,1.638l-0.668,7.52c-0.121,1.285 -1.199,2.267 -2.489,2.267l-9.069,0c-1.29,0 -2.367,-0.981 -2.489,-2.267Zm0.274,-8.158l0.722,8.066c0.073,0.77 0.719,1.359 1.493,1.359l9.069,0c0.774,0 1.42,-0.589 1.493,-1.359l0.668,-7.518c0.028,-0.294 -0.203,-0.548 -0.498,-0.548l-12.947,-0Zm4.454,12.424c-0,0.552 -0.448,1 -1,1c-0.552,0 -1,-0.448 -1,-1c-0,-0.552 0.448,-1 1,-1c0.552,0 1,0.448 1,1Z"},child:[]}]}]})(n)}function LN(n){return Tu({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"},child:[]}]})(n)}const MN="_fixed_u9zfb_5",FN="_header_container_u9zfb_17",UN="_logo_container_u9zfb_35",BN="_delivery_u9zfb_63",jN="_search_u9zfb_97",zN="_order_container_u9zfb_179",$N="_language_u9zfb_213",qN="_cart_u9zfb_245",WN="_lower_container_u9zfb_279",rs={fixed:MN,header_container:FN,logo_container:UN,delivery:BN,search:jN,order_container:zN,language:$N,cart:qN,lower_container:WN};function HN(n){return Tu({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"},child:[]}]})(n)}function KN(){return B.jsx("div",{className:rs.lower_container,children:B.jsxs("ul",{children:[B.jsxs("li",{children:[B.jsx(HN,{}),B.jsx("p",{children:"All"})]}),B.jsx("li",{children:"Todays Deals"}),B.jsx("li",{children:"Costumer Service"}),B.jsx("li",{children:"Registry"}),B.jsx("li",{children:"Gift Cards"}),B.jsx("li",{children:"Sell"})]})})}var YI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},GN=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],l=n[t++],u=n[t++],d=((i&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},IR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],l=i+1<n.length,u=l?n[i+1]:0,d=i+2<n.length,f=d?n[i+2]:0,m=o>>2,g=(o&3)<<4|u>>4;let _=(u&15)<<2|f>>6,T=f&63;d||(T=64,l||(_=64)),r.push(t[m],t[g],t[_],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ER(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):GN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const f=i<n.length?t[n.charAt(i)]:64;++i;const g=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||u==null||f==null||g==null)throw new QN;const _=o<<2|u>>4;if(r.push(_),f!==64){const T=u<<4&240|f>>2;if(r.push(T),g!==64){const I=f<<6&192|g;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class QN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JN=function(n){const e=ER(n);return IR.encodeByteArray(e,!0)},Op=function(n){return JN(n).replace(/\./g,"")},TR=function(n){try{return IR.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Np(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!YN(t)||(n[t]=Np(n[t],e[t]));return n}function YN(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=()=>SR().__FIREBASE_DEFAULTS__,ZN=()=>{if(typeof process>"u"||typeof YI>"u")return;const n=YI.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},eD=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&TR(n[1]);return e&&JSON.parse(e)},cm=()=>{try{return XN()||ZN()||eD()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},tD=n=>{var e,t;return(t=(e=cm())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},RR=()=>{var n;return(n=cm())===null||n===void 0?void 0:n.config},bR=n=>{var e;return(e=cm())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Op(JSON.stringify(t)),Op(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pt())}function xv(){var n;const e=(n=cm())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sD(){return typeof window<"u"||AR()}function AR(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function oD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Ov(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CR(){const n=Pt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function kR(){return!xv()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bd(){try{return typeof indexedDB=="object"}catch{return!1}}function aD(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD="FirebaseError";class Un extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=lD,Object.setPrototypeOf(this,Un.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Oa.prototype.create)}}class Oa{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?uD(o,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Un(i,u,r)}}function uD(n,e){return n.replace(cD,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const cD=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function dD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Zl(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],l=e[i];if(ZI(o)&&ZI(l)){if(!Zl(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function ZI(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ql(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function id(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function xR(n,e){const t=new hD(n,e);return t.subscribe.bind(t)}class hD{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");fD(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Qy),i.error===void 0&&(i.error=Qy),i.complete===void 0&&(i.complete=Qy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fD(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Qy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(n){return n&&n._delegate?n._delegate:n}class xi{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new nD;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gD(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mD(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mD(n){return n===sa?void 0:n}function gD(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new pD(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv=[];var Be;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Be||(Be={}));const NR={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},yD=Be.INFO,_D={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},vD=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=_D[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dm{constructor(e){this.name=e,this._logLevel=yD,this._logHandler=vD,this._userLogHandler=null,Nv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}function wD(n){Nv.forEach(e=>{e.setLogLevel(n)})}function ED(n,e){for(const t of Nv){let r=null;e&&e.level&&(r=NR[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(i,o,...l)=>{const u=l.map(d=>{if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(d=>d).join(" ");o>=(r??i.logLevel)&&n({level:Be[o].toLowerCase(),message:u,args:l,type:i.name})}}}const ID=(n,e)=>e.some(t=>n instanceof t);let eT,tT;function TD(){return eT||(eT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SD(){return tT||(tT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DR=new WeakMap,A_=new WeakMap,VR=new WeakMap,Jy=new WeakMap,Dv=new WeakMap;function RD(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(ro(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&DR.set(t,n)}).catch(()=>{}),Dv.set(e,n),e}function bD(n){if(A_.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});A_.set(n,e)}let P_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return A_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||VR.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ro(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function AD(n){P_=n(P_)}function PD(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Yy(this),e,...t);return VR.set(r,e.sort?e.sort():[e]),ro(r)}:SD().includes(n)?function(...e){return n.apply(Yy(this),e),ro(DR.get(this))}:function(...e){return ro(n.apply(Yy(this),e))}}function CD(n){return typeof n=="function"?PD(n):(n instanceof IDBTransaction&&bD(n),ID(n,TD())?new Proxy(n,P_):n)}function ro(n){if(n instanceof IDBRequest)return RD(n);if(Jy.has(n))return Jy.get(n);const e=CD(n);return e!==n&&(Jy.set(n,e),Dv.set(e,n)),e}const Yy=n=>Dv.get(n);function kD(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(n,e),u=ro(l);return r&&l.addEventListener("upgradeneeded",d=>{r(ro(l.result),d.oldVersion,d.newVersion,ro(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),u.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const xD=["get","getKey","getAll","getAllKeys","count"],OD=["put","add","delete","clear"],Xy=new Map;function nT(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Xy.get(e))return Xy.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=OD.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||xD.includes(t)))return;const o=async function(l,...u){const d=this.transaction(l,i?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[t](...u),i&&d.done]))[0]};return Xy.set(e,o),o}AD(n=>({...n,get:(e,t,r)=>nT(e,t)||n.get(e,t,r),has:(e,t)=>!!nT(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(DD(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function DD(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Dp="@firebase/app",C_="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=new dm("@firebase/app"),VD="@firebase/app-compat",LD="@firebase/analytics-compat",MD="@firebase/analytics",FD="@firebase/app-check-compat",UD="@firebase/app-check",BD="@firebase/auth",jD="@firebase/auth-compat",zD="@firebase/database",$D="@firebase/data-connect",qD="@firebase/database-compat",WD="@firebase/functions",HD="@firebase/functions-compat",KD="@firebase/installations",GD="@firebase/installations-compat",QD="@firebase/messaging",JD="@firebase/messaging-compat",YD="@firebase/performance",XD="@firebase/performance-compat",ZD="@firebase/remote-config",e2="@firebase/remote-config-compat",t2="@firebase/storage",n2="@firebase/storage-compat",r2="@firebase/firestore",i2="@firebase/vertexai",s2="@firebase/firestore-compat",o2="firebase",a2="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao="[DEFAULT]",l2={[Dp]:"fire-core",[VD]:"fire-core-compat",[MD]:"fire-analytics",[LD]:"fire-analytics-compat",[UD]:"fire-app-check",[FD]:"fire-app-check-compat",[BD]:"fire-auth",[jD]:"fire-auth-compat",[zD]:"fire-rtdb",[$D]:"fire-data-connect",[qD]:"fire-rtdb-compat",[WD]:"fire-fn",[HD]:"fire-fn-compat",[KD]:"fire-iid",[GD]:"fire-iid-compat",[QD]:"fire-fcm",[JD]:"fire-fcm-compat",[YD]:"fire-perf",[XD]:"fire-perf-compat",[ZD]:"fire-rc",[e2]:"fire-rc-compat",[t2]:"fire-gcs",[n2]:"fire-gcs-compat",[r2]:"fire-fst",[s2]:"fire-fst-compat",[i2]:"fire-vertex","fire-js":"fire-js",[o2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=new Map,eu=new Map,tu=new Map;function Ad(n,e){try{n.container.addComponent(e)}catch(t){hs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function LR(n,e){n.container.addOrOverwriteComponent(e)}function uo(n){const e=n.name;if(tu.has(e))return hs.debug(`There were multiple attempts to register component ${e}.`),!1;tu.set(e,n);for(const t of lo.values())Ad(t,n);for(const t of eu.values())Ad(t,n);return!0}function hm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function u2(n,e,t=ao){hm(n,e).clearInstance(t)}function MR(n){return n.options!==void 0}function Dt(n){return n.settings!==void 0}function c2(){tu.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vr=new Oa("app","Firebase",d2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FR=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2 extends FR{constructor(e,t,r,i){const o=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!1,l={name:r,automaticDataCollectionEnabled:o};if(e.apiKey!==void 0)super(e,l,i);else{const u=e;super(u.options,l,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:o},t),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,ni(Dp,C_,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Lv(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Vr.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro=a2;function Vv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ao,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Vr.create("bad-app-name",{appName:String(i)});if(t||(t=RR()),!t)throw Vr.create("no-options");const o=lo.get(i);if(o){if(Zl(t,o.options)&&Zl(r,o.config))return o;throw Vr.create("duplicate-app",{appName:i})}const l=new OR(i);for(const d of tu.values())l.addComponent(d);const u=new FR(t,r,l);return lo.set(i,u),u}function f2(n,e){if(sD()&&!AR())throw Vr.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let t;MR(n)?t=n.options:t=n;const r=Object.assign(Object.assign({},e),t);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=f=>[...f].reduce((m,g)=>Math.imul(31,m)+g.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Vr.create("finalization-registry-not-supported",{});const o=""+i(JSON.stringify(r)),l=eu.get(o);if(l)return l.incRefCount(e.releaseOnDeref),l;const u=new OR(o);for(const f of tu.values())u.addComponent(f);const d=new h2(t,e,o,u);return eu.set(o,d),d}function UR(n=ao){const e=lo.get(n);if(!e&&n===ao&&RR())return Vv();if(!e)throw Vr.create("no-app",{appName:n});return e}function p2(){return Array.from(lo.values())}async function Lv(n){let e=!1;const t=n.name;lo.has(t)?(e=!0,lo.delete(t)):eu.has(t)&&n.decRefCount()<=0&&(eu.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function ni(n,e,t){var r;let i=(r=l2[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hs.warn(u.join(" "));return}uo(new xi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function BR(n,e){if(n!==null&&typeof n!="function")throw Vr.create("invalid-log-argument");ED(n,e)}function jR(n){wD(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="firebase-heartbeat-database",g2=1,Pd="firebase-heartbeat-store";let Zy=null;function zR(){return Zy||(Zy=kD(m2,g2,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Pd)}catch(t){console.warn(t)}}}}).catch(n=>{throw Vr.create("idb-open",{originalErrorMessage:n.message})})),Zy}async function y2(n){try{const t=(await zR()).transaction(Pd),r=await t.objectStore(Pd).get($R(n));return await t.done,r}catch(e){if(e instanceof Un)hs.warn(e.message);else{const t=Vr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hs.warn(t.message)}}}async function rT(n,e){try{const r=(await zR()).transaction(Pd,"readwrite");await r.objectStore(Pd).put(e,$R(n)),await r.done}catch(t){if(t instanceof Un)hs.warn(t.message);else{const r=Vr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});hs.warn(r.message)}}}function $R(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=1024,v2=30*24*60*60*1e3;class w2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new I2(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=iT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const u=new Date(l.date).valueOf();return Date.now()-u<=v2}),this._storage.overwrite(this._heartbeatsCache))}catch(r){hs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=iT(),{heartbeatsToSend:r,unsentEntries:i}=E2(this._heartbeatsCache.heartbeats),o=Op(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return hs.warn(t),""}}}function iT(){return new Date().toISOString().substring(0,10)}function E2(n,e=_2){const t=[];let r=n.slice();for(const i of n){const o=t.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),sT(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),sT(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class I2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bd()?aD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await y2(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return rT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return rT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function sT(n){return Op(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(n){uo(new xi("platform-logger",e=>new ND(e),"PRIVATE")),uo(new xi("heartbeat",e=>new w2(e),"PRIVATE")),ni(Dp,C_,n),ni(Dp,C_,"esm2017"),ni("fire-js","")}T2("");const S2=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Un,SDK_VERSION:Ro,_DEFAULT_ENTRY_NAME:ao,_addComponent:Ad,_addOrOverwriteComponent:LR,_apps:lo,_clearComponents:c2,_components:tu,_getProvider:hm,_isFirebaseApp:MR,_isFirebaseServerApp:Dt,_registerComponent:uo,_removeServiceInstance:u2,_serverApps:eu,deleteApp:Lv,getApp:UR,getApps:p2,initializeApp:Vv,initializeServerApp:f2,onLog:BR,registerVersion:ni,setLogLevel:jR},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,t){this._delegate=e,this.firebase=t,Ad(e,new xi("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Lv(this._delegate)))}_getService(e,t=ao){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=ao){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Ad(this._delegate,e)}_addOrOverwriteComponent(e){LR(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},oT=new Oa("app-compat","Firebase",b2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(n){const e={},t={__esModule:!0,initializeApp:o,app:i,registerVersion:ni,setLogLevel:jR,onLog:BR,apps:null,SDK_VERSION:Ro,INTERNAL:{registerComponent:u,removeApp:r,useAsService:d,modularAPIs:S2}};t.default=t,Object.defineProperty(t,"apps",{get:l});function r(f){delete e[f]}function i(f){if(f=f||ao,!XI(e,f))throw oT.create("no-app",{appName:f});return e[f]}i.App=n;function o(f,m={}){const g=Vv(f,m);if(XI(e,g.name))return e[g.name];const _=new n(g,t);return e[g.name]=_,_}function l(){return Object.keys(e).map(f=>e[f])}function u(f){const m=f.name,g=m.replace("-compat","");if(uo(f)&&f.type==="PUBLIC"){const _=(T=i())=>{if(typeof T[g]!="function")throw oT.create("invalid-app-argument",{appName:m});return T[g]()};f.serviceProps!==void 0&&Np(_,f.serviceProps),t[g]=_,n.prototype[g]=function(...T){return this._getService.bind(this,m).apply(this,f.multipleInstances?T:[])}}return f.type==="PUBLIC"?t[g]:null}function d(f,m){return m==="serverAuth"?null:m}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(){const n=A2(R2);n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:qR,extendNamespace:e,createSubscribe:xR,ErrorFactory:Oa,deepExtend:Np});function e(t){Np(n,t)}return n}const P2=qR();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT=new dm("@firebase/app-compat"),C2="@firebase/app-compat",k2="0.2.46";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(n){ni(C2,k2,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=SR();if(n.firebase!==void 0){aT.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&aT.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const Ru=P2;x2();var O2="firebase",N2="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ru.registerVersion(O2,N2,"app-compat");function Mv(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}const Vc={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Pl={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function WR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const V2=D2,L2=WR,HR=new Oa("auth","Firebase",WR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp=new dm("@firebase/auth");function M2(n,...e){Vp.logLevel<=Be.WARN&&Vp.warn(`Auth (${Ro}): ${n}`,...e)}function ap(n,...e){Vp.logLevel<=Be.ERROR&&Vp.error(`Auth (${Ro}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(n,...e){throw Uv(n,...e)}function rn(n,...e){return Uv(n,...e)}function Fv(n,e,t){const r=Object.assign(Object.assign({},L2()),{[e]:t});return new Oa("auth","Firebase",r).create(e,{appName:n.name})}function fn(n){return Fv(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bu(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&pn(n,"argument-error"),Fv(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Uv(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return HR.create(n,...e)}function fe(n,e,...t){if(!n)throw Uv(e,...t)}function Ri(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ap(e),new Error(e)}function ri(n,e){n||Ri(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Bv(){return lT()==="http:"||lT()==="https:"}function lT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Bv()||PR()||"connection"in navigator)?navigator.onLine:!0}function U2(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,t){this.shortDelay=e,this.longDelay=t,ri(t>e,"Short delay should be less than long delay!"),this.isMobile=iD()||Ov()}get(){return F2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(n,e){ri(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=new eh(3e4,6e4);function Lt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Mt(n,e,t,r,i={}){return GR(n,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const u=Su(Object.assign({key:n.config.apiKey},l)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:e,headers:d},o);return oD()||(f.referrerPolicy="no-referrer"),KR.fetch()(QR(n,n.config.apiHost,t,u),f)})}async function GR(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},B2),e);try{const i=new $2(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw sd(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[d,f]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw sd(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw sd(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw sd(n,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Fv(n,m,f);pn(n,m)}}catch(i){if(i instanceof Un)throw i;pn(n,"network-request-failed",{message:String(i)})}}async function vs(n,e,t,r,i={}){const o=await Mt(n,e,t,r,i);return"mfaPendingCredential"in o&&pn(n,"multi-factor-auth-required",{_serverResponse:o}),o}function QR(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?jv(n.config,i):`${n.config.apiScheme}://${i}`}function z2(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(rn(this.auth,"network-request-failed")),j2.get())})}}function sd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=rn(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(n){return n!==void 0&&n.getResponse!==void 0}function cT(n){return n!==void 0&&n.enterprise!==void 0}class JR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return z2(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q2(n){return(await Mt(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function YR(n,e){return Mt(n,"GET","/v2/recaptchaConfig",Lt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W2(n,e){return Mt(n,"POST","/v1/accounts:delete",e)}async function H2(n,e){return Mt(n,"POST","/v1/accounts:update",e)}async function XR(n,e){return Mt(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function K2(n,e=!1){const t=ke(n),r=await t.getIdToken(e),i=fm(r);fe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:hd(e_(i.auth_time)),issuedAtTime:hd(e_(i.iat)),expirationTime:hd(e_(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function e_(n){return Number(n)*1e3}function fm(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return ap("JWT malformed, contained fewer than 3 sections"),null;try{const i=TR(t);return i?JSON.parse(i):(ap("Failed to decode base64 JWT payload"),null)}catch(i){return ap("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function dT(n){const e=fm(n);return fe(e,"internal-error"),fe(typeof e.exp<"u","internal-error"),fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fs(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Un&&G2(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function G2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=hd(this.lastLoginAt),this.creationTime=hd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kd(n){var e;const t=n.auth,r=await n.getIdToken(),i=await fs(n,XR(t,{idToken:r}));fe(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?ZR(o.providerUserInfo):[],u=Y2(n.providerData,l),d=n.isAnonymous,f=!(n.email&&o.passwordHash)&&!(u!=null&&u.length),m=d?f:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new k_(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,g)}async function J2(n){const e=ke(n);await kd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Y2(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ZR(n){return n.map(e=>{var{providerId:t}=e,r=Mv(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X2(n,e){const t=await GR(n,{},async()=>{const r=Su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,l=QR(n,i,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",KR.fetch()(l,{method:"POST",headers:u,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Z2(n,e){return Mt(n,"POST","/v2/accounts:revokeToken",Lt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){fe(e.idToken,"internal-error"),fe(typeof e.idToken<"u","internal-error"),fe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){fe(e.length!==0,"internal-error");const t=dT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await X2(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,l=new Wl;return r&&(fe(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(fe(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(fe(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wl,this.toJSON())}_performRefresh(){return Ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(n,e){fe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ss{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Mv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Q2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new k_(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await fs(this,this.stsTokenManager.getToken(this.auth,e));return fe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return K2(this,e)}reload(){return J2(this)}_assign(e){this!==e&&(fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ss(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await kd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dt(this.auth.app))return Promise.reject(fn(this.auth));const e=await this.getIdToken();return await fs(this,W2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,l,u,d,f,m;const g=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(i=t.email)!==null&&i!==void 0?i:void 0,T=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,I=(l=t.photoURL)!==null&&l!==void 0?l:void 0,R=(u=t.tenantId)!==null&&u!==void 0?u:void 0,P=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,L=(f=t.createdAt)!==null&&f!==void 0?f:void 0,V=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:U,emailVerified:q,isAnonymous:j,providerData:W,stsTokenManager:D}=t;fe(U&&D,e,"internal-error");const b=Wl.fromJSON(this.name,D);fe(typeof U=="string",e,"internal-error"),Qs(g,e.name),Qs(_,e.name),fe(typeof q=="boolean",e,"internal-error"),fe(typeof j=="boolean",e,"internal-error"),Qs(T,e.name),Qs(I,e.name),Qs(R,e.name),Qs(P,e.name),Qs(L,e.name),Qs(V,e.name);const C=new ss({uid:U,auth:e,email:_,emailVerified:q,displayName:g,isAnonymous:j,photoURL:I,phoneNumber:T,tenantId:R,stsTokenManager:b,createdAt:L,lastLoginAt:V});return W&&Array.isArray(W)&&(C.providerData=W.map(E=>Object.assign({},E))),P&&(C._redirectEventId=P),C}static async _fromIdTokenResponse(e,t,r=!1){const i=new Wl;i.updateFromServerResponse(t);const o=new ss({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await kd(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];fe(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?ZR(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),u=new Wl;u.updateFromIdToken(r);const d=new ss({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new k_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=new Map;function gr(n){ri(n instanceof Function,"Expected a class definition");let e=hT.get(n);return e?(ri(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,hT.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}eb.type="NONE";const nu=eb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(n,e,t){return`firebase:${n}:${e}:${t}`}class Hl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=ga(this.userKey,i.apiKey,o),this.fullPersistenceKey=ga("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ss._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Hl(gr(nu),e,r);const i=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||gr(nu);const l=ga(r,e.config.apiKey,e.name);let u=null;for(const f of t)try{const m=await f._get(l);if(m){const g=ss._fromJSON(e,m);f!==o&&(u=g),o=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Hl(o,e,r):(o=d[0],u&&await o._set(l,u.toJSON()),await Promise.all(t.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new Hl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ib(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sb(e))return"Blackberry";if(ob(e))return"Webos";if(nb(e))return"Safari";if((e.includes("chrome/")||rb(e))&&!e.includes("edge/"))return"Chrome";if(th(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function tb(n=Pt()){return/firefox\//i.test(n)}function nb(n=Pt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rb(n=Pt()){return/crios\//i.test(n)}function ib(n=Pt()){return/iemobile/i.test(n)}function th(n=Pt()){return/android/i.test(n)}function sb(n=Pt()){return/blackberry/i.test(n)}function ob(n=Pt()){return/webos/i.test(n)}function nh(n=Pt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function eV(n=Pt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function tV(n=Pt()){var e;return nh(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function nV(){return CR()&&document.documentMode===10}function ab(n=Pt()){return nh(n)||th(n)||ob(n)||sb(n)||/windows phone/i.test(n)||ib(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(n,e=[]){let t;switch(n){case"Browser":t=fT(Pt());break;case"Worker":t=`${fT(Pt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ro}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((l,u)=>{try{const d=e(o);l(d)}catch(d){u(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iV(n,e={}){return Mt(n,"GET","/v2/passwordPolicy",Lt(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV=6;class oV{constructor(e){var t,r,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:sV,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,l,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pT(this),this.idTokenSubscription=new pT(this),this.beforeStateQueue=new rV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=gr(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Hl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await XR(this,{idToken:e}),r=await ss._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Dt(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&(d!=null&&d.user)&&(i=d.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await kd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=U2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dt(this.app))return Promise.reject(fn(this));const t=e?ke(e):null;return t&&fe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dt(this.app)?Promise.reject(fn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dt(this.app)?Promise.reject(fn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iV(this),t=new oV(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Oa("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Z2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&gr(e)||this._popupRedirectResolver;fe(t,this,"argument-error"),this.redirectPersistenceManager=await Hl.create(this,[gr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(fe(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&M2(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ct(n){return ke(n)}class pT{constructor(e){this.auth=e,this.observer=null,this.addObserver=xR(t=>this.observer=t)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lV(n){rh=n}function zv(n){return rh.loadJS(n)}function uV(){return rh.recaptchaV2Script}function cV(){return rh.recaptchaEnterpriseScript}function dV(){return rh.gapiScript}function ub(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=500,fV=6e4,$f=1e12;class pV{constructor(e){this.auth=e,this.counter=$f,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new yV(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||$f;(t=this._widgets.get(r))===null||t===void 0||t.delete(),this._widgets.delete(r)}getResponse(e){var t;const r=e||$f;return((t=this._widgets.get(r))===null||t===void 0?void 0:t.getResponse())||""}async execute(e){var t;const r=e||$f;return(t=this._widgets.get(r))===null||t===void 0||t.execute(),""}}class mV{constructor(){this.enterprise=new gV}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class gV{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class yV{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;fe(i,"argument-error",{appName:t}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=_V(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},fV)},hV))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function _V(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const vV="recaptcha-enterprise",fd="NO_RECAPTCHA";class cb{constructor(e){this.type=vV,this.auth=Ct(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{YR(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new JR(d);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(d=>{u(d)})})}function i(o,l,u){const d=window.grecaptcha;cT(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(f=>{l(f)}).catch(()=>{l(fd)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new mV().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(u=>{if(!t&&cT(window.grecaptcha))i(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=cV();d.length!==0&&(d+=u),zv(d).then(()=>{i(u,o,l)}).catch(f=>{l(f)})}}).catch(u=>{l(u)})})}}async function Lc(n,e,t,r=!1,i=!1){const o=new cb(n);let l;if(i)l=fd;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function io(n,e,t,r,i){var o,l;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Lc(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Lc(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(u)});else if(i==="PHONE_PROVIDER")if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("PHONE_PROVIDER")){const u=await Lc(n,e,t);return r(n,u).catch(async d=>{var f;if(((f=n._getRecaptchaConfig())===null||f===void 0?void 0:f.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(d.code==="auth/missing-recaptcha-token"||d.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const m=await Lc(n,e,t,!1,!0);return r(n,m)}return Promise.reject(d)})}else{const u=await Lc(n,e,t,!1,!0);return r(n,u)}else return Promise.reject(i+" provider is not supported.")}async function wV(n){const e=Ct(n),t=await YR(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new JR(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new cb(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EV(n,e){const t=hm(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(Zl(o,e??{}))return i;pn(i,"already-initialized")}return t.initialize({options:e})}function IV(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(gr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function db(n,e,t){const r=Ct(n);fe(r._canInitEmulator,r,"emulator-config-failed"),fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(t!=null&&t.disableWarnings),o=hb(e),{host:l,port:u}=TV(e),d=u===null?"":`:${u}`;r.config.emulator={url:`${o}//${l}${d}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||SV()}function hb(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function TV(n){const e=hb(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:mT(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:mT(l)}}}function mT(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function SV(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ri("not implemented")}_getIdTokenResponse(e){return Ri("not implemented")}_linkToIdToken(e,t){return Ri("not implemented")}_getReauthenticationResolver(e){return Ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fb(n,e){return Mt(n,"POST","/v1/accounts:resetPassword",Lt(n,e))}async function RV(n,e){return Mt(n,"POST","/v1/accounts:update",e)}async function bV(n,e){return Mt(n,"POST","/v1/accounts:signUp",e)}async function AV(n,e){return Mt(n,"POST","/v1/accounts:update",Lt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PV(n,e){return vs(n,"POST","/v1/accounts:signInWithPassword",Lt(n,e))}async function pm(n,e){return Mt(n,"POST","/v1/accounts:sendOobCode",Lt(n,e))}async function CV(n,e){return pm(n,e)}async function kV(n,e){return pm(n,e)}async function xV(n,e){return pm(n,e)}async function OV(n,e){return pm(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NV(n,e){return vs(n,"POST","/v1/accounts:signInWithEmailLink",Lt(n,e))}async function DV(n,e){return vs(n,"POST","/v1/accounts:signInWithEmailLink",Lt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd extends Au{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new xd(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new xd(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return io(e,t,"signInWithPassword",PV,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return NV(e,{email:this._email,oobCode:this._password});default:pn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return io(e,r,"signUpPassword",bV,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return DV(e,{idToken:t,email:this._email,oobCode:this._password});default:pn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cs(n,e){return vs(n,"POST","/v1/accounts:signInWithIdp",Lt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV="http://localhost";class Oi extends Au{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Oi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):pn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=Mv(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Oi(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return cs(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,cs(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,cs(e,t)}buildRequest(){const e={requestUri:VV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Su(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gT(n,e){return Mt(n,"POST","/v1/accounts:sendVerificationCode",Lt(n,e))}async function LV(n,e){return vs(n,"POST","/v1/accounts:signInWithPhoneNumber",Lt(n,e))}async function MV(n,e){const t=await vs(n,"POST","/v1/accounts:signInWithPhoneNumber",Lt(n,e));if(t.temporaryProof)throw sd(n,"account-exists-with-different-credential",t);return t}const FV={USER_NOT_FOUND:"user-not-found"};async function UV(n,e){const t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return vs(n,"POST","/v1/accounts:signInWithPhoneNumber",Lt(n,t),FV)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya extends Au{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ya({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ya({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return LV(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return MV(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return UV(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o}=e;return!r&&!t&&!i&&!o?null:new ya({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BV(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jV(n){const e=ql(id(n)).link,t=e?ql(id(e)).deep_link_id:null,r=ql(id(n)).deep_link_id;return(r?ql(id(r)).link:null)||r||t||e||n}class mm{constructor(e){var t,r,i,o,l,u;const d=ql(id(e)),f=(t=d.apiKey)!==null&&t!==void 0?t:null,m=(r=d.oobCode)!==null&&r!==void 0?r:null,g=BV((i=d.mode)!==null&&i!==void 0?i:null);fe(f&&m&&g,"argument-error"),this.apiKey=f,this.operation=g,this.code=m,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=jV(e);try{return new mm(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.providerId=bo.PROVIDER_ID}static credential(e,t){return xd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=mm.parseLink(t);return fe(r,"argument-error"),xd._fromEmailAndCode(e,r.code,r.tenantId)}}bo.PROVIDER_ID="password";bo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";bo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu extends ws{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Kl extends Pu{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return fe("providerId"in t&&"signInMethod"in t,"argument-error"),Oi._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return fe(e.idToken||e.accessToken,"argument-error"),Oi._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Kl.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Kl.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:l,providerId:u}=e;if(!r&&!i&&!t&&!o||!u)return null;try{return new Kl(u)._credential({idToken:t,accessToken:r,nonce:l,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends Pu{constructor(){super("facebook.com")}static credential(e){return Oi._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wi.credential(e.oauthAccessToken)}catch{return null}}}wi.FACEBOOK_SIGN_IN_METHOD="facebook.com";wi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends Pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Oi._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ei.credential(t,r)}catch{return null}}}Ei.GOOGLE_SIGN_IN_METHOD="google.com";Ei.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends Pu{constructor(){super("github.com")}static credential(e){return Oi._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ii.credential(e.oauthAccessToken)}catch{return null}}}Ii.GITHUB_SIGN_IN_METHOD="github.com";Ii.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV="http://localhost";class ru extends Au{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return cs(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,cs(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,cs(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:o}=t;return!r||!i||!o||r!==i?null:new ru(r,o)}static _create(e,t){return new ru(e,t)}buildRequest(){return{requestUri:zV,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V="saml.";class Lp extends ws{constructor(e){fe(e.startsWith($V),"argument-error"),super(e)}static credentialFromResult(e){return Lp.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Lp.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=ru.fromJSON(e);return fe(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return ru._create(r,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends Pu{constructor(){super("twitter.com")}static credential(e,t){return Oi._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ti.credential(t,r)}catch{return null}}}Ti.TWITTER_SIGN_IN_METHOD="twitter.com";Ti.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pb(n,e){return vs(n,"POST","/v1/accounts:signUp",Lt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await ss._fromIdTokenResponse(e,r,i),l=yT(r);return new Lr({user:o,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=yT(r);return new Lr({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function yT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qV(n){var e;if(Dt(n.app))return Promise.reject(fn(n));const t=Ct(n);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new Lr({user:t.currentUser,providerId:null,operationType:"signIn"});const r=await pb(t,{returnSecureToken:!0}),i=await Lr._fromIdTokenResponse(t,"signIn",r,!0);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp extends Un{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Mp.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Mp(e,t,r,i)}}function mb(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Mp._fromErrorAndOperation(n,o,e,r):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WV(n,e){const t=ke(n);await gm(!0,t,e);const{providerUserInfo:r}=await H2(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),i=gb(r||[]);return t.providerData=t.providerData.filter(o=>i.has(o.providerId)),i.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function $v(n,e,t=!1){const r=await fs(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Lr._forOperation(n,"link",r)}async function gm(n,e,t){await kd(e);const r=gb(e.providerData),i=n===!1?"provider-already-linked":"no-such-provider";fe(r.has(t)===n,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yb(n,e,t=!1){const{auth:r}=n;if(Dt(r.app))return Promise.reject(fn(r));const i="reauthenticate";try{const o=await fs(n,mb(r,i,e,n),t);fe(o.idToken,r,"internal-error");const l=fm(o.idToken);fe(l,r,"internal-error");const{sub:u}=l;return fe(n.uid===u,r,"user-mismatch"),Lr._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&pn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _b(n,e,t=!1){if(Dt(n.app))return Promise.reject(fn(n));const r="signIn",i=await mb(n,r,e),o=await Lr._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function ym(n,e){return _b(Ct(n),e)}async function vb(n,e){const t=ke(n);return await gm(!1,t,e.providerId),$v(t,e)}async function wb(n,e){return yb(ke(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HV(n,e){return vs(n,"POST","/v1/accounts:signInWithCustomToken",Lt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KV(n,e){if(Dt(n.app))return Promise.reject(fn(n));const t=Ct(n),r=await HV(t,{token:e,returnSecureToken:!0}),i=await Lr._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?qv._fromServerResponse(e,t):"totpInfo"in t?Wv._fromServerResponse(e,t):pn(e,"internal-error")}}class qv extends ih{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new qv(t)}}class Wv extends ih{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Wv(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(n,e,t){var r;fe(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),fe(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(fe(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(fe(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hv(n){const e=Ct(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function GV(n,e,t){const r=Ct(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&_m(r,i,t),await io(r,i,"getOobCode",kV,"EMAIL_PASSWORD_PROVIDER")}async function QV(n,e,t){await fb(ke(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Hv(n),r})}async function JV(n,e){await AV(ke(n),{oobCode:e})}async function Eb(n,e){const t=ke(n),r=await fb(t,{oobCode:e}),i=r.requestType;switch(fe(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":fe(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":fe(r.mfaInfo,t,"internal-error");default:fe(r.email,t,"internal-error")}let o=null;return r.mfaInfo&&(o=ih._fromServerResponse(Ct(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function YV(n,e){const{data:t}=await Eb(ke(n),e);return t.email}async function Ib(n,e,t){if(Dt(n.app))return Promise.reject(fn(n));const r=Ct(n),l=await io(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pb,"EMAIL_PASSWORD_PROVIDER").catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&Hv(n),d}),u=await Lr._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function Tb(n,e,t){return Dt(n.app)?Promise.reject(fn(n)):ym(ke(n),bo.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Hv(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XV(n,e,t){const r=Ct(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(l,u){fe(u.handleCodeInApp,r,"argument-error"),u&&_m(r,l,u)}o(i,t),await io(r,i,"getOobCode",xV,"EMAIL_PASSWORD_PROVIDER")}function ZV(n,e){const t=mm.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function eL(n,e,t){if(Dt(n.app))return Promise.reject(fn(n));const r=ke(n),i=bo.credentialWithLink(e,t||Cd());return fe(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),ym(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tL(n,e){return Mt(n,"POST","/v1/accounts:createAuthUri",Lt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nL(n,e){const t=Bv()?Cd():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:i}=await tL(ke(n),r);return i||[]}async function rL(n,e){const t=ke(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&_m(t.auth,i,e);const{email:o}=await CV(t.auth,i);o!==n.email&&await n.reload()}async function iL(n,e,t){const r=ke(n),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&_m(r.auth,o,t);const{email:l}=await OV(r.auth,o);l!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sL(n,e){return Mt(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oL(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=ke(n),o={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await fs(r,sL(r.auth,o));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const u=r.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function aL(n,e){const t=ke(n);return Dt(t.auth.app)?Promise.reject(fn(t.auth)):Sb(t,e,null)}function lL(n,e){return Sb(ke(n),null,e)}async function Sb(n,e,t){const{auth:r}=n,o={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(o.email=e),t&&(o.password=t);const l=await fs(n,RV(r,o));await n._updateTokensIfNecessary(l,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uL(n){var e,t;if(!n)return null;const{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},o=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(n!=null&&n.idToken)){const l=(t=(e=fm(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(l){const u=l!=="anonymous"&&l!=="custom"?l:null;return new Gl(o,u)}}if(!r)return null;switch(r){case"facebook.com":return new cL(o,i);case"github.com":return new dL(o,i);case"google.com":return new hL(o,i);case"twitter.com":return new fL(o,i,n.screenName||null);case"custom":case"anonymous":return new Gl(o,null);default:return new Gl(o,r,i)}}class Gl{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class Rb extends Gl{constructor(e,t,r,i){super(e,t,r),this.username=i}}class cL extends Gl{constructor(e,t){super(e,"facebook.com",t)}}class dL extends Rb{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class hL extends Gl{constructor(e,t){super(e,"google.com",t)}}class fL extends Rb{constructor(e,t,r){super(e,"twitter.com",t,r)}}function pL(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:uL(t)}function mL(n,e,t,r){return ke(n).onIdTokenChanged(e,t,r)}function gL(n,e,t){return ke(n).beforeAuthStateChanged(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new ha("enroll",e,t)}static _fromMfaPendingCredential(e){return new ha("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e!=null&&e.multiFactorSession){if(!((t=e.multiFactorSession)===null||t===void 0)&&t.pendingCredential)return ha._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return ha._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Ct(e),i=t.customData._serverResponse,o=(i.mfaInfo||[]).map(u=>ih._fromServerResponse(r,u));fe(i.mfaPendingCredential,r,"internal-error");const l=ha._fromMfaPendingCredential(i.mfaPendingCredential);return new Kv(l,o,async u=>{const d=await u._process(r,l);delete i.mfaInfo,delete i.mfaPendingCredential;const f=Object.assign(Object.assign({},i),{idToken:d.idToken,refreshToken:d.refreshToken});switch(t.operationType){case"signIn":const m=await Lr._fromIdTokenResponse(r,t.operationType,f);return await r._updateCurrentUser(m.user),m;case"reauthenticate":return fe(t.user,r,"internal-error"),Lr._forOperation(t.user,t.operationType,f);default:pn(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function yL(n,e){var t;const r=ke(n),i=e;return fe(e.customData.operationType,r,"argument-error"),fe((t=i.customData._serverResponse)===null||t===void 0?void 0:t.mfaPendingCredential,r,"argument-error"),Kv._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(n,e){return Mt(n,"POST","/v2/accounts/mfaEnrollment:start",Lt(n,e))}function _L(n,e){return Mt(n,"POST","/v2/accounts/mfaEnrollment:finalize",Lt(n,e))}function vL(n,e){return Mt(n,"POST","/v2/accounts/mfaEnrollment:withdraw",Lt(n,e))}class Gv{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>ih._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new Gv(e)}async getSession(){return ha._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,i=await this.getSession(),o=await fs(this.user,r._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await fs(this.user,vL(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==t),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const t_=new WeakMap;function wL(n){const e=ke(n);return t_.has(e)||t_.set(e,Gv._fromUser(e)),t_.get(e)}const Fp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Fp,"1"),this.storage.removeItem(Fp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL=1e3,IL=10;class Ab extends bb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ab(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);nV()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,IL):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},EL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ab.type="LOCAL";const vm=Ab;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb extends bb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Pb.type="SESSION";const co=Pb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TL(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new wm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async f=>f(t.origin,o)),d=await TL(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((u,d)=>{const f=sh("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const _=g;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(_.data.response);break;default:clearTimeout(m),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(){return window}function RL(n){Kt().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(){return typeof Kt().WorkerGlobalScope<"u"&&typeof Kt().importScripts=="function"}async function bL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AL(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function PL(){return Qv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="firebaseLocalStorageDb",CL=1,Up="firebaseLocalStorage",kb="fbase_key";class oh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Em(n,e){return n.transaction([Up],e?"readwrite":"readonly").objectStore(Up)}function kL(){const n=indexedDB.deleteDatabase(Cb);return new oh(n).toPromise()}function x_(){const n=indexedDB.open(Cb,CL);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Up,{keyPath:kb})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Up)?e(r):(r.close(),await kL(),e(await x_()))})})}async function vT(n,e,t){const r=Em(n,!0).put({[kb]:e,value:t});return new oh(r).toPromise()}async function xL(n,e){const t=Em(n,!1).get(e),r=await new oh(t).toPromise();return r===void 0?null:r.value}function wT(n,e){const t=Em(n,!0).delete(e);return new oh(t).toPromise()}const OL=800,NL=3;class xb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await x_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>NL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Qv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wm._getInstance(PL()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await bL(),!this.activeServiceWorker)return;this.sender=new SL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||AL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await x_();return await vT(e,Fp,"1"),await wT(e,Fp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>vT(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>xL(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>wT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Em(i,!1).getAll();return new oh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xb.type="LOCAL";const iu=xb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(n,e){return Mt(n,"POST","/v2/accounts/mfaSignIn:start",Lt(n,e))}function DL(n,e){return Mt(n,"POST","/v2/accounts/mfaSignIn:finalize",Lt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_=ub("rcb"),VL=new eh(3e4,6e4);class LL{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Kt().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return fe(ML(t),e,"argument-error"),this.shouldResolveImmediately(t)&&uT(Kt().grecaptcha)?Promise.resolve(Kt().grecaptcha):new Promise((r,i)=>{const o=Kt().setTimeout(()=>{i(rn(e,"network-request-failed"))},VL.get());Kt()[n_]=()=>{Kt().clearTimeout(o),delete Kt()[n_];const u=Kt().grecaptcha;if(!u||!uT(u)){i(rn(e,"internal-error"));return}const d=u.render;u.render=(f,m)=>{const g=d(f,m);return this.counter++,g},this.hostLanguage=t,r(u)};const l=`${uV()}?${Su({onload:n_,render:"explicit",hl:t})}`;zv(l).catch(()=>{clearTimeout(o),i(rn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=Kt().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function ML(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class FL{async load(e){return new pV(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd="recaptcha",UL={theme:"light",type:"image"};let BL=class{constructor(e,t,r=Object.assign({},UL)){this.parameters=r,this.type=pd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ct(e),this.isInvisible=this.parameters.size==="invisible",fe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof t=="string"?document.getElementById(t):t;fe(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new FL:new LL,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(i=>{const o=l=>{l&&(this.tokenChangeListeners.delete(o),i(l))};this.tokenChangeListeners.add(o),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){fe(!this.parameters.sitekey,this.auth,"argument-error"),fe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),fe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=Kt()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){fe(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){fe(Bv()&&!Qv(),this.auth,"internal-error"),await jL(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await q2(this.auth);fe(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return fe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function jL(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=ya._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function zL(n,e,t){if(Dt(n.app))return Promise.reject(fn(n));const r=Ct(n),i=await Im(r,e,ke(t));return new Jv(i,o=>ym(r,o))}async function $L(n,e,t){const r=ke(n);await gm(!1,r,"phone");const i=await Im(r.auth,e,ke(t));return new Jv(i,o=>vb(r,o))}async function qL(n,e,t){const r=ke(n);if(Dt(r.auth.app))return Promise.reject(fn(r.auth));const i=await Im(r.auth,e,ke(t));return new Jv(i,o=>wb(r,o))}async function Im(n,e,t){var r;if(!n._getRecaptchaConfig())try{await wV(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const o=i.session;if("phoneNumber"in i){fe(o.type==="enroll",n,"internal-error");const l={idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await io(n,l,"mfaSmsEnrollment",async(m,g)=>{if(g.phoneEnrollmentInfo.captchaResponse===fd){fe((t==null?void 0:t.type)===pd,m,"argument-error");const _=await r_(m,g,t);return _T(m,_)}return _T(m,g)},"PHONE_PROVIDER").catch(m=>Promise.reject(m))).phoneSessionInfo.sessionInfo}else{fe(o.type==="signin",n,"internal-error");const l=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;fe(l,n,"missing-multi-factor-info");const u={mfaPendingCredential:o.credential,mfaEnrollmentId:l,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await io(n,u,"mfaSmsSignIn",async(g,_)=>{if(_.phoneSignInInfo.captchaResponse===fd){fe((t==null?void 0:t.type)===pd,g,"argument-error");const T=await r_(g,_,t);return ET(g,T)}return ET(g,_)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneResponseInfo.sessionInfo}}else{const o={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await io(n,o,"sendVerificationCode",async(f,m)=>{if(m.captchaResponse===fd){fe((t==null?void 0:t.type)===pd,f,"argument-error");const g=await r_(f,m,t);return gT(f,g)}return gT(f,m)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).sessionInfo}}finally{t==null||t._reset()}}async function WL(n,e){const t=ke(n);if(Dt(t.auth.app))return Promise.reject(fn(t.auth));await $v(t,e)}async function r_(n,e,t){fe(t.type===pd,n,"argument-error");const r=await t.verify();fe(typeof r=="string",n,"argument-error");const i=Object.assign({},e);if("phoneEnrollmentInfo"in i){const o=i.phoneEnrollmentInfo.phoneNumber,l=i.phoneEnrollmentInfo.captchaResponse,u=i.phoneEnrollmentInfo.clientType,d=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r,captchaResponse:l,clientType:u,recaptchaVersion:d}}),i}else if("phoneSignInInfo"in i){const o=i.phoneSignInInfo.captchaResponse,l=i.phoneSignInInfo.clientType,u=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:o,clientType:l,recaptchaVersion:u}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wa=class lp{constructor(e){this.providerId=lp.PROVIDER_ID,this.auth=Ct(e)}verifyPhoneNumber(e,t){return Im(this.auth,e,ke(t))}static credential(e,t){return ya._fromVerification(e,t)}static credentialFromResult(e){const t=e;return lp.credentialFromTaggedObject(t)}static credentialFromError(e){return lp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?ya._fromTokenResponse(t,r):null}};wa.PROVIDER_ID="phone";wa.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(n,e){return e?gr(e):(fe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv extends Au{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return cs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return cs(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function HL(n){return _b(n.auth,new Yv(n),n.bypassAuthState)}function KL(n){const{auth:e,user:t}=n;return fe(t,e,"internal-error"),yb(t,new Yv(n),n.bypassAuthState)}async function GL(n){const{auth:e,user:t}=n;return fe(t,e,"internal-error"),$v(t,new Yv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HL;case"linkViaPopup":case"linkViaRedirect":return GL;case"reauthViaPopup":case"reauthViaRedirect":return KL;default:pn(this.auth,"internal-error")}}resolve(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL=new eh(2e3,1e4);async function JL(n,e,t){if(Dt(n.app))return Promise.reject(rn(n,"operation-not-supported-in-this-environment"));const r=Ct(n);bu(n,e,ws);const i=Na(r,t);return new os(r,"signInViaPopup",e,i).executeNotNull()}async function YL(n,e,t){const r=ke(n);if(Dt(r.auth.app))return Promise.reject(rn(r.auth,"operation-not-supported-in-this-environment"));bu(r.auth,e,ws);const i=Na(r.auth,t);return new os(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function XL(n,e,t){const r=ke(n);bu(r.auth,e,ws);const i=Na(r.auth,t);return new os(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class os extends Ob{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,os.currentPopupAction&&os.currentPopupAction.cancel(),os.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return fe(e,this.auth,"internal-error"),e}async onExecution(){ri(this.filter.length===1,"Popup operations only handle one event");const e=sh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(rn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(rn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,os.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,QL.get())};e()}}os.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL="pendingRedirect",md=new Map;class eM extends Ob{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=md.get(this.auth._key());if(!e){try{const r=await tM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}md.set(this.auth._key(),e)}return this.bypassAuthState||md.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tM(n,e){const t=Db(e),r=Nb(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}async function Xv(n,e){return Nb(n)._set(Db(e),"true")}function nM(){md.clear()}function Zv(n,e){md.set(n._key(),e)}function Nb(n){return gr(n._redirectPersistence)}function Db(n){return ga(ZL,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(n,e,t){return iM(n,e,t)}async function iM(n,e,t){if(Dt(n.app))return Promise.reject(fn(n));const r=Ct(n);bu(n,e,ws),await r._initializationPromise;const i=Na(r,t);return await Xv(i,r),i._openRedirect(r,e,"signInViaRedirect")}function sM(n,e,t){return oM(n,e,t)}async function oM(n,e,t){const r=ke(n);if(bu(r.auth,e,ws),Dt(r.auth.app))return Promise.reject(fn(r.auth));await r.auth._initializationPromise;const i=Na(r.auth,t);await Xv(i,r.auth);const o=await Vb(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",o)}function aM(n,e,t){return lM(n,e,t)}async function lM(n,e,t){const r=ke(n);bu(r.auth,e,ws),await r.auth._initializationPromise;const i=Na(r.auth,t);await gm(!1,r,e.providerId),await Xv(i,r.auth);const o=await Vb(r);return i._openRedirect(r.auth,e,"linkViaRedirect",o)}async function uM(n,e){return await Ct(n)._initializationPromise,Tm(n,e,!1)}async function Tm(n,e,t=!1){if(Dt(n.app))return Promise.reject(fn(n));const r=Ct(n),i=Na(r,e),l=await new eM(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}async function Vb(n){const e=sh(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM=10*60*1e3;class Lb{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dM(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Mb(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(rn(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cM&&this.cachedEventUids.clear(),this.cachedEventUids.has(IT(e))}saveEventToCache(e){this.cachedEventUids.add(IT(e)),this.lastProcessedEventTime=Date.now()}}function IT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Mb({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function dM(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Mb(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fb(n,e={}){return Mt(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fM=/^https?/;async function pM(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Fb(n);for(const t of e)try{if(mM(t))return}catch{}pn(n,"unauthorized-domain")}function mM(n){const e=Cd(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!fM.test(t))return!1;if(hM.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM=new eh(3e4,6e4);function TT(){const n=Kt().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function yM(n){return new Promise((e,t)=>{var r,i,o;function l(){TT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TT(),t(rn(n,"network-request-failed"))},timeout:gM.get()})}if(!((i=(r=Kt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Kt().gapi)===null||o===void 0)&&o.load)l();else{const u=ub("iframefcb");return Kt()[u]=()=>{gapi.load?l():t(rn(n,"network-request-failed"))},zv(`${dV()}?onload=${u}`).catch(d=>t(d))}}).catch(e=>{throw up=null,e})}let up=null;function _M(n){return up=up||yM(n),up}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=new eh(5e3,15e3),wM="__/auth/iframe",EM="emulator/auth/iframe",IM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SM(n){const e=n.config;fe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?jv(e,EM):`https://${n.config.authDomain}/${wM}`,r={apiKey:e.apiKey,appName:n.name,v:Ro},i=TM.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Su(r).slice(1)}`}async function RM(n){const e=await _M(n),t=Kt().gapi;return fe(t,n,"internal-error"),e.open({where:document.body,url:SM(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IM,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=rn(n,"network-request-failed"),u=Kt().setTimeout(()=>{o(l)},vM.get());function d(){Kt().clearTimeout(u),i(r)}r.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AM=500,PM=600,CM="_blank",kM="http://localhost";class ST{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xM(n,e,t,r=AM,i=PM){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d=Object.assign(Object.assign({},bM),{width:r.toString(),height:i.toString(),top:o,left:l}),f=Pt().toLowerCase();t&&(u=rb(f)?CM:t),tb(f)&&(e=e||kM,d.scrollbars="yes");const m=Object.entries(d).reduce((_,[T,I])=>`${_}${T}=${I},`,"");if(tV(f)&&u!=="_self")return OM(e||"",u),new ST(null);const g=window.open(e||"",u,m);fe(g,n,"popup-blocked");try{g.focus()}catch{}return new ST(g)}function OM(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM="__/auth/handler",DM="emulator/auth/handler",VM=encodeURIComponent("fac");async function O_(n,e,t,r,i,o){fe(n.config.authDomain,n,"auth-domain-config-required"),fe(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ro,eventId:i};if(e instanceof ws){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",dD(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries(o||{}))l[m]=g}if(e instanceof Pu){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const d=await n._getAppCheckToken(),f=d?`#${VM}=${encodeURIComponent(d)}`:"";return`${LM(n)}?${Su(u).slice(1)}${f}`}function LM({config:n}){return n.emulator?jv(n,DM):`https://${n.authDomain}/${NM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="webStorageSupport";class MM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=co,this._completeRedirectFn=Tm,this._overrideRedirectResult=Zv}async _openPopup(e,t,r,i){var o;ri((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await O_(e,t,r,Cd(),i);return xM(e,l,sh())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await O_(e,t,r,Cd(),i);return RL(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(ri(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await RM(e),r=new Lb(e);return t.register("authEvent",i=>(fe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(i_,{type:i_},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[i_];l!==void 0&&t(!!l),pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=pM(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ab()||nb()||nh()}}const Ub=MM;class FM{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ri("unexpected MultiFactorSessionType")}}}class e0 extends FM{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new e0(e)}_finalizeEnroll(e,t,r){return _L(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return DL(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Bb{constructor(){}static assertion(e){return e0._fromCredential(e)}}Bb.FACTOR_ID="phone";var RT="@firebase/auth",bT="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jM(n){uo(new xi("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;fe(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lb(n)},f=new aV(r,i,o,d);return IV(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),uo(new xi("auth-internal",e=>{const t=Ct(e.getProvider("auth").getImmediate());return(r=>new UM(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ni(RT,bT,BM(n)),ni(RT,bT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM=5*60,$M=bR("authIdTokenMaxAge")||zM;let AT=null;const qM=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>$M)return;const i=t==null?void 0:t.token;AT!==i&&(AT=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function WM(n=UR()){const e=hm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=EV(n,{popupRedirectResolver:Ub,persistence:[iu,vm,co]}),r=bR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=qM(o.toString());gL(t,l,()=>l(t.currentUser)),mL(t,u=>l(u))}}const i=tD("auth");return i&&db(t,`http://${i}`),t}function HM(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}lV({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=rn("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",HM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jM("Browser");var PT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _a,jb;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,b){function C(){}C.prototype=b.prototype,D.D=b.prototype,D.prototype=new C,D.prototype.constructor=D,D.C=function(E,O,k){for(var x=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)x[ee-2]=arguments[ee];return b.prototype[O].apply(E,x)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,b,C){C||(C=0);var E=Array(16);if(typeof b=="string")for(var O=0;16>O;++O)E[O]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(O=0;16>O;++O)E[O]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=D.g[0],C=D.g[1],O=D.g[2];var k=D.g[3],x=b+(k^C&(O^k))+E[0]+3614090360&4294967295;b=C+(x<<7&4294967295|x>>>25),x=k+(O^b&(C^O))+E[1]+3905402710&4294967295,k=b+(x<<12&4294967295|x>>>20),x=O+(C^k&(b^C))+E[2]+606105819&4294967295,O=k+(x<<17&4294967295|x>>>15),x=C+(b^O&(k^b))+E[3]+3250441966&4294967295,C=O+(x<<22&4294967295|x>>>10),x=b+(k^C&(O^k))+E[4]+4118548399&4294967295,b=C+(x<<7&4294967295|x>>>25),x=k+(O^b&(C^O))+E[5]+1200080426&4294967295,k=b+(x<<12&4294967295|x>>>20),x=O+(C^k&(b^C))+E[6]+2821735955&4294967295,O=k+(x<<17&4294967295|x>>>15),x=C+(b^O&(k^b))+E[7]+4249261313&4294967295,C=O+(x<<22&4294967295|x>>>10),x=b+(k^C&(O^k))+E[8]+1770035416&4294967295,b=C+(x<<7&4294967295|x>>>25),x=k+(O^b&(C^O))+E[9]+2336552879&4294967295,k=b+(x<<12&4294967295|x>>>20),x=O+(C^k&(b^C))+E[10]+4294925233&4294967295,O=k+(x<<17&4294967295|x>>>15),x=C+(b^O&(k^b))+E[11]+2304563134&4294967295,C=O+(x<<22&4294967295|x>>>10),x=b+(k^C&(O^k))+E[12]+1804603682&4294967295,b=C+(x<<7&4294967295|x>>>25),x=k+(O^b&(C^O))+E[13]+4254626195&4294967295,k=b+(x<<12&4294967295|x>>>20),x=O+(C^k&(b^C))+E[14]+2792965006&4294967295,O=k+(x<<17&4294967295|x>>>15),x=C+(b^O&(k^b))+E[15]+1236535329&4294967295,C=O+(x<<22&4294967295|x>>>10),x=b+(O^k&(C^O))+E[1]+4129170786&4294967295,b=C+(x<<5&4294967295|x>>>27),x=k+(C^O&(b^C))+E[6]+3225465664&4294967295,k=b+(x<<9&4294967295|x>>>23),x=O+(b^C&(k^b))+E[11]+643717713&4294967295,O=k+(x<<14&4294967295|x>>>18),x=C+(k^b&(O^k))+E[0]+3921069994&4294967295,C=O+(x<<20&4294967295|x>>>12),x=b+(O^k&(C^O))+E[5]+3593408605&4294967295,b=C+(x<<5&4294967295|x>>>27),x=k+(C^O&(b^C))+E[10]+38016083&4294967295,k=b+(x<<9&4294967295|x>>>23),x=O+(b^C&(k^b))+E[15]+3634488961&4294967295,O=k+(x<<14&4294967295|x>>>18),x=C+(k^b&(O^k))+E[4]+3889429448&4294967295,C=O+(x<<20&4294967295|x>>>12),x=b+(O^k&(C^O))+E[9]+568446438&4294967295,b=C+(x<<5&4294967295|x>>>27),x=k+(C^O&(b^C))+E[14]+3275163606&4294967295,k=b+(x<<9&4294967295|x>>>23),x=O+(b^C&(k^b))+E[3]+4107603335&4294967295,O=k+(x<<14&4294967295|x>>>18),x=C+(k^b&(O^k))+E[8]+1163531501&4294967295,C=O+(x<<20&4294967295|x>>>12),x=b+(O^k&(C^O))+E[13]+2850285829&4294967295,b=C+(x<<5&4294967295|x>>>27),x=k+(C^O&(b^C))+E[2]+4243563512&4294967295,k=b+(x<<9&4294967295|x>>>23),x=O+(b^C&(k^b))+E[7]+1735328473&4294967295,O=k+(x<<14&4294967295|x>>>18),x=C+(k^b&(O^k))+E[12]+2368359562&4294967295,C=O+(x<<20&4294967295|x>>>12),x=b+(C^O^k)+E[5]+4294588738&4294967295,b=C+(x<<4&4294967295|x>>>28),x=k+(b^C^O)+E[8]+2272392833&4294967295,k=b+(x<<11&4294967295|x>>>21),x=O+(k^b^C)+E[11]+1839030562&4294967295,O=k+(x<<16&4294967295|x>>>16),x=C+(O^k^b)+E[14]+4259657740&4294967295,C=O+(x<<23&4294967295|x>>>9),x=b+(C^O^k)+E[1]+2763975236&4294967295,b=C+(x<<4&4294967295|x>>>28),x=k+(b^C^O)+E[4]+1272893353&4294967295,k=b+(x<<11&4294967295|x>>>21),x=O+(k^b^C)+E[7]+4139469664&4294967295,O=k+(x<<16&4294967295|x>>>16),x=C+(O^k^b)+E[10]+3200236656&4294967295,C=O+(x<<23&4294967295|x>>>9),x=b+(C^O^k)+E[13]+681279174&4294967295,b=C+(x<<4&4294967295|x>>>28),x=k+(b^C^O)+E[0]+3936430074&4294967295,k=b+(x<<11&4294967295|x>>>21),x=O+(k^b^C)+E[3]+3572445317&4294967295,O=k+(x<<16&4294967295|x>>>16),x=C+(O^k^b)+E[6]+76029189&4294967295,C=O+(x<<23&4294967295|x>>>9),x=b+(C^O^k)+E[9]+3654602809&4294967295,b=C+(x<<4&4294967295|x>>>28),x=k+(b^C^O)+E[12]+3873151461&4294967295,k=b+(x<<11&4294967295|x>>>21),x=O+(k^b^C)+E[15]+530742520&4294967295,O=k+(x<<16&4294967295|x>>>16),x=C+(O^k^b)+E[2]+3299628645&4294967295,C=O+(x<<23&4294967295|x>>>9),x=b+(O^(C|~k))+E[0]+4096336452&4294967295,b=C+(x<<6&4294967295|x>>>26),x=k+(C^(b|~O))+E[7]+1126891415&4294967295,k=b+(x<<10&4294967295|x>>>22),x=O+(b^(k|~C))+E[14]+2878612391&4294967295,O=k+(x<<15&4294967295|x>>>17),x=C+(k^(O|~b))+E[5]+4237533241&4294967295,C=O+(x<<21&4294967295|x>>>11),x=b+(O^(C|~k))+E[12]+1700485571&4294967295,b=C+(x<<6&4294967295|x>>>26),x=k+(C^(b|~O))+E[3]+2399980690&4294967295,k=b+(x<<10&4294967295|x>>>22),x=O+(b^(k|~C))+E[10]+4293915773&4294967295,O=k+(x<<15&4294967295|x>>>17),x=C+(k^(O|~b))+E[1]+2240044497&4294967295,C=O+(x<<21&4294967295|x>>>11),x=b+(O^(C|~k))+E[8]+1873313359&4294967295,b=C+(x<<6&4294967295|x>>>26),x=k+(C^(b|~O))+E[15]+4264355552&4294967295,k=b+(x<<10&4294967295|x>>>22),x=O+(b^(k|~C))+E[6]+2734768916&4294967295,O=k+(x<<15&4294967295|x>>>17),x=C+(k^(O|~b))+E[13]+1309151649&4294967295,C=O+(x<<21&4294967295|x>>>11),x=b+(O^(C|~k))+E[4]+4149444226&4294967295,b=C+(x<<6&4294967295|x>>>26),x=k+(C^(b|~O))+E[11]+3174756917&4294967295,k=b+(x<<10&4294967295|x>>>22),x=O+(b^(k|~C))+E[2]+718787259&4294967295,O=k+(x<<15&4294967295|x>>>17),x=C+(k^(O|~b))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+b&4294967295,D.g[1]=D.g[1]+(O+(x<<21&4294967295|x>>>11))&4294967295,D.g[2]=D.g[2]+O&4294967295,D.g[3]=D.g[3]+k&4294967295}r.prototype.u=function(D,b){b===void 0&&(b=D.length);for(var C=b-this.blockSize,E=this.B,O=this.h,k=0;k<b;){if(O==0)for(;k<=C;)i(this,D,k),k+=this.blockSize;if(typeof D=="string"){for(;k<b;)if(E[O++]=D.charCodeAt(k++),O==this.blockSize){i(this,E),O=0;break}}else for(;k<b;)if(E[O++]=D[k++],O==this.blockSize){i(this,E),O=0;break}}this.h=O,this.o+=b},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var b=1;b<D.length-8;++b)D[b]=0;var C=8*this.o;for(b=D.length-8;b<D.length;++b)D[b]=C&255,C/=256;for(this.u(D),D=Array(16),b=C=0;4>b;++b)for(var E=0;32>E;E+=8)D[C++]=this.g[b]>>>E&255;return D};function o(D,b){var C=u;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=b(D)}function l(D,b){this.h=b;for(var C=[],E=!0,O=D.length-1;0<=O;O--){var k=D[O]|0;E&&k==b||(C[O]=k,E=!1)}this.g=C}var u={};function d(D){return-128<=D&&128>D?o(D,function(b){return new l([b|0],0>b?-1:0)}):new l([D|0],0>D?-1:0)}function f(D){if(isNaN(D)||!isFinite(D))return g;if(0>D)return P(f(-D));for(var b=[],C=1,E=0;D>=C;E++)b[E]=D/C|0,C*=4294967296;return new l(b,0)}function m(D,b){if(D.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(D.charAt(0)=="-")return P(m(D.substring(1),b));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=f(Math.pow(b,8)),E=g,O=0;O<D.length;O+=8){var k=Math.min(8,D.length-O),x=parseInt(D.substring(O,O+k),b);8>k?(k=f(Math.pow(b,k)),E=E.j(k).add(f(x))):(E=E.j(C),E=E.add(f(x)))}return E}var g=d(0),_=d(1),T=d(16777216);n=l.prototype,n.m=function(){if(R(this))return-P(this).m();for(var D=0,b=1,C=0;C<this.g.length;C++){var E=this.i(C);D+=(0<=E?E:4294967296+E)*b,b*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(I(this))return"0";if(R(this))return"-"+P(this).toString(D);for(var b=f(Math.pow(D,6)),C=this,E="";;){var O=q(C,b).g;C=L(C,O.j(b));var k=((0<C.g.length?C.g[0]:C.h)>>>0).toString(D);if(C=O,I(C))return k+E;for(;6>k.length;)k="0"+k;E=k+E}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function I(D){if(D.h!=0)return!1;for(var b=0;b<D.g.length;b++)if(D.g[b]!=0)return!1;return!0}function R(D){return D.h==-1}n.l=function(D){return D=L(this,D),R(D)?-1:I(D)?0:1};function P(D){for(var b=D.g.length,C=[],E=0;E<b;E++)C[E]=~D.g[E];return new l(C,~D.h).add(_)}n.abs=function(){return R(this)?P(this):this},n.add=function(D){for(var b=Math.max(this.g.length,D.g.length),C=[],E=0,O=0;O<=b;O++){var k=E+(this.i(O)&65535)+(D.i(O)&65535),x=(k>>>16)+(this.i(O)>>>16)+(D.i(O)>>>16);E=x>>>16,k&=65535,x&=65535,C[O]=x<<16|k}return new l(C,C[C.length-1]&-2147483648?-1:0)};function L(D,b){return D.add(P(b))}n.j=function(D){if(I(this)||I(D))return g;if(R(this))return R(D)?P(this).j(P(D)):P(P(this).j(D));if(R(D))return P(this.j(P(D)));if(0>this.l(T)&&0>D.l(T))return f(this.m()*D.m());for(var b=this.g.length+D.g.length,C=[],E=0;E<2*b;E++)C[E]=0;for(E=0;E<this.g.length;E++)for(var O=0;O<D.g.length;O++){var k=this.i(E)>>>16,x=this.i(E)&65535,ee=D.i(O)>>>16,M=D.i(O)&65535;C[2*E+2*O]+=x*M,V(C,2*E+2*O),C[2*E+2*O+1]+=k*M,V(C,2*E+2*O+1),C[2*E+2*O+1]+=x*ee,V(C,2*E+2*O+1),C[2*E+2*O+2]+=k*ee,V(C,2*E+2*O+2)}for(E=0;E<b;E++)C[E]=C[2*E+1]<<16|C[2*E];for(E=b;E<2*b;E++)C[E]=0;return new l(C,0)};function V(D,b){for(;(D[b]&65535)!=D[b];)D[b+1]+=D[b]>>>16,D[b]&=65535,b++}function U(D,b){this.g=D,this.h=b}function q(D,b){if(I(b))throw Error("division by zero");if(I(D))return new U(g,g);if(R(D))return b=q(P(D),b),new U(P(b.g),P(b.h));if(R(b))return b=q(D,P(b)),new U(P(b.g),b.h);if(30<D.g.length){if(R(D)||R(b))throw Error("slowDivide_ only works with positive integers.");for(var C=_,E=b;0>=E.l(D);)C=j(C),E=j(E);var O=W(C,1),k=W(E,1);for(E=W(E,2),C=W(C,2);!I(E);){var x=k.add(E);0>=x.l(D)&&(O=O.add(C),k=x),E=W(E,1),C=W(C,1)}return b=L(D,O.j(b)),new U(O,b)}for(O=g;0<=D.l(b);){for(C=Math.max(1,Math.floor(D.m()/b.m())),E=Math.ceil(Math.log(C)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),k=f(C),x=k.j(b);R(x)||0<x.l(D);)C-=E,k=f(C),x=k.j(b);I(k)&&(k=_),O=O.add(k),D=L(D,x)}return new U(O,D)}n.A=function(D){return q(this,D).h},n.and=function(D){for(var b=Math.max(this.g.length,D.g.length),C=[],E=0;E<b;E++)C[E]=this.i(E)&D.i(E);return new l(C,this.h&D.h)},n.or=function(D){for(var b=Math.max(this.g.length,D.g.length),C=[],E=0;E<b;E++)C[E]=this.i(E)|D.i(E);return new l(C,this.h|D.h)},n.xor=function(D){for(var b=Math.max(this.g.length,D.g.length),C=[],E=0;E<b;E++)C[E]=this.i(E)^D.i(E);return new l(C,this.h^D.h)};function j(D){for(var b=D.g.length+1,C=[],E=0;E<b;E++)C[E]=D.i(E)<<1|D.i(E-1)>>>31;return new l(C,D.h)}function W(D,b){var C=b>>5;b%=32;for(var E=D.g.length-C,O=[],k=0;k<E;k++)O[k]=0<b?D.i(k+C)>>>b|D.i(k+C+1)<<32-b:D.i(k+C);return new l(O,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,jb=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=m,_a=l}).apply(typeof PT<"u"?PT:typeof self<"u"?self:typeof window<"u"?window:{});var qf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zb,od,$b,cp,N_,qb,Wb,Hb;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,S){return h==Array.prototype||h==Object.prototype||(h[v]=S.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof qf=="object"&&qf];for(var v=0;v<h.length;++v){var S=h[v];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function i(h,v){if(v)e:{var S=r;h=h.split(".");for(var N=0;N<h.length-1;N++){var Q=h[N];if(!(Q in S))break e;S=S[Q]}h=h[h.length-1],N=S[h],v=v(N),v!=N&&v!=null&&e(S,h,{configurable:!0,writable:!0,value:v})}}function o(h,v){h instanceof String&&(h+="");var S=0,N=!1,Q={next:function(){if(!N&&S<h.length){var ne=S++;return{value:v(ne,h[ne]),done:!1}}return N=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}i("Array.prototype.values",function(h){return h||function(){return o(this,function(v,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function d(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function f(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function m(h,v,S){return h.call.apply(h.bind,arguments)}function g(h,v,S){if(!h)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,N),h.apply(v,Q)}}return function(){return h.apply(v,arguments)}}function _(h,v,S){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:g,_.apply(null,arguments)}function T(h,v){var S=Array.prototype.slice.call(arguments,1);return function(){var N=S.slice();return N.push.apply(N,arguments),h.apply(this,N)}}function I(h,v){function S(){}S.prototype=v.prototype,h.aa=v.prototype,h.prototype=new S,h.prototype.constructor=h,h.Qb=function(N,Q,ne){for(var ye=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)ye[rt-2]=arguments[rt];return v.prototype[Q].apply(N,ye)}}function R(h){const v=h.length;if(0<v){const S=Array(v);for(let N=0;N<v;N++)S[N]=h[N];return S}return[]}function P(h,v){for(let S=1;S<arguments.length;S++){const N=arguments[S];if(d(N)){const Q=h.length||0,ne=N.length||0;h.length=Q+ne;for(let ye=0;ye<ne;ye++)h[Q+ye]=N[ye]}else h.push(N)}}class L{constructor(v,S){this.i=v,this.j=S,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function V(h){return/^[\s\xa0]*$/.test(h)}function U(){var h=u.navigator;return h&&(h=h.userAgent)?h:""}function q(h){return q[" "](h),h}q[" "]=function(){};var j=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function W(h,v,S){for(const N in h)v.call(S,h[N],N,h)}function D(h,v){for(const S in h)v.call(void 0,h[S],S,h)}function b(h){const v={};for(const S in h)v[S]=h[S];return v}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(h,v){let S,N;for(let Q=1;Q<arguments.length;Q++){N=arguments[Q];for(S in N)h[S]=N[S];for(let ne=0;ne<C.length;ne++)S=C[ne],Object.prototype.hasOwnProperty.call(N,S)&&(h[S]=N[S])}}function O(h){var v=1;h=h.split(":");const S=[];for(;0<v&&h.length;)S.push(h.shift()),v--;return h.length&&S.push(h.join(":")),S}function k(h){u.setTimeout(()=>{throw h},0)}function x(){var h=pe;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class ee{constructor(){this.h=this.g=null}add(v,S){const N=M.get();N.set(v,S),this.h?this.h.next=N:this.g=N,this.h=N}}var M=new L(()=>new me,h=>h.reset());class me{constructor(){this.next=this.g=this.h=null}set(v,S){this.h=v,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,X=!1,pe=new ee,de=()=>{const h=u.Promise.resolve(void 0);oe=()=>{h.then($)}};var $=()=>{for(var h;h=x();){try{h.h.call(h.g)}catch(S){k(S)}var v=M;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}X=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Te(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}Te.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const S=()=>{};u.addEventListener("test",S,v),u.removeEventListener("test",S,v)}catch{}return h}();function Ve(h,v){if(Te.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var S=this.type=h.type,N=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(j){e:{try{q(v.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(v=null)}}else S=="mouseover"?v=h.fromElement:S=="mouseout"&&(v=h.toElement);this.relatedTarget=v,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Fe[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ve.aa.h.call(this)}}I(Ve,Te);var Fe={2:"touch",3:"pen",4:"mouse"};Ve.prototype.h=function(){Ve.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ke="closure_listenable_"+(1e6*Math.random()|0),We=0;function tt(h,v,S,N,Q){this.listener=h,this.proxy=null,this.src=v,this.type=S,this.capture=!!N,this.ha=Q,this.key=++We,this.da=this.fa=!1}function gt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function on(h){this.src=h,this.g={},this.h=0}on.prototype.add=function(h,v,S,N,Q){var ne=h.toString();h=this.g[ne],h||(h=this.g[ne]=[],this.h++);var ye=ht(h,v,N,Q);return-1<ye?(v=h[ye],S||(v.fa=!1)):(v=new tt(v,this.src,ne,!!N,Q),v.fa=S,h.push(v)),v};function nt(h,v){var S=v.type;if(S in h.g){var N=h.g[S],Q=Array.prototype.indexOf.call(N,v,void 0),ne;(ne=0<=Q)&&Array.prototype.splice.call(N,Q,1),ne&&(gt(v),h.g[S].length==0&&(delete h.g[S],h.h--))}}function ht(h,v,S,N){for(var Q=0;Q<h.length;++Q){var ne=h[Q];if(!ne.da&&ne.listener==v&&ne.capture==!!S&&ne.ha==N)return Q}return-1}var Yt="closure_lm_"+(1e6*Math.random()|0),Fr={};function Er(h,v,S,N,Q){if(Array.isArray(v)){for(var ne=0;ne<v.length;ne++)Er(h,v[ne],S,N,Q);return null}return S=ju(S),h&&h[Ke]?h.K(v,S,f(N)?!!N.capture:!!N,Q):Ir(h,v,S,!1,N,Q)}function Ir(h,v,S,N,Q,ne){if(!v)throw Error("Invalid event type");var ye=f(Q)?!!Q.capture:!!Q,rt=Ua(h);if(rt||(h[Yt]=rt=new on(h)),S=rt.add(v,S,N,ye,ne),S.proxy)return S;if(N=zn(),S.proxy=N,N.src=h,N.listener=S,h.addEventListener)Ce||(Q=ye),Q===void 0&&(Q=!1),h.addEventListener(v.toString(),N,Q);else if(h.attachEvent)h.attachEvent(Fi(v.toString()),N);else if(h.addListener&&h.removeListener)h.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return S}function zn(){function h(S){return v.call(h.src,h.listener,S)}const v=Bu;return h}function $n(h,v,S,N,Q){if(Array.isArray(v))for(var ne=0;ne<v.length;ne++)$n(h,v[ne],S,N,Q);else N=f(N)?!!N.capture:!!N,S=ju(S),h&&h[Ke]?(h=h.i,v=String(v).toString(),v in h.g&&(ne=h.g[v],S=ht(ne,S,N,Q),-1<S&&(gt(ne[S]),Array.prototype.splice.call(ne,S,1),ne.length==0&&(delete h.g[v],h.h--)))):h&&(h=Ua(h))&&(v=h.g[v.toString()],h=-1,v&&(h=ht(v,S,N,Q)),(S=-1<h?v[h]:null)&&ir(S))}function ir(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Ke])nt(v.i,h);else{var S=h.type,N=h.proxy;v.removeEventListener?v.removeEventListener(S,N,h.capture):v.detachEvent?v.detachEvent(Fi(S),N):v.addListener&&v.removeListener&&v.removeListener(N),(S=Ua(v))?(nt(S,h),S.h==0&&(S.src=null,v[Yt]=null)):gt(h)}}}function Fi(h){return h in Fr?Fr[h]:Fr[h]="on"+h}function Bu(h,v){if(h.da)h=!0;else{v=new Ve(v,this);var S=h.listener,N=h.ha||h.src;h.fa&&ir(h),h=S.call(N,v)}return h}function Ua(h){return h=h[Yt],h instanceof on?h:null}var Ba="__closure_events_fn_"+(1e9*Math.random()>>>0);function ju(h){return typeof h=="function"?h:(h[Ba]||(h[Ba]=function(v){return h.handleEvent(v)}),h[Ba])}function Xt(){ie.call(this),this.i=new on(this),this.M=this,this.F=null}I(Xt,ie),Xt.prototype[Ke]=!0,Xt.prototype.removeEventListener=function(h,v,S,N){$n(this,h,v,S,N)};function Zt(h,v){var S,N=h.F;if(N)for(S=[];N;N=N.F)S.push(N);if(h=h.M,N=v.type||v,typeof v=="string")v=new Te(v,h);else if(v instanceof Te)v.target=v.target||h;else{var Q=v;v=new Te(N,h),E(v,Q)}if(Q=!0,S)for(var ne=S.length-1;0<=ne;ne--){var ye=v.g=S[ne];Q=Ui(ye,N,!0,v)&&Q}if(ye=v.g=h,Q=Ui(ye,N,!0,v)&&Q,Q=Ui(ye,N,!1,v)&&Q,S)for(ne=0;ne<S.length;ne++)ye=v.g=S[ne],Q=Ui(ye,N,!1,v)&&Q}Xt.prototype.N=function(){if(Xt.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var S=h.g[v],N=0;N<S.length;N++)gt(S[N]);delete h.g[v],h.h--}}this.F=null},Xt.prototype.K=function(h,v,S,N){return this.i.add(String(h),v,!1,S,N)},Xt.prototype.L=function(h,v,S,N){return this.i.add(String(h),v,!0,S,N)};function Ui(h,v,S,N){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var Q=!0,ne=0;ne<v.length;++ne){var ye=v[ne];if(ye&&!ye.da&&ye.capture==S){var rt=ye.listener,en=ye.ha||ye.src;ye.fa&&nt(h.i,ye),Q=rt.call(en,N)!==!1&&Q}}return Q&&!N.defaultPrevented}function zu(h,v,S){if(typeof h=="function")S&&(h=_(h,S));else if(h&&typeof h.handleEvent=="function")h=_(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:u.setTimeout(h,v||0)}function Rs(h){h.g=zu(()=>{h.g=null,h.i&&(h.i=!1,Rs(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class xo extends ie{constructor(v,S){super(),this.m=v,this.l=S,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Rs(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oo(h){ie.call(this),this.h=h,this.g={}}I(Oo,ie);var $u=[];function qu(h){W(h.g,function(v,S){this.g.hasOwnProperty(S)&&ir(v)},h),h.g={}}Oo.prototype.N=function(){Oo.aa.N.call(this),qu(this)},Oo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wu=u.JSON.stringify,Hu=u.JSON.parse,Ku=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function No(){}No.prototype.h=null;function ja(h){return h.h||(h.h=h.i())}function za(){}var Tr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function si(){Te.call(this,"d")}I(si,Te);function $a(){Te.call(this,"c")}I($a,Te);var oi={},Gu=null;function Do(){return Gu=Gu||new Xt}oi.La="serverreachability";function Qu(h){Te.call(this,oi.La,h)}I(Qu,Te);function Bi(h){const v=Do();Zt(v,new Qu(v))}oi.STAT_EVENT="statevent";function Ju(h,v){Te.call(this,oi.STAT_EVENT,h),this.stat=v}I(Ju,Te);function Ft(h){const v=Do();Zt(v,new Ju(v,h))}oi.Ma="timingevent";function qa(h,v){Te.call(this,oi.Ma,h),this.size=v}I(qa,Te);function Ur(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},v)}function Vo(){this.g=!0}Vo.prototype.xa=function(){this.g=!1};function Lo(h,v,S,N,Q,ne){h.info(function(){if(h.g)if(ne)for(var ye="",rt=ne.split("&"),en=0;en<rt.length;en++){var Ge=rt[en].split("=");if(1<Ge.length){var an=Ge[0];Ge=Ge[1];var qt=an.split("_");ye=2<=qt.length&&qt[1]=="type"?ye+(an+"="+Ge+"&"):ye+(an+"=redacted&")}}else ye=null;else ye=ne;return"XMLHTTP REQ ("+N+") [attempt "+Q+"]: "+v+`
`+S+`
`+ye})}function Wa(h,v,S,N,Q,ne,ye){h.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+Q+"]: "+v+`
`+S+`
`+ne+" "+ye})}function Br(h,v,S,N){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+fg(h,S)+(N?" "+N:"")})}function Yu(h,v){h.info(function(){return"TIMEOUT: "+v})}Vo.prototype.info=function(){};function fg(h,v){if(!h.g)return v;if(!v)return null;try{var S=JSON.parse(v);if(S){for(h=0;h<S.length;h++)if(Array.isArray(S[h])){var N=S[h];if(!(2>N.length)){var Q=N[1];if(Array.isArray(Q)&&!(1>Q.length)){var ne=Q[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var ye=1;ye<Q.length;ye++)Q[ye]=""}}}}return Wu(S)}catch{return v}}var Ha={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jr;function Mo(){}I(Mo,No),Mo.prototype.g=function(){return new XMLHttpRequest},Mo.prototype.i=function(){return{}},jr=new Mo;function zr(h,v,S,N){this.j=h,this.i=v,this.l=S,this.R=N||1,this.U=new Oo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ah}function Ah(){this.i=null,this.g="",this.h=!1}var Xu={},Ka={};function Ga(h,v,S){h.L=1,h.v=ks(or(v)),h.m=S,h.P=!0,Zu(h,null)}function Zu(h,v){h.F=Date.now(),ut(h),h.A=or(h.v);var S=h.A,N=h.R;Array.isArray(N)||(N=[String(N)]),Os(S.i,"t",N),h.C=0,S=h.j.J,h.h=new Ah,h.g=Wh(h.j,S?v:null,!h.m),0<h.O&&(h.M=new xo(_(h.Y,h,h.g),h.O)),v=h.U,S=h.g,N=h.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&($u[0]=Q.toString()),Q=$u);for(var ne=0;ne<Q.length;ne++){var ye=Er(S,Q[ne],N||v.handleEvent,!1,v.h||v);if(!ye)break;v.g[ye.key]=ye}v=h.H?b(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Bi(),Lo(h.i,h.u,h.A,h.l,h.R,h.m)}zr.prototype.ca=function(h){h=h.target;const v=this.M;v&&Wn(h)==3?v.j():this.Y(h)},zr.prototype.Y=function(h){try{if(h==this.g)e:{const qt=Wn(this.g);var v=this.g.Ba();const br=this.g.Z();if(!(3>qt)&&(qt!=3||this.g&&(this.h.h||this.g.oa()||sc(this.g)))){this.J||qt!=4||v==7||(v==8||0>=br?Bi(3):Bi(2)),Fo(this);var S=this.g.Z();this.X=S;t:if(Ph(this)){var N=sc(this.g);h="";var Q=N.length,ne=Wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Sr(this),bs(this);var ye="";break t}this.h.i=new u.TextDecoder}for(v=0;v<Q;v++)this.h.h=!0,h+=this.h.i.decode(N[v],{stream:!(ne&&v==Q-1)});N.length=0,this.h.g+=h,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=S==200,Wa(this.i,this.u,this.A,this.l,this.R,qt,S),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,en=this.g;if((rt=en.g?en.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(rt)){var Ge=rt;break t}}Ge=null}if(S=Ge)Br(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ec(this,S);else{this.o=!1,this.s=3,Ft(12),Sr(this),bs(this);break e}}if(this.P){S=!0;let lr;for(;!this.J&&this.C<ye.length;)if(lr=pg(this,ye),lr==Ka){qt==4&&(this.s=4,Ft(14),S=!1),Br(this.i,this.l,null,"[Incomplete Response]");break}else if(lr==Xu){this.s=4,Ft(15),Br(this.i,this.l,ye,"[Invalid Chunk]"),S=!1;break}else Br(this.i,this.l,lr,null),ec(this,lr);if(Ph(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qt!=4||ye.length!=0||this.h.h||(this.s=1,Ft(16),S=!1),this.o=this.o&&S,!S)Br(this.i,this.l,ye,"[Invalid Chunked Response]"),Sr(this),bs(this);else if(0<ye.length&&!this.W){this.W=!0;var an=this.j;an.g==this&&an.ba&&!an.M&&(an.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),ac(an),an.M=!0,Ft(11))}}else Br(this.i,this.l,ye,null),ec(this,ye);qt==4&&Sr(this),this.o&&!this.J&&(qt==4?sl(this.j,this):(this.o=!1,ut(this)))}else el(this.g),S==400&&0<ye.indexOf("Unknown SID")?(this.s=3,Ft(12)):(this.s=0,Ft(13)),Sr(this),bs(this)}}}catch{}finally{}};function Ph(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function pg(h,v){var S=h.C,N=v.indexOf(`
`,S);return N==-1?Ka:(S=Number(v.substring(S,N)),isNaN(S)?Xu:(N+=1,N+S>v.length?Ka:(v=v.slice(N,N+S),h.C=N+S,v)))}zr.prototype.cancel=function(){this.J=!0,Sr(this)};function ut(h){h.S=Date.now()+h.I,Ch(h,h.I)}function Ch(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Ur(_(h.ba,h),v)}function Fo(h){h.B&&(u.clearTimeout(h.B),h.B=null)}zr.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Yu(this.i,this.A),this.L!=2&&(Bi(),Ft(17)),Sr(this),this.s=2,bs(this)):Ch(this,this.S-h)};function bs(h){h.j.G==0||h.J||sl(h.j,h)}function Sr(h){Fo(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,qu(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function ec(h,v){try{var S=h.j;if(S.G!=0&&(S.g==h||Nn(S.h,h))){if(!h.K&&Nn(S.h,h)&&S.G==3){try{var N=S.Da.g.parse(v)}catch{N=null}if(Array.isArray(N)&&N.length==3){var Q=N;if(Q[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<h.F)il(S),Kr(S);else break e;rl(S),Ft(18)}}else S.za=Q[1],0<S.za-S.T&&37500>Q[2]&&S.F&&S.v==0&&!S.C&&(S.C=Ur(_(S.Za,S),6e3));if(1>=xh(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else Wi(S,11)}else if((h.K||S.g==h)&&il(S),!V(v))for(Q=S.Da.g.parse(v),v=0;v<Q.length;v++){let Ge=Q[v];if(S.T=Ge[0],Ge=Ge[1],S.G==2)if(Ge[0]=="c"){S.K=Ge[1],S.ia=Ge[2];const an=Ge[3];an!=null&&(S.la=an,S.j.info("VER="+S.la));const qt=Ge[4];qt!=null&&(S.Aa=qt,S.j.info("SVER="+S.Aa));const br=Ge[5];br!=null&&typeof br=="number"&&0<br&&(N=1.5*br,S.L=N,S.j.info("backChannelRequestTimeoutMs_="+N)),N=S;const lr=h.g;if(lr){const Wo=lr.g?lr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wo){var ne=N.h;ne.g||Wo.indexOf("spdy")==-1&&Wo.indexOf("quic")==-1&&Wo.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(tc(ne,ne.h),ne.h=null))}if(N.D){const al=lr.g?lr.g.getResponseHeader("X-HTTP-Session-Id"):null;al&&(N.ya=al,ot(N.I,N.D,al))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-h.F,S.j.info("Handshake RTT: "+S.R+"ms")),N=S;var ye=h;if(N.qa=qh(N,N.J?N.ia:null,N.W),ye.K){Oh(N.h,ye);var rt=ye,en=N.L;en&&(rt.I=en),rt.B&&(Fo(rt),ut(rt)),N.g=ye}else qo(N);0<S.i.length&&ci(S)}else Ge[0]!="stop"&&Ge[0]!="close"||Wi(S,7);else S.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Wi(S,7):gn(S):Ge[0]!="noop"&&S.l&&S.l.ta(Ge),S.v=0)}}Bi(4)}catch{}}var kh=class{constructor(h,v){this.g=h,this.map=v}};function Uo(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sr(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function xh(h){return h.h?1:h.g?h.g.size:0}function Nn(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function tc(h,v){h.g?h.g.add(v):h.h=v}function Oh(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Uo.prototype.cancel=function(){if(this.i=Nh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Nh(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const S of h.g.values())v=v.concat(S.D);return v}return R(h.i)}function Qa(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(d(h)){for(var v=[],S=h.length,N=0;N<S;N++)v.push(h[N]);return v}v=[],S=0;for(N in h)v[S++]=h[N];return v}function Ja(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(d(h)||typeof h=="string"){var v=[];h=h.length;for(var S=0;S<h;S++)v.push(S);return v}v=[],S=0;for(const N in h)v[S++]=N;return v}}}function As(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(d(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var S=Ja(h),N=Qa(h),Q=N.length,ne=0;ne<Q;ne++)v.call(void 0,N[ne],S&&S[ne],h)}var Bo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mg(h,v){if(h){h=h.split("&");for(var S=0;S<h.length;S++){var N=h[S].indexOf("="),Q=null;if(0<=N){var ne=h[S].substring(0,N);Q=h[S].substring(N+1)}else ne=h[S];v(ne,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function ji(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof ji){this.h=h.h,jo(this,h.j),this.o=h.o,this.g=h.g,Ps(this,h.s),this.l=h.l;var v=h.i,S=new ai;S.i=v.i,v.g&&(S.g=new Map(v.g),S.h=v.h),Cs(this,S),this.m=h.m}else h&&(v=String(h).match(Bo))?(this.h=!1,jo(this,v[1]||"",!0),this.o=He(v[2]||""),this.g=He(v[3]||"",!0),Ps(this,v[4]),this.l=He(v[5]||"",!0),Cs(this,v[6]||"",!0),this.m=He(v[7]||"")):(this.h=!1,this.i=new ai(null,this.h))}ji.prototype.toString=function(){var h=[],v=this.j;v&&h.push(xs(v,Ya,!0),":");var S=this.g;return(S||v=="file")&&(h.push("//"),(v=this.o)&&h.push(xs(v,Ya,!0),"@"),h.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&h.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&h.push("/"),h.push(xs(S,S.charAt(0)=="/"?Lh:Vh,!0))),(S=this.i.toString())&&h.push("?",S),(S=this.m)&&h.push("#",xs(S,nc)),h.join("")};function or(h){return new ji(h)}function jo(h,v,S){h.j=S?He(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Ps(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Cs(h,v,S){v instanceof ai?(h.i=v,li(h.i,h.h)):(S||(v=xs(v,Mh)),h.i=new ai(v,h.h))}function ot(h,v,S){h.i.set(v,S)}function ks(h){return ot(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function He(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function xs(h,v,S){return typeof h=="string"?(h=encodeURI(h).replace(v,Dh),S&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Dh(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ya=/[#\/\?@]/g,Vh=/[#\?:]/g,Lh=/[#\?]/g,Mh=/[#\?@]/g,nc=/#/g;function ai(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function mn(h){h.g||(h.g=new Map,h.h=0,h.i&&mg(h.i,function(v,S){h.add(decodeURIComponent(v.replace(/\+/g," ")),S)}))}n=ai.prototype,n.add=function(h,v){mn(this),this.i=null,h=Rr(this,h);var S=this.g.get(h);return S||this.g.set(h,S=[]),S.push(v),this.h+=1,this};function $r(h,v){mn(h),v=Rr(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function qr(h,v){return mn(h),v=Rr(h,v),h.g.has(v)}n.forEach=function(h,v){mn(this),this.g.forEach(function(S,N){S.forEach(function(Q){h.call(v,Q,N,this)},this)},this)},n.na=function(){mn(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),S=[];for(let N=0;N<v.length;N++){const Q=h[N];for(let ne=0;ne<Q.length;ne++)S.push(v[N])}return S},n.V=function(h){mn(this);let v=[];if(typeof h=="string")qr(this,h)&&(v=v.concat(this.g.get(Rr(this,h))));else{h=Array.from(this.g.values());for(let S=0;S<h.length;S++)v=v.concat(h[S])}return v},n.set=function(h,v){return mn(this),this.i=null,h=Rr(this,h),qr(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},n.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function Os(h,v,S){$r(h,v),0<S.length&&(h.i=null,h.g.set(Rr(h,v),R(S)),h.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var S=0;S<v.length;S++){var N=v[S];const ne=encodeURIComponent(String(N)),ye=this.V(N);for(N=0;N<ye.length;N++){var Q=ne;ye[N]!==""&&(Q+="="+encodeURIComponent(String(ye[N]))),h.push(Q)}}return this.i=h.join("&")};function Rr(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function li(h,v){v&&!h.j&&(mn(h),h.i=null,h.g.forEach(function(S,N){var Q=N.toLowerCase();N!=Q&&($r(this,N),Os(this,Q,S))},h)),h.j=v}function gg(h,v){const S=new Vo;if(u.Image){const N=new Image;N.onload=T(qn,S,"TestLoadImage: loaded",!0,v,N),N.onerror=T(qn,S,"TestLoadImage: error",!1,v,N),N.onabort=T(qn,S,"TestLoadImage: abort",!1,v,N),N.ontimeout=T(qn,S,"TestLoadImage: timeout",!1,v,N),u.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=h}else v(!1)}function Fh(h,v){const S=new Vo,N=new AbortController,Q=setTimeout(()=>{N.abort(),qn(S,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:N.signal}).then(ne=>{clearTimeout(Q),ne.ok?qn(S,"TestPingServer: ok",!0,v):qn(S,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Q),qn(S,"TestPingServer: error",!1,v)})}function qn(h,v,S,N,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),N(S)}catch{}}function yg(){this.g=new Ku}function Uh(h,v,S){const N=S||"";try{As(h,function(Q,ne){let ye=Q;f(Q)&&(ye=Wu(Q)),v.push(N+ne+"="+encodeURIComponent(ye))})}catch(Q){throw v.push(N+"type="+encodeURIComponent("_badmap")),Q}}function zi(h){this.l=h.Ub||null,this.j=h.eb||!1}I(zi,No),zi.prototype.g=function(){return new zo(this.l,this.j)},zi.prototype.i=function(h){return function(){return h}}({});function zo(h,v){Xt.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(zo,Xt),n=zo.prototype,n.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,Hr(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||u).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wr(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Hr(this)),this.g&&(this.readyState=3,Hr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bh(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bh(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Wr(this):Hr(this),this.readyState==3&&Bh(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,Wr(this))},n.Qa=function(h){this.g&&(this.response=h,Wr(this))},n.ga=function(){this.g&&Wr(this)};function Wr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Hr(h)}n.setRequestHeader=function(h,v){this.u.append(h,v)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var S=v.next();!S.done;)S=S.value,h.push(S[0]+": "+S[1]),S=v.next();return h.join(`\r
`)};function Hr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(zo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function $i(h){let v="";return W(h,function(S,N){v+=N,v+=":",v+=S,v+=`\r
`}),v}function Ns(h,v,S){e:{for(N in S){var N=!1;break e}N=!0}N||(S=$i(S),typeof h=="string"?S!=null&&encodeURIComponent(String(S)):ot(h,v,S))}function yt(h){Xt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(yt,Xt);var _g=/^https?$/i,rc=["POST","PUT"];n=yt.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,v,S,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jr.g(),this.v=this.o?ja(this.o):ja(jr),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(ne){$o(this,ne);return}if(h=S||"",S=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var Q in N)S.set(Q,N[Q]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const ne of N.keys())S.set(ne,N.get(ne));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(S.keys()).find(ne=>ne.toLowerCase()=="content-type"),Q=u.FormData&&h instanceof u.FormData,!(0<=Array.prototype.indexOf.call(rc,v,void 0))||N||Q||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ye]of S)this.g.setRequestHeader(ne,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Za(this),this.u=!0,this.g.send(h),this.u=!1}catch(ne){$o(this,ne)}};function $o(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Xa(h),ar(h)}function Xa(h){h.A||(h.A=!0,Zt(h,"complete"),Zt(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Zt(this,"complete"),Zt(this,"abort"),ar(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ar(this,!0)),yt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ic(this):this.bb())},n.bb=function(){ic(this)};function ic(h){if(h.h&&typeof l<"u"&&(!h.v[1]||Wn(h)!=4||h.Z()!=2)){if(h.u&&Wn(h)==4)zu(h.Ea,0,h);else if(Zt(h,"readystatechange"),Wn(h)==4){h.h=!1;try{const ye=h.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var S;if(!(S=v)){var N;if(N=ye===0){var Q=String(h.D).match(Bo)[1]||null;!Q&&u.self&&u.self.location&&(Q=u.self.location.protocol.slice(0,-1)),N=!_g.test(Q?Q.toLowerCase():"")}S=N}if(S)Zt(h,"complete"),Zt(h,"success");else{h.m=6;try{var ne=2<Wn(h)?h.g.statusText:""}catch{ne=""}h.l=ne+" ["+h.Z()+"]",Xa(h)}}finally{ar(h)}}}}function ar(h,v){if(h.g){Za(h);const S=h.g,N=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Zt(h,"ready");try{S.onreadystatechange=N}catch{}}}function Za(h){h.I&&(u.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function Wn(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<Wn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Hu(v)}};function sc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function el(h){const v={};h=(h.g&&2<=Wn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<h.length;N++){if(V(h[N]))continue;var S=O(h[N]);const Q=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ne=v[Q]||[];v[Q]=ne,ne.push(S)}D(v,function(N){return N.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ui(h,v,S){return S&&S.internalChannelParams&&S.internalChannelParams[h]||v}function oc(h){this.Aa=0,this.i=[],this.j=new Vo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ui("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ui("baseRetryDelayMs",5e3,h),this.cb=ui("retryDelaySeedMs",1e4,h),this.Wa=ui("forwardChannelMaxRetries",2,h),this.wa=ui("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Uo(h&&h.concurrentRequestLimit),this.Da=new yg,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=oc.prototype,n.la=8,n.G=1,n.connect=function(h,v,S,N){Ft(0),this.W=h,this.H=v||{},S&&N!==void 0&&(this.H.OSID=S,this.H.OAID=N),this.F=this.X,this.I=qh(this,null,this.W),ci(this)};function gn(h){if(tl(h),h.G==3){var v=h.U++,S=or(h.I);if(ot(S,"SID",h.K),ot(S,"RID",v),ot(S,"TYPE","terminate"),qi(h,S),v=new zr(h,h.j,v),v.L=2,v.v=ks(or(S)),S=!1,u.navigator&&u.navigator.sendBeacon)try{S=u.navigator.sendBeacon(v.v.toString(),"")}catch{}!S&&u.Image&&(new Image().src=v.v,S=!0),S||(v.g=Wh(v.j,null),v.g.ea(v.v)),v.F=Date.now(),ut(v)}$h(h)}function Kr(h){h.g&&(ac(h),h.g.cancel(),h.g=null)}function tl(h){Kr(h),h.u&&(u.clearTimeout(h.u),h.u=null),il(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&u.clearTimeout(h.s),h.s=null)}function ci(h){if(!sr(h.h)&&!h.s){h.s=!0;var v=h.Ga;oe||de(),X||(oe(),X=!0),pe.add(v,h),h.B=0}}function vg(h,v){return xh(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Ur(_(h.Ga,h,v),zh(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const Q=new zr(this,this.j,h);let ne=this.o;if(this.S&&(ne?(ne=b(ne),E(ne,this.S)):ne=this.S),this.m!==null||this.O||(Q.H=ne,ne=null),this.P)e:{for(var v=0,S=0;S<this.i.length;S++){t:{var N=this.i[S];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(v+=N,4096<v){v=S;break e}if(v===4096||S===this.i.length-1){v=S+1;break e}}v=1e3}else v=1e3;v=Ds(this,Q,v),S=or(this.I),ot(S,"RID",h),ot(S,"CVER",22),this.D&&ot(S,"X-HTTP-Session-Id",this.D),qi(this,S),ne&&(this.O?v="headers="+encodeURIComponent(String($i(ne)))+"&"+v:this.m&&Ns(S,this.m,ne)),tc(this.h,Q),this.Ua&&ot(S,"TYPE","init"),this.P?(ot(S,"$req",v),ot(S,"SID","null"),Q.T=!0,Ga(Q,S,null)):Ga(Q,S,v),this.G=2}}else this.G==3&&(h?nl(this,h):this.i.length==0||sr(this.h)||nl(this))};function nl(h,v){var S;v?S=v.l:S=h.U++;const N=or(h.I);ot(N,"SID",h.K),ot(N,"RID",S),ot(N,"AID",h.T),qi(h,N),h.m&&h.o&&Ns(N,h.m,h.o),S=new zr(h,h.j,S,h.B+1),h.m===null&&(S.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Ds(h,S,1e3),S.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),tc(h.h,S),Ga(S,N,v)}function qi(h,v){h.H&&W(h.H,function(S,N){ot(v,N,S)}),h.l&&As({},function(S,N){ot(v,N,S)})}function Ds(h,v,S){S=Math.min(h.i.length,S);var N=h.l?_(h.l.Na,h.l,h):null;e:{var Q=h.i;let ne=-1;for(;;){const ye=["count="+S];ne==-1?0<S?(ne=Q[0].g,ye.push("ofs="+ne)):ne=0:ye.push("ofs="+ne);let rt=!0;for(let en=0;en<S;en++){let Ge=Q[en].g;const an=Q[en].map;if(Ge-=ne,0>Ge)ne=Math.max(0,Q[en].g-100),rt=!1;else try{Uh(an,ye,"req"+Ge+"_")}catch{N&&N(an)}}if(rt){N=ye.join("&");break e}}}return h=h.i.splice(0,S),v.D=h,N}function qo(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;oe||de(),X||(oe(),X=!0),pe.add(v,h),h.v=0}}function rl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Ur(_(h.Fa,h),zh(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,jh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Ur(_(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ft(10),Kr(this),jh(this))};function ac(h){h.A!=null&&(u.clearTimeout(h.A),h.A=null)}function jh(h){h.g=new zr(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=or(h.qa);ot(v,"RID","rpc"),ot(v,"SID",h.K),ot(v,"AID",h.T),ot(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&ot(v,"TO",h.ja),ot(v,"TYPE","xmlhttp"),qi(h,v),h.m&&h.o&&Ns(v,h.m,h.o),h.L&&(h.g.I=h.L);var S=h.g;h=h.ia,S.L=1,S.v=ks(or(v)),S.m=null,S.P=!0,Zu(S,h)}n.Za=function(){this.C!=null&&(this.C=null,Kr(this),rl(this),Ft(19))};function il(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function sl(h,v){var S=null;if(h.g==v){il(h),ac(h),h.g=null;var N=2}else if(Nn(h.h,v))S=v.D,Oh(h.h,v),N=1;else return;if(h.G!=0){if(v.o)if(N==1){S=v.m?v.m.length:0,v=Date.now()-v.F;var Q=h.B;N=Do(),Zt(N,new qa(N,S)),ci(h)}else qo(h);else if(Q=v.s,Q==3||Q==0&&0<v.X||!(N==1&&vg(h,v)||N==2&&rl(h)))switch(S&&0<S.length&&(v=h.h,v.i=v.i.concat(S)),Q){case 1:Wi(h,5);break;case 4:Wi(h,10);break;case 3:Wi(h,6);break;default:Wi(h,2)}}}function zh(h,v){let S=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(S*=2),S*v}function Wi(h,v){if(h.j.info("Error code "+v),v==2){var S=_(h.fb,h),N=h.Xa;const Q=!N;N=new ji(N||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||jo(N,"https"),ks(N),Q?gg(N.toString(),S):Fh(N.toString(),S)}else Ft(2);h.G=0,h.l&&h.l.sa(v),$h(h),tl(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Ft(2)):(this.j.info("Failed to ping google.com"),Ft(1))};function $h(h){if(h.G=0,h.ka=[],h.l){const v=Nh(h.h);(v.length!=0||h.i.length!=0)&&(P(h.ka,v),P(h.ka,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.ra()}}function qh(h,v,S){var N=S instanceof ji?or(S):new ji(S);if(N.g!="")v&&(N.g=v+"."+N.g),Ps(N,N.s);else{var Q=u.location;N=Q.protocol,v=v?v+"."+Q.hostname:Q.hostname,Q=+Q.port;var ne=new ji(null);N&&jo(ne,N),v&&(ne.g=v),Q&&Ps(ne,Q),S&&(ne.l=S),N=ne}return S=h.D,v=h.ya,S&&v&&ot(N,S,v),ot(N,"VER",h.la),qi(h,N),N}function Wh(h,v,S){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new yt(new zi({eb:S})):new yt(h.pa),v.Ha(h.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function lc(){}n=lc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ol(){}ol.prototype.g=function(h,v){return new Dn(h,v)};function Dn(h,v){Xt.call(this),this.g=new oc(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!V(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!V(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new di(this)}I(Dn,Xt),Dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dn.prototype.close=function(){gn(this.g)},Dn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var S={};S.__data__=h,h=S}else this.u&&(S={},S.__data__=Wu(h),h=S);v.i.push(new kh(v.Ya++,h)),v.G==3&&ci(v)},Dn.prototype.N=function(){this.g.l=null,delete this.j,gn(this.g),delete this.g,Dn.aa.N.call(this)};function Hh(h){si.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const S in v){h=S;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}I(Hh,si);function Kh(){$a.call(this),this.status=1}I(Kh,$a);function di(h){this.g=h}I(di,lc),di.prototype.ua=function(){Zt(this.g,"a")},di.prototype.ta=function(h){Zt(this.g,new Hh(h))},di.prototype.sa=function(h){Zt(this.g,new Kh)},di.prototype.ra=function(){Zt(this.g,"b")},ol.prototype.createWebChannel=ol.prototype.g,Dn.prototype.send=Dn.prototype.o,Dn.prototype.open=Dn.prototype.m,Dn.prototype.close=Dn.prototype.close,Hb=function(){return new ol},Wb=function(){return Do()},qb=oi,N_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ha.NO_ERROR=0,Ha.TIMEOUT=8,Ha.HTTP_ERROR=6,cp=Ha,bh.COMPLETE="complete",$b=bh,za.EventType=Tr,Tr.OPEN="a",Tr.CLOSE="b",Tr.ERROR="c",Tr.MESSAGE="d",Xt.prototype.listen=Xt.prototype.K,od=za,yt.prototype.listenOnce=yt.prototype.L,yt.prototype.getLastError=yt.prototype.Ka,yt.prototype.getLastErrorCode=yt.prototype.Ba,yt.prototype.getStatus=yt.prototype.Z,yt.prototype.getResponseJson=yt.prototype.Oa,yt.prototype.getResponseText=yt.prototype.oa,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Ha,zb=yt}).apply(typeof qf<"u"?qf:typeof self<"u"?self:typeof window<"u"?window:{});const CT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cu="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho=new dm("@firebase/firestore");function Fl(){return ho.logLevel}function KM(n){ho.setLogLevel(n)}function ue(n,...e){if(ho.logLevel<=Be.DEBUG){const t=e.map(t0);ho.debug(`Firestore (${Cu}): ${n}`,...t)}}function Bt(n,...e){if(ho.logLevel<=Be.ERROR){const t=e.map(t0);ho.error(`Firestore (${Cu}): ${n}`,...t)}}function Ni(n,...e){if(ho.logLevel<=Be.WARN){const t=e.map(t0);ho.warn(`Firestore (${Cu}): ${n}`,...t)}}function t0(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(n="Unexpected state"){const e=`FIRESTORE (${Cu}) INTERNAL ASSERTION FAILED: `+n;throw Bt(e),new Error(e)}function Re(n,e){n||Ee()}function GM(n,e){n||Ee()}function ve(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Un{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(hn.UNAUTHENTICATED))}shutdown(){}}class JM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class YM{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Re(this.o===void 0);let r=this.i;const i=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let o=new In;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new In,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},u=d=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>u(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new In)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string"),new Kb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string"),new hn(e)}}class XM{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class ZM{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new XM(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class eF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tF{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Re(this.o===void 0);const r=o=>{o.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,ue("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Re(typeof t.token=="string"),this.R=t.token,new eF(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nF(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=nF(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}}function De(n,e){return n<e?-1:n>e?1:0}function su(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Qb(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Tt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ae(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ae(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ae(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new Tt(0,0))}static max(){return new Pe(new Tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ee(),r===void 0?r=e.length-t:r>e.length-t&&Ee(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Od.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Od?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),l=t.get(i);if(o<l)return-1;if(o>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class $e extends Od{construct(e,t,r){return new $e(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new $e(t)}static emptyPath(){return new $e([])}}const rF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Et extends Od{construct(e,t,r){return new Et(e,t,r)}static isValidIdentifier(e){return rF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Et.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Et(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ae(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new ae(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ae(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(o(),i++)}if(o(),l)throw new ae(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Et(t)}static emptyPath(){return new Et([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e($e.fromString(e))}static fromName(e){return new _e($e.fromString(e).popFirst(5))}static empty(){return new _e($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return $e.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new $e(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function D_(n){return n.fields.find(e=>e.kind===2)}function oa(n){return n.fields.filter(e=>e.kind!==2)}Bp.UNKNOWN_ID=-1;class dp{constructor(e,t){this.fieldPath=e,this.kind=t}}class Nd{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Nd(0,wr.min())}}function Jb(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Pe.fromTimestamp(r===1e9?new Tt(t+1,0):new Tt(t,r));return new wr(i,_e.empty(),e)}function Yb(n){return new wr(n.readTime,n.key,-1)}class wr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new wr(Pe.min(),_e.empty(),-1)}static max(){return new wr(Pe.max(),_e.empty(),-1)}}function n0(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:De(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Zb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==Xb)throw n;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new G((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof G?t:G.resolve(t)}catch(t){return G.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):G.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):G.reject(t)}static resolve(e){return new G((t,r)=>{t(e)})}static reject(e){return new G((t,r)=>{r(e)})}static waitFor(e){return new G((t,r)=>{let i=0,o=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++o,l&&o===i&&t()},d=>r(d))}),l=!0,o===i&&t()})}static or(e){let t=G.resolve(!1);for(const r of e)t=t.next(i=>i?G.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new G((r,i)=>{const o=e.length,l=new Array(o);let u=0;for(let d=0;d<o;d++){const f=d;t(e[f]).next(m=>{l[f]=m,++u,u===o&&r(l)},m=>i(m))}})}static doWhile(e,t){return new G((r,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{static open(e,t,r,i){try{return new Sm(t,e.transaction(i,r))}catch(o){throw new gd(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new In,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new gd(e,t.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=r0(r.target.error);this.V.reject(new gd(e,i))}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ue("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new sF(t)}}class Pi{static delete(e){return ue("SimpleDb","Removing database:",e),aa(window.indexedDB.deleteDatabase(e)).toPromise()}static p(){if(!bd())return!1;if(Pi.S())return!0;const e=Pt(),t=Pi.D(e),r=0<t&&t<10,i=eA(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static S(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.v)==="YES"}static C(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.F=r,Pi.D(Pt())===12.2&&Bt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async M(e){return this.db||(ue("SimpleDb","Opening database:",this.name),this.db=await new Promise((t,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const l=o.target.result;t(l)},i.onblocked=()=>{r(new gd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const l=o.target.error;l.name==="VersionError"?r(new ae(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new ae(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new gd(e,l))},i.onupgradeneeded=o=>{ue("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const l=o.target.result;this.F.O(l,i.transaction,o.oldVersion,this.version).next(()=>{ue("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=t=>this.N(t)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){const o=t==="readonly";let l=0;for(;;){++l;try{this.db=await this.M(e);const u=Sm.open(this.db,e,o?"readonly":"readwrite",r),d=i(u).next(f=>(u.g(),f)).catch(f=>(u.abort(f),G.reject(f))).toPromise();return d.catch(()=>{}),await u.m,d}catch(u){const d=u,f=d.name!=="FirebaseError"&&l<3;if(ue("SimpleDb","Transaction failed with error:",d.message,"Retrying:",f),this.close(),!f)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function eA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class iF{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return aa(this.B.delete())}}class gd extends ae{constructor(e,t){super(te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Po(n){return n.name==="IndexedDbTransactionError"}class sF{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(ue("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(ue("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),aa(r)}add(e){return ue("SimpleDb","ADD",this.store.name,e,e),aa(this.store.add(e))}get(e){return aa(this.store.get(e)).next(t=>(t===void 0&&(t=null),ue("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ue("SimpleDb","DELETE",this.store.name,e),aa(this.store.delete(e))}count(){return ue("SimpleDb","COUNT",this.store.name),aa(this.store.count())}U(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new G((l,u)=>{o.onerror=d=>{u(d.target.error)},o.onsuccess=d=>{l(d.target.result)}})}{const o=this.cursor(r),l=[];return this.W(o,(u,d)=>{l.push(d)}).next(()=>l)}}G(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new G((i,o)=>{r.onerror=l=>{o(l.target.error)},r.onsuccess=l=>{i(l.target.result)}})}j(e,t){ue("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.H=!1;const i=this.cursor(r);return this.W(i,(o,l,u)=>u.delete())}J(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Y(e){const t=this.cursor({});return new G((r,i)=>{t.onerror=o=>{const l=r0(o.target.error);i(l)},t.onsuccess=o=>{const l=o.target.result;l?e(l.primaryKey,l.value).next(u=>{u?l.continue():r()}):r()}})}W(e,t){const r=[];return new G((i,o)=>{e.onerror=l=>{o(l.target.error)},e.onsuccess=l=>{const u=l.target.result;if(!u)return void i();const d=new iF(u),f=t(u.primaryKey,u.value,d);if(f instanceof G){const m=f.catch(g=>(d.done(),G.reject(g)));r.push(m)}d.isDone?i():d.K===null?u.continue():u.continue(d.K)}}).next(()=>G.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function aa(n){return new G((e,t)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=r0(r.target.error);t(i)}})}let kT=!1;function r0(n){const e=Pi.D(Pt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new ae("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return kT||(kT=!0,setTimeout(()=>{throw r},0)),r}}return n}class oF{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){ue("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{ue("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(t){Po(t)?ue("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",t):await Ao(t)}await this.X(6e4)})}}class aF{constructor(e,t){this.localStore=e,this.persistence=t}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.te(t,e))}te(e,t){const r=new Set;let i=t,o=!0;return G.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(l!==null&&!r.has(l))return ue("IndexBackfiller",`Processing collection: ${l}`),this.ne(e,l,i).next(u=>{i-=u,r.add(l)});o=!1})).next(()=>t-i)}ne(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{const l=o.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.re(i,o)).next(u=>(ue("IndexBackfiller",`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,t,u))).next(()=>l.size)}))}re(e,t){let r=e;return t.changes.forEach((i,o)=>{const l=Yb(o);n0(l,r)>0&&(r=l)}),new wr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Zn.oe=-1;function ah(n){return n==null}function Dd(n){return n===0&&1/n==-1/0}function tA(n){return typeof n=="number"&&Number.isInteger(n)&&!Dd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=xT(e)),e=lF(n.get(t),e);return xT(e)}function lF(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case"":t+="";break;default:t+=o}}return t}function xT(n){return n+""}function bi(n){const e=n.length;if(Re(e>=2),e===2)return Re(n.charAt(0)===""&&n.charAt(1)===""),$e.emptyPath();const t=e-2,r=[];let i="";for(let o=0;o<e;){const l=n.indexOf("",o);switch((l<0||l>t)&&Ee(),n.charAt(l+1)){case"":const u=n.substring(o,l);let d;i.length===0?d=u:(i+=u,d=i,i=""),r.push(d);break;case"":i+=n.substring(o,l),i+="\0";break;case"":i+=n.substring(o,l+1);break;default:Ee()}o=l+2}return new $e(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(n,e){return[n,xn(e)]}function nA(n,e,t){return[n,xn(e),t]}const uF={},cF=["prefixPath","collectionGroup","readTime","documentId"],dF=["prefixPath","collectionGroup","documentId"],hF=["collectionGroup","readTime","prefixPath","documentId"],fF=["canonicalId","targetId"],pF=["targetId","path"],mF=["path","targetId"],gF=["collectionId","parent"],yF=["indexId","uid"],_F=["uid","sequenceNumber"],vF=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],wF=["indexId","uid","orderedDocumentKey"],EF=["userId","collectionPath","documentId"],IF=["userId","collectionPath","largestBatchId"],TF=["userId","collectionGroup","largestBatchId"],rA=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],SF=[...rA,"documentOverlays"],iA=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],sA=iA,i0=[...sA,"indexConfiguration","indexState","indexEntries"],RF=i0,bF=[...i0,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_ extends Zb{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function sn(n,e){const t=ve(n);return Pi.C(t._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Co(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function oA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,t){this.comparator=e,this.root=t||vn.EMPTY}insert(e,t){return new dt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wf(this.root,e,this.comparator,!0)}}class Wf{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vn{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??vn.RED,this.left=i??vn.EMPTY,this.right=o??vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new vn(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return vn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,t,r,i,o){return this}insert(e,t,r){return new vn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new DT(this.data.getIterator())}getIteratorFrom(e){return new DT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof st)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new st(this.comparator);return t.data=e,t}}class DT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Cl(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.fields=e,e.sort(Et.comparator)}static empty(){return new er([])}unionWith(e){let t=new st(Et.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new er(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return su(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AF(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new aA("Invalid base64 string: "+o):o}}(e);return new Vt(t)}static fromUint8Array(e){const t=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new Vt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const PF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ps(n){if(Re(!!n),typeof n=="string"){let e=0;const t=PF.exec(n);if(Re(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(n.seconds),nanos:wt(n.nanos)}}function wt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ms(n){return typeof n=="string"?Vt.fromBase64String(n):Vt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function bm(n){const e=n.mapValue.fields.__previous_value__;return Rm(e)?bm(e):e}function Vd(n){const e=ps(n.mapValue.fields.__local_write_time__.timestampValue);return new Tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(e,t,r,i,o,l,u,d,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=f}}class fo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new fo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof fo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},fp={nullValue:"NULL_VALUE"};function po(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Rm(n)?4:lA(n)?9007199254740991:Am(n)?10:11:Ee()}function Di(n,e){if(n===e)return!0;const t=po(n);if(t!==po(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Vd(n).isEqual(Vd(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=ps(i.timestampValue),u=ps(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return ms(i.bytesValue).isEqual(ms(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return wt(i.geoPointValue.latitude)===wt(o.geoPointValue.latitude)&&wt(i.geoPointValue.longitude)===wt(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return wt(i.integerValue)===wt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=wt(i.doubleValue),u=wt(o.doubleValue);return l===u?Dd(l)===Dd(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return su(n.arrayValue.values||[],e.arrayValue.values||[],Di);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},u=o.mapValue.fields||{};if(NT(l)!==NT(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!Di(l[d],u[d])))return!1;return!0}(n,e);default:return Ee()}}function Ld(n,e){return(n.values||[]).find(t=>Di(t,e))!==void 0}function mo(n,e){if(n===e)return 0;const t=po(n),r=po(e);if(t!==r)return De(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return De(n.booleanValue,e.booleanValue);case 2:return function(o,l){const u=wt(o.integerValue||o.doubleValue),d=wt(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1}(n,e);case 3:return VT(n.timestampValue,e.timestampValue);case 4:return VT(Vd(n),Vd(e));case 5:return De(n.stringValue,e.stringValue);case 6:return function(o,l){const u=ms(o),d=ms(l);return u.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const u=o.split("/"),d=l.split("/");for(let f=0;f<u.length&&f<d.length;f++){const m=De(u[f],d[f]);if(m!==0)return m}return De(u.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const u=De(wt(o.latitude),wt(l.latitude));return u!==0?u:De(wt(o.longitude),wt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return LT(n.arrayValue,e.arrayValue);case 10:return function(o,l){var u,d,f,m;const g=o.fields||{},_=l.fields||{},T=(u=g.value)===null||u===void 0?void 0:u.arrayValue,I=(d=_.value)===null||d===void 0?void 0:d.arrayValue,R=De(((f=T==null?void 0:T.values)===null||f===void 0?void 0:f.length)||0,((m=I==null?void 0:I.values)===null||m===void 0?void 0:m.length)||0);return R!==0?R:LT(T,I)}(n.mapValue,e.mapValue);case 11:return function(o,l){if(o===to.mapValue&&l===to.mapValue)return 0;if(o===to.mapValue)return 1;if(l===to.mapValue)return-1;const u=o.fields||{},d=Object.keys(u),f=l.fields||{},m=Object.keys(f);d.sort(),m.sort();for(let g=0;g<d.length&&g<m.length;++g){const _=De(d[g],m[g]);if(_!==0)return _;const T=mo(u[d[g]],f[m[g]]);if(T!==0)return T}return De(d.length,m.length)}(n.mapValue,e.mapValue);default:throw Ee()}}function VT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return De(n,e);const t=ps(n),r=ps(e),i=De(t.seconds,r.seconds);return i!==0?i:De(t.nanos,r.nanos)}function LT(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=mo(t[i],r[i]);if(o)return o}return De(t.length,r.length)}function ou(n){return L_(n)}function L_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=ps(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ms(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return _e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=L_(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${L_(t.fields[l])}`;return i+"}"}(n.mapValue):Ee()}function pp(n){switch(po(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bm(n);return e?16+pp(e):16;case 5:return 2*n.stringValue.length;case 6:return ms(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+pp(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Co(r.fields,(o,l)=>{i+=o.length+pp(l)}),i}(n.mapValue);default:throw Ee()}}function Ea(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function M_(n){return!!n&&"integerValue"in n}function Md(n){return!!n&&"arrayValue"in n}function MT(n){return!!n&&"nullValue"in n}function FT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function mp(n){return!!n&&"mapValue"in n}function Am(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function yd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Co(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=yd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=yd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function lA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const uA={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function kF(n){return"nullValue"in n?fp:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ea(fo.empty(),_e.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?Am(n)?uA:{mapValue:{}}:Ee()}function xF(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ea(fo.empty(),_e.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?uA:"mapValue"in n?Am(n)?{mapValue:{}}:to:Ee()}function UT(n,e){const t=mo(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function BT(n,e){const t=mo(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!mp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=yd(t)}setAll(e){let t=Et.emptyPath(),r={},i=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const d=this.getFieldsMap(t);this.applyChanges(d,r,i),r={},i=[],t=u.popLast()}l?r[u.lastSegment()]=yd(l):i.push(u.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());mp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Di(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];mp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Co(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new En(yd(this.value))}}function cA(n){const e=[];return Co(n.fields,(t,r)=>{const i=new Et([t]);if(mp(r)){const o=cA(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new er(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,t,r,i,o,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new mt(e,0,Pe.min(),Pe.min(),Pe.min(),En.empty(),0)}static newFoundDocument(e,t,r,i){return new mt(e,1,t,Pe.min(),r,i,0)}static newNoDocument(e,t){return new mt(e,2,t,Pe.min(),Pe.min(),En.empty(),0)}static newUnknownDocument(e,t){return new mt(e,3,t,Pe.min(),Pe.min(),En.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,t){this.position=e,this.inclusive=t}}function jT(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],l=n.position[i];if(o.field.isKeyField()?r=_e.comparator(_e.fromName(l.referenceValue),t.key):r=mo(l,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function zT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Di(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,t="asc"){this.field=e,this.dir=t}}function OF(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{}class qe extends dA{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new NF(e,t,r):t==="array-contains"?new LF(e,r):t==="in"?new yA(e,r):t==="not-in"?new MF(e,r):t==="array-contains-any"?new FF(e,r):new qe(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new DF(e,r):new VF(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(mo(t,this.value)):t!==null&&po(this.value)===po(t)&&this.matchesComparison(mo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class it extends dA{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new it(e,t)}matches(e){return au(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function au(n){return n.op==="and"}function F_(n){return n.op==="or"}function s0(n){return hA(n)&&au(n)}function hA(n){for(const e of n.filters)if(e instanceof it)return!1;return!0}function U_(n){if(n instanceof qe)return n.field.canonicalString()+n.op.toString()+ou(n.value);if(s0(n))return n.filters.map(e=>U_(e)).join(",");{const e=n.filters.map(t=>U_(t)).join(",");return`${n.op}(${e})`}}function fA(n,e){return n instanceof qe?function(r,i){return i instanceof qe&&r.op===i.op&&r.field.isEqual(i.field)&&Di(r.value,i.value)}(n,e):n instanceof it?function(r,i){return i instanceof it&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,l,u)=>o&&fA(l,i.filters[u]),!0):!1}(n,e):void Ee()}function pA(n,e){const t=n.filters.concat(e);return it.create(t,n.op)}function mA(n){return n instanceof qe?function(t){return`${t.field.canonicalString()} ${t.op} ${ou(t.value)}`}(n):n instanceof it?function(t){return t.op.toString()+" {"+t.getFilters().map(mA).join(" ,")+"}"}(n):"Filter"}class NF extends qe{constructor(e,t,r){super(e,t,r),this.key=_e.fromName(r.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class DF extends qe{constructor(e,t){super(e,"in",t),this.keys=gA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class VF extends qe{constructor(e,t){super(e,"not-in",t),this.keys=gA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function gA(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>_e.fromName(r.referenceValue))}class LF extends qe{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Md(t)&&Ld(t.arrayValue,this.value)}}class yA extends qe{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ld(this.value.arrayValue,t)}}class MF extends qe{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ld(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Ld(this.value.arrayValue,t)}}class FF extends qe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Md(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ld(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(e,t=null,r=[],i=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=u,this.ue=null}}function B_(n,e=null,t=[],r=[],i=null,o=null,l=null){return new UF(n,e,t,r,i,o,l)}function Ia(n){const e=ve(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>U_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),ah(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ou(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ou(r)).join(",")),e.ue=t}return e.ue}function lh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!OF(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!fA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!zT(n.startAt,e.startAt)&&zT(n.endAt,e.endAt)}function jp(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function zp(n,e){return n.filters.filter(t=>t instanceof qe&&t.field.isEqual(e))}function $T(n,e,t){let r=fp,i=!0;for(const o of zp(n,e)){let l=fp,u=!0;switch(o.op){case"<":case"<=":l=kF(o.value);break;case"==":case"in":case">=":l=o.value;break;case">":l=o.value,u=!1;break;case"!=":case"not-in":l=fp}UT({value:r,inclusive:i},{value:l,inclusive:u})<0&&(r=l,i=u)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const l=t.position[o];UT({value:r,inclusive:i},{value:l,inclusive:t.inclusive})<0&&(r=l,i=t.inclusive);break}}return{value:r,inclusive:i}}function qT(n,e,t){let r=to,i=!0;for(const o of zp(n,e)){let l=to,u=!0;switch(o.op){case">=":case">":l=xF(o.value),u=!1;break;case"==":case"in":case"<=":l=o.value;break;case"<":l=o.value,u=!1;break;case"!=":case"not-in":l=to}BT({value:r,inclusive:i},{value:l,inclusive:u})>0&&(r=l,i=u)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const l=t.position[o];BT({value:r,inclusive:i},{value:l,inclusive:t.inclusive})>0&&(r=l,i=t.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,t=null,r=[],i=[],o=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function _A(n,e,t,r,i,o,l,u){return new Es(n,e,t,r,i,o,l,u)}function ku(n){return new Es(n)}function WT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function o0(n){return n.collectionGroup!==null}function Ql(n){const e=ve(n);if(e.ce===null){e.ce=[];const t=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new st(Et.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Fd(o,r))}),t.has(Et.keyField().canonicalString())||e.ce.push(new Fd(Et.keyField(),r))}return e.ce}function Bn(n){const e=ve(n);return e.le||(e.le=BF(e,Ql(n))),e.le}function BF(n,e){if(n.limitType==="F")return B_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Fd(i.field,o)});const t=n.endAt?new go(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new go(n.startAt.position,n.startAt.inclusive):null;return B_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function j_(n,e){const t=n.filters.concat([e]);return new Es(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function $p(n,e,t){return new Es(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function uh(n,e){return lh(Bn(n),Bn(e))&&n.limitType===e.limitType}function vA(n){return`${Ia(Bn(n))}|lt:${n.limitType}`}function Ul(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>mA(i)).join(", ")}]`),ah(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>ou(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>ou(i)).join(",")),`Target(${r})`}(Bn(n))}; limitType=${n.limitType})`}function ch(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):_e.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of Ql(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,u,d){const f=jT(l,u,d);return l.inclusive?f<=0:f<0}(r.startAt,Ql(r),i)||r.endAt&&!function(l,u,d){const f=jT(l,u,d);return l.inclusive?f>=0:f>0}(r.endAt,Ql(r),i))}(n,e)}function wA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function EA(n){return(e,t)=>{let r=!1;for(const i of Ql(n)){const o=jF(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function jF(n,e,t){const r=n.field.isKeyField()?_e.comparator(e.key,t.key):function(o,l,u){const d=l.data.field(o),f=u.data.field(o);return d!==null&&f!==null?mo(d,f):Ee()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Co(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return oA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF=new dt(_e.comparator);function tr(){return zF}const IA=new dt(_e.comparator);function ad(...n){let e=IA;for(const t of n)e=e.insert(t.key,t);return e}function TA(n){let e=IA;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ai(){return _d()}function SA(){return _d()}function _d(){return new Is(n=>n.toString(),(n,e)=>n.isEqual(e))}const $F=new dt(_e.comparator),qF=new st(_e.comparator);function Me(...n){let e=qF;for(const t of n)e=e.add(t);return e}const WF=new st(De);function a0(){return WF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dd(e)?"-0":e}}function RA(n){return{integerValue:""+n}}function bA(n,e){return tA(e)?RA(e):l0(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(){this._=void 0}}function HF(n,e,t){return n instanceof lu?function(i,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Rm(o)&&(o=bm(o)),o&&(l.fields.__previous_value__=o),{mapValue:l}}(t,e):n instanceof Ta?PA(n,e):n instanceof Sa?CA(n,e):function(i,o){const l=AA(i,o),u=HT(l)+HT(i.Pe);return M_(l)&&M_(i.Pe)?RA(u):l0(i.serializer,u)}(n,e)}function KF(n,e,t){return n instanceof Ta?PA(n,e):n instanceof Sa?CA(n,e):t}function AA(n,e){return n instanceof uu?function(r){return M_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class lu extends Pm{}class Ta extends Pm{constructor(e){super(),this.elements=e}}function PA(n,e){const t=kA(e);for(const r of n.elements)t.some(i=>Di(i,r))||t.push(r);return{arrayValue:{values:t}}}class Sa extends Pm{constructor(e){super(),this.elements=e}}function CA(n,e){let t=kA(e);for(const r of n.elements)t=t.filter(i=>!Di(i,r));return{arrayValue:{values:t}}}class uu extends Pm{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function HT(n){return wt(n.integerValue||n.doubleValue)}function kA(n){return Md(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,t){this.field=e,this.transform=t}}function GF(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Ta&&i instanceof Ta||r instanceof Sa&&i instanceof Sa?su(r.elements,i.elements,Di):r instanceof uu&&i instanceof uu?Di(r.Pe,i.Pe):r instanceof lu&&i instanceof lu}(n.transform,e.transform)}class QF{constructor(e,t){this.version=e,this.transformResults=t}}class It{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new It}static exists(e){return new It(void 0,e)}static updateTime(e){return new It(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Cm{}function xA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ou(n.key,It.none()):new xu(n.key,n.data,It.none());{const t=n.data,r=En.empty();let i=new st(Et.comparator);for(let o of e.fields)if(!i.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new Ts(n.key,r,new er(i.toArray()),It.none())}}function JF(n,e,t){n instanceof xu?function(i,o,l){const u=i.value.clone(),d=GT(i.fieldTransforms,o,l.transformResults);u.setAll(d),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Ts?function(i,o,l){if(!gp(i.precondition,o))return void o.convertToUnknownDocument(l.version);const u=GT(i.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(OA(i)),d.setAll(u),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function vd(n,e,t,r){return n instanceof xu?function(o,l,u,d){if(!gp(o.precondition,l))return u;const f=o.value.clone(),m=QT(o.fieldTransforms,d,l);return f.setAll(m),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ts?function(o,l,u,d){if(!gp(o.precondition,l))return u;const f=QT(o.fieldTransforms,d,l),m=l.data;return m.setAll(OA(o)),m.setAll(f),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(n,e,t,r):function(o,l,u){return gp(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function YF(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=AA(r.transform,i||null);o!=null&&(t===null&&(t=En.empty()),t.set(r.field,o))}return t||null}function KT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&su(r,i,(o,l)=>GF(o,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class xu extends Cm{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ts extends Cm{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function OA(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function GT(n,e,t){const r=new Map;Re(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],l=o.transform,u=e.data.field(o.field);r.set(o.field,KF(l,u,t[i]))}return r}function QT(n,e,t){const r=new Map;for(const i of n){const o=i.transform,l=t.data.field(i.field);r.set(i.field,HF(o,l,e))}return r}class Ou extends Cm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class u0 extends Cm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&JF(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=vd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=vd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=SA();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=t.has(i.key)?null:u;const d=xA(l,u);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Pe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Me())}isEqual(e){return this.batchId===e.batchId&&su(this.mutations,e.mutations,(t,r)=>KT(t,r))&&su(this.baseMutations,e.baseMutations,(t,r)=>KT(t,r))}}class d0{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Re(e.mutations.length===r.length);let i=function(){return $F}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new d0(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht,Qe;function NA(n){switch(n){default:return Ee();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0}}function DA(n){if(n===void 0)return Bt("GRPC error has no .code"),te.UNKNOWN;switch(n){case Ht.OK:return te.OK;case Ht.CANCELLED:return te.CANCELLED;case Ht.UNKNOWN:return te.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return te.INTERNAL;case Ht.UNAVAILABLE:return te.UNAVAILABLE;case Ht.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Ht.NOT_FOUND:return te.NOT_FOUND;case Ht.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Ht.ABORTED:return te.ABORTED;case Ht.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Ht.DATA_LOSS:return te.DATA_LOSS;default:return Ee()}}(Qe=Ht||(Ht={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZF=new _a([4294967295,4294967295],0);function JT(n){const e=VA().encode(n),t=new jb;return t.update(e),new Uint8Array(t.digest())}function YT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new _a([t,r],0),new _a([i,o],0)]}class f0{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ld(`Invalid padding: ${t}`);if(r<0)throw new ld(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ld(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ld(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=_a.fromNumber(this.Te)}Ee(e,t,r){let i=e.add(t.multiply(_a.fromNumber(r)));return i.compare(ZF)===1&&(i=new _a([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=JT(e),[r,i]=YT(t);for(let o=0;o<this.hashCount;o++){const l=this.Ee(r,i,o);if(!this.de(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new f0(o,i,t);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.Te===0)return;const t=JT(e),[r,i]=YT(t);for(let o=0;o<this.hashCount;o++){const l=this.Ee(r,i,o);this.Ae(l)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class ld extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,fh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new hh(Pe.min(),i,new dt(De),tr(),Me())}}class fh{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new fh(r,t,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}}class LA{constructor(e,t){this.targetId=e,this.me=t}}class MA{constructor(e,t,r=Vt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class XT{constructor(){this.fe=0,this.ge=ZT(),this.pe=Vt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Me(),t=Me(),r=Me();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ee()}}),new fh(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=ZT()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Re(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class e4{constructor(e){this.Le=e,this.Be=new Map,this.ke=tr(),this.qe=Hf(),this.Qe=Hf(),this.Ke=new dt(De)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.je(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.De(e.resumeToken));break;default:Ee()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.je(i)&&t(i)})}Je(e){const t=e.targetId,r=e.me.count,i=this.Ye(t);if(i){const o=i.target;if(jp(o))if(r===0){const l=new _e(o.path);this.We(t,l,mt.newNoDocument(l,Pe.min()))}else Re(r===1);else{const l=this.Ze(t);if(l!==r){const u=this.Xe(e),d=u?this.et(u,e,l):1;if(d!==0){this.He(t);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,f)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let l,u;try{l=ms(r).toUint8Array()}catch(d){if(d instanceof aA)return Ni("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new f0(l,i,o)}catch(d){return Ni(d instanceof ld?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.Te===0?null:u}et(e,t,r){return t.me.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const l=this.Le.nt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.We(t,o,null),i++)}),i}it(e){const t=new Map;this.Be.forEach((o,l)=>{const u=this.Ye(l);if(u){if(o.current&&jp(u.target)){const d=new _e(u.target.path);this.st(d).has(l)||this.ot(l,d)||this.We(l,d,mt.newNoDocument(d,e))}o.be&&(t.set(l,o.ve()),o.Ce())}});let r=Me();this.Qe.forEach((o,l)=>{let u=!0;l.forEachWhile(d=>{const f=this.Ye(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(o))}),this.ke.forEach((o,l)=>l.setReadTime(e));const i=new hh(e,t,this.Ke,this.ke,r);return this.ke=tr(),this.qe=Hf(),this.Qe=Hf(),this.Ke=new dt(De),i}Ue(e,t){if(!this.je(e))return;const r=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,t)?i.Fe(t,1):i.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new XT,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new st(De),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new st(De),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new XT),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Hf(){return new dt(_e.comparator)}function ZT(){return new dt(_e.comparator)}const t4={asc:"ASCENDING",desc:"DESCENDING"},n4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},r4={and:"AND",or:"OR"};class i4{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function z_(n,e){return n.useProto3Json||ah(e)?e:{value:e}}function cu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function s4(n,e){return cu(n,e.toTimestamp())}function jt(n){return Re(!!n),Pe.fromTimestamp(function(t){const r=ps(t);return new Tt(r.seconds,r.nanos)}(n))}function p0(n,e){return $_(n,e).canonicalString()}function $_(n,e){const t=function(i){return new $e(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function UA(n){const e=$e.fromString(n);return Re(QA(e)),e}function Ud(n,e){return p0(n.databaseId,e.path)}function Ci(n,e){const t=UA(e);if(t.get(1)!==n.databaseId.projectId)throw new ae(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ae(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(zA(t))}function BA(n,e){return p0(n.databaseId,e)}function jA(n){const e=UA(n);return e.length===4?$e.emptyPath():zA(e)}function q_(n){return new $e(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function zA(n){return Re(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function eS(n,e,t){return{name:Ud(n,e),fields:t.value.mapValue.fields}}function $A(n,e,t){const r=Ci(n,e.name),i=jt(e.updateTime),o=e.createTime?jt(e.createTime):Pe.min(),l=new En({mapValue:{fields:e.fields}}),u=mt.newFoundDocument(r,i,o,l);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function o4(n,e){return"found"in e?function(r,i){Re(!!i.found),i.found.name,i.found.updateTime;const o=Ci(r,i.found.name),l=jt(i.found.updateTime),u=i.found.createTime?jt(i.found.createTime):Pe.min(),d=new En({mapValue:{fields:i.found.fields}});return mt.newFoundDocument(o,l,u,d)}(n,e):"missing"in e?function(r,i){Re(!!i.missing),Re(!!i.readTime);const o=Ci(r,i.missing),l=jt(i.readTime);return mt.newNoDocument(o,l)}(n,e):Ee()}function a4(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(f,m){return f.useProto3Json?(Re(m===void 0||typeof m=="string"),Vt.fromBase64String(m||"")):(Re(m===void 0||m instanceof Buffer||m instanceof Uint8Array),Vt.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(f){const m=f.code===void 0?te.UNKNOWN:DA(f.code);return new ae(m,f.message||"")}(l);t=new MA(r,i,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ci(n,r.document.name),o=jt(r.document.updateTime),l=r.document.createTime?jt(r.document.createTime):Pe.min(),u=new En({mapValue:{fields:r.document.fields}}),d=mt.newFoundDocument(i,o,l,u),f=r.targetIds||[],m=r.removedTargetIds||[];t=new yp(f,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ci(n,r.document),o=r.readTime?jt(r.readTime):Pe.min(),l=mt.newNoDocument(i,o),u=r.removedTargetIds||[];t=new yp([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ci(n,r.document),o=r.removedTargetIds||[];t=new yp([],o,i,null)}else{if(!("filter"in e))return Ee();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new XF(i,o),u=r.targetId;t=new LA(u,l)}}return t}function Bd(n,e){let t;if(e instanceof xu)t={update:eS(n,e.key,e.value)};else if(e instanceof Ou)t={delete:Ud(n,e.key)};else if(e instanceof Ts)t={update:eS(n,e.key,e.data),updateMask:f4(e.fieldMask)};else{if(!(e instanceof u0))return Ee();t={verify:Ud(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const u=l.transform;if(u instanceof lu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Ta)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Sa)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof uu)return{fieldPath:l.field.canonicalString(),increment:u.Pe};throw Ee()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:s4(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ee()}(n,e.precondition)),t}function W_(n,e){const t=e.currentDocument?function(o){return o.updateTime!==void 0?It.updateTime(jt(o.updateTime)):o.exists!==void 0?It.exists(o.exists):It.none()}(e.currentDocument):It.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,u){let d=null;if("setToServerValue"in u)Re(u.setToServerValue==="REQUEST_TIME"),d=new lu;else if("appendMissingElements"in u){const m=u.appendMissingElements.values||[];d=new Ta(m)}else if("removeAllFromArray"in u){const m=u.removeAllFromArray.values||[];d=new Sa(m)}else"increment"in u?d=new uu(l,u.increment):Ee();const f=Et.fromServerFormat(u.fieldPath);return new dh(f,d)}(n,i)):[];if(e.update){e.update.name;const i=Ci(n,e.update.name),o=new En({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=function(d){const f=d.fieldPaths||[];return new er(f.map(m=>Et.fromServerFormat(m)))}(e.updateMask);return new Ts(i,o,l,t,r)}return new xu(i,o,t,r)}if(e.delete){const i=Ci(n,e.delete);return new Ou(i,t)}if(e.verify){const i=Ci(n,e.verify);return new u0(i,t)}return Ee()}function l4(n,e){return n&&n.length>0?(Re(e!==void 0),n.map(t=>function(i,o){let l=i.updateTime?jt(i.updateTime):jt(o);return l.isEqual(Pe.min())&&(l=jt(o)),new QF(l,i.transformResults||[])}(t,e))):[]}function qA(n,e){return{documents:[BA(n,e.path)]}}function WA(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=BA(n,i);const o=function(f){if(f.length!==0)return GA(it.create(f,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(f){if(f.length!==0)return f.map(m=>function(_){return{field:Bl(_.field),direction:c4(_.dir)}}(m))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=z_(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ct:t,parent:i}}function HA(n){let e=jA(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Re(r===1);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];t.where&&(o=function(g){const _=KA(g);return _ instanceof it&&s0(_)?_.getFilters():[_]}(t.where));let l=[];t.orderBy&&(l=function(g){return g.map(_=>function(I){return new Fd(jl(I.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(_))}(t.orderBy));let u=null;t.limit&&(u=function(g){let _;return _=typeof g=="object"?g.value:g,ah(_)?null:_}(t.limit));let d=null;t.startAt&&(d=function(g){const _=!!g.before,T=g.values||[];return new go(T,_)}(t.startAt));let f=null;return t.endAt&&(f=function(g){const _=!g.before,T=g.values||[];return new go(T,_)}(t.endAt)),_A(e,i,l,o,u,"F",d,f)}function u4(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function KA(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=jl(t.unaryFilter.field);return qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=jl(t.unaryFilter.field);return qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=jl(t.unaryFilter.field);return qe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=jl(t.unaryFilter.field);return qe.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(n):n.fieldFilter!==void 0?function(t){return qe.create(jl(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return it.create(t.compositeFilter.filters.map(r=>KA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ee()}}(t.compositeFilter.op))}(n):Ee()}function c4(n){return t4[n]}function d4(n){return n4[n]}function h4(n){return r4[n]}function Bl(n){return{fieldPath:n.canonicalString()}}function jl(n){return Et.fromServerFormat(n.fieldPath)}function GA(n){return n instanceof qe?function(t){if(t.op==="=="){if(FT(t.value))return{unaryFilter:{field:Bl(t.field),op:"IS_NAN"}};if(MT(t.value))return{unaryFilter:{field:Bl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(FT(t.value))return{unaryFilter:{field:Bl(t.field),op:"IS_NOT_NAN"}};if(MT(t.value))return{unaryFilter:{field:Bl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bl(t.field),op:d4(t.op),value:t.value}}}(n):n instanceof it?function(t){const r=t.getFilters().map(i=>GA(i));return r.length===1?r[0]:{compositeFilter:{op:h4(t.op),filters:r}}}(n):Ee()}function f4(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function QA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,t,r,i,o=Pe.min(),l=Pe.min(),u=Vt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new as(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e){this.ht=e}}function p4(n,e){let t;if(e.document)t=$A(n.ht,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=_e.fromSegments(e.noDocument.path),i=ba(e.noDocument.readTime);t=mt.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ee();{const r=_e.fromSegments(e.unknownDocument.path),i=ba(e.unknownDocument.version);t=mt.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const o=new Tt(i[0],i[1]);return Pe.fromTimestamp(o)}(e.readTime)),t}function tS(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:qp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,l){return{name:Ud(o,l.key),fields:l.data.value.mapValue.fields,updateTime:cu(o,l.version.toTimestamp()),createTime:cu(o,l.createTime.toTimestamp())}}(n.ht,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Ra(e.version)};else{if(!e.isUnknownDocument())return Ee();r.unknownDocument={path:t.path.toArray(),version:Ra(e.version)}}return r}function qp(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ra(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ba(n){const e=new Tt(n.seconds,n.nanoseconds);return Pe.fromTimestamp(e)}function la(n,e){const t=(e.baseMutations||[]).map(o=>W_(n.ht,o));for(let o=0;o<e.mutations.length-1;++o){const l=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const u=e.mutations[o+1];l.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>W_(n.ht,o)),i=Tt.fromMillis(e.localWriteTimeMs);return new c0(e.batchId,i,t,r)}function ud(n){const e=ba(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?ba(n.lastLimboFreeSnapshotVersion):Pe.min();let r;return r=function(o){return o.documents!==void 0}(n.query)?function(o){return Re(o.documents.length===1),Bn(ku(jA(o.documents[0])))}(n.query):function(o){return Bn(HA(o))}(n.query),new as(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Vt.fromBase64String(n.resumeToken))}function YA(n,e){const t=Ra(e.snapshotVersion),r=Ra(e.lastLimboFreeSnapshotVersion);let i;i=jp(e.target)?qA(n.ht,e.target):WA(n.ht,e.target).ct;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ia(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function m0(n){const e=HA({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?$p(e,e.limit,"L"):e}function s_(n,e){return new h0(e.largestBatchId,W_(n.ht,e.overlayMutation))}function nS(n,e){const t=e.path.lastSegment();return[n,xn(e.path.popLast()),t]}function rS(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:Ra(r.readTime),documentKey:xn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{getBundleMetadata(e,t){return iS(e).get(t).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:ba(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,t){return iS(e).put(function(i){return{bundleId:i.id,createTime:Ra(jt(i.createTime)),version:i.version}}(t))}getNamedQuery(e,t){return sS(e).get(t).next(r=>{if(r)return function(o){return{name:o.name,query:m0(o.bundledQuery),readTime:ba(o.readTime)}}(r)})}saveNamedQuery(e,t){return sS(e).put(function(i){return{name:i.name,readTime:Ra(jt(i.readTime)),bundledQuery:i.bundledQuery}}(t))}}function iS(n){return sn(n,"bundles")}function sS(n){return sn(n,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,t){this.serializer=e,this.userId=t}static Pt(e,t){const r=t.uid||"";return new km(e,r)}getOverlay(e,t){return Mc(e).get(nS(this.userId,t)).next(r=>r?s_(this.serializer,r):null)}getOverlays(e,t){const r=Ai();return G.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((o,l)=>{const u=new h0(t,l);i.push(this.Tt(e,u))}),G.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(l=>i.add(xn(l.getCollectionPath())));const o=[];return i.forEach(l=>{const u=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);o.push(Mc(e).j("collectionPathOverlayIndex",u))}),G.waitFor(o)}getOverlaysForCollection(e,t,r){const i=Ai(),o=xn(t),l=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Mc(e).U("collectionPathOverlayIndex",l).next(u=>{for(const d of u){const f=s_(this.serializer,d);i.set(f.getKey(),f)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const o=Ai();let l;const u=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Mc(e).J({index:"collectionGroupOverlayIndex",range:u},(d,f,m)=>{const g=s_(this.serializer,f);o.size()<i||g.largestBatchId===l?(o.set(g.getKey(),g),l=g.largestBatchId):m.done()}).next(()=>o)}Tt(e,t){return Mc(e).put(function(i,o,l){const[u,d,f]=nS(o,l.mutation.key);return{userId:o,collectionPath:d,documentId:f,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:Bd(i.ht,l.mutation)}}(this.serializer,this.userId,t))}}function Mc(n){return sn(n,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{It(e){return sn(e,"globals")}getSessionToken(e){return this.It(e).get("sessionToken").next(t=>{const r=t==null?void 0:t.value;return r?Vt.fromUint8Array(r):Vt.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.It(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(){}Et(e,t){this.dt(e,t),t.At()}dt(e,t){if("nullValue"in e)this.Rt(t,5);else if("booleanValue"in e)this.Rt(t,10),t.Vt(e.booleanValue?1:0);else if("integerValue"in e)this.Rt(t,15),t.Vt(wt(e.integerValue));else if("doubleValue"in e){const r=wt(e.doubleValue);isNaN(r)?this.Rt(t,13):(this.Rt(t,15),Dd(r)?t.Vt(0):t.Vt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Rt(t,20),typeof r=="string"&&(r=ps(r)),t.ft(`${r.seconds||""}`),t.Vt(r.nanos||0)}else if("stringValue"in e)this.gt(e.stringValue,t),this.yt(t);else if("bytesValue"in e)this.Rt(t,30),t.wt(ms(e.bytesValue)),this.yt(t);else if("referenceValue"in e)this.St(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Rt(t,45),t.Vt(r.latitude||0),t.Vt(r.longitude||0)}else"mapValue"in e?lA(e)?this.Rt(t,Number.MAX_SAFE_INTEGER):Am(e)?this.bt(e.mapValue,t):(this.Dt(e.mapValue,t),this.yt(t)):"arrayValue"in e?(this.vt(e.arrayValue,t),this.yt(t)):Ee()}gt(e,t){this.Rt(t,25),this.Ct(e,t)}Ct(e,t){t.ft(e)}Dt(e,t){const r=e.fields||{};this.Rt(t,55);for(const i of Object.keys(r))this.gt(i,t),this.dt(r[i],t)}bt(e,t){var r,i;const o=e.fields||{};this.Rt(t,53);const l="value",u=((i=(r=o[l].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Rt(t,15),t.Vt(wt(u)),this.gt(l,t),this.dt(o[l],t)}vt(e,t){const r=e.values||[];this.Rt(t,50);for(const i of r)this.dt(i,t)}St(e,t){this.Rt(t,37),_e.fromName(e).path.forEach(r=>{this.Rt(t,60),this.Ct(r,t)})}Rt(e,t){e.Vt(t)}yt(e){e.Vt(2)}}ua.Ft=new ua;function y4(n){if(n===0)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function oS(n){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const l=y4(255&r[o]);if(i+=l,l!==8)break}return i}(n);return Math.ceil(e/8)}class _4{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Mt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.xt(r.value),r=t.next();this.Ot()}Nt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Lt(r.value),r=t.next();this.Bt()}kt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.xt(r);else if(r<2048)this.xt(960|r>>>6),this.xt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.xt(480|r>>>12),this.xt(128|63&r>>>6),this.xt(128|63&r);else{const i=t.codePointAt(0);this.xt(240|i>>>18),this.xt(128|63&i>>>12),this.xt(128|63&i>>>6),this.xt(128|63&i)}}this.Ot()}qt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Lt(r);else if(r<2048)this.Lt(960|r>>>6),this.Lt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Lt(480|r>>>12),this.Lt(128|63&r>>>6),this.Lt(128|63&r);else{const i=t.codePointAt(0);this.Lt(240|i>>>18),this.Lt(128|63&i>>>12),this.Lt(128|63&i>>>6),this.Lt(128|63&i)}}this.Bt()}Qt(e){const t=this.Kt(e),r=oS(t);this.$t(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Ut(e){const t=this.Kt(e),r=oS(t);this.$t(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Wt(){this.Gt(255),this.Gt(255)}zt(){this.jt(255),this.jt(255)}reset(){this.position=0}seed(e){this.$t(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ht(){return this.buffer.slice(0,this.position)}Kt(e){const t=function(o){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,o,!1),new Uint8Array(l.buffer)}(e),r=(128&t[0])!=0;t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}xt(e){const t=255&e;t===0?(this.Gt(0),this.Gt(255)):t===255?(this.Gt(255),this.Gt(0)):this.Gt(t)}Lt(e){const t=255&e;t===0?(this.jt(0),this.jt(255)):t===255?(this.jt(255),this.jt(0)):this.jt(e)}Ot(){this.Gt(0),this.Gt(1)}Bt(){this.jt(0),this.jt(1)}Gt(e){this.$t(1),this.buffer[this.position++]=e}jt(e){this.$t(1),this.buffer[this.position++]=~e}$t(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class v4{constructor(e){this.Jt=e}wt(e){this.Jt.Mt(e)}ft(e){this.Jt.kt(e)}Vt(e){this.Jt.Qt(e)}At(){this.Jt.Wt()}}class w4{constructor(e){this.Jt=e}wt(e){this.Jt.Nt(e)}ft(e){this.Jt.qt(e)}Vt(e){this.Jt.Ut(e)}At(){this.Jt.zt()}}class Fc{constructor(){this.Jt=new _4,this.Yt=new v4(this.Jt),this.Zt=new w4(this.Jt)}seed(e){this.Jt.seed(e)}Xt(e){return e===0?this.Yt:this.Zt}Ht(){return this.Jt.Ht()}reset(){this.Jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}en(){const e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new ca(this.indexId,this.documentKey,this.arrayValue,r)}}function Js(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=aS(n.arrayValue,e.arrayValue),t!==0?t:(t=aS(n.directionalValue,e.directionalValue),t!==0?t:_e.comparator(n.documentKey,e.documentKey)))}function aS(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e){this.tn=new st((t,r)=>Et.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.nn=e.orderBy,this.rn=[];for(const t of e.filters){const r=t;r.isInequality()?this.tn=this.tn.add(r):this.rn.push(r)}}get sn(){return this.tn.size>1}on(e){if(Re(e.collectionGroup===this.collectionId),this.sn)return!1;const t=D_(e);if(t!==void 0&&!this._n(t))return!1;const r=oa(e);let i=new Set,o=0,l=0;for(;o<r.length&&this._n(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.tn.size>0){const u=this.tn.getIterator().getNext();if(!i.has(u.field.canonicalString())){const d=r[o];if(!this.an(u,d)||!this.un(this.nn[l++],d))return!1}++o}for(;o<r.length;++o){const u=r[o];if(l>=this.nn.length||!this.un(this.nn[l++],u))return!1}return!0}cn(){if(this.sn)return null;let e=new st(Et.comparator);const t=[];for(const r of this.rn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new dp(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new dp(r.field,0))}for(const r of this.nn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new dp(r.field,r.dir==="asc"?0:1)));return new Bp(Bp.UNKNOWN_ID,this.collectionId,t,Nd.empty())}_n(e){for(const t of this.rn)if(this.an(t,e))return!0;return!1}an(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}un(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(n){var e,t;if(Re(n instanceof qe||n instanceof it),n instanceof qe){if(n instanceof yA){const i=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(o=>qe.create(n.field,"==",o)))||[];return it.create(i,"or")}return n}const r=n.filters.map(i=>XA(i));return it.create(r,n.op)}function E4(n){if(n.getFilters().length===0)return[];const e=G_(XA(n));return Re(ZA(e)),H_(e)||K_(e)?[e]:e.getFilters()}function H_(n){return n instanceof qe}function K_(n){return n instanceof it&&s0(n)}function ZA(n){return H_(n)||K_(n)||function(t){if(t instanceof it&&F_(t)){for(const r of t.getFilters())if(!H_(r)&&!K_(r))return!1;return!0}return!1}(n)}function G_(n){if(Re(n instanceof qe||n instanceof it),n instanceof qe)return n;if(n.filters.length===1)return G_(n.filters[0]);const e=n.filters.map(r=>G_(r));let t=it.create(e,n.op);return t=Wp(t),ZA(t)?t:(Re(t instanceof it),Re(au(t)),Re(t.filters.length>1),t.filters.reduce((r,i)=>g0(r,i)))}function g0(n,e){let t;return Re(n instanceof qe||n instanceof it),Re(e instanceof qe||e instanceof it),t=n instanceof qe?e instanceof qe?function(i,o){return it.create([i,o],"and")}(n,e):uS(n,e):e instanceof qe?uS(e,n):function(i,o){if(Re(i.filters.length>0&&o.filters.length>0),au(i)&&au(o))return pA(i,o.getFilters());const l=F_(i)?i:o,u=F_(i)?o:i,d=l.filters.map(f=>g0(f,u));return it.create(d,"or")}(n,e),Wp(t)}function uS(n,e){if(au(e))return pA(e,n.getFilters());{const t=e.filters.map(r=>g0(n,r));return it.create(t,"or")}}function Wp(n){if(Re(n instanceof qe||n instanceof it),n instanceof qe)return n;const e=n.getFilters();if(e.length===1)return Wp(e[0]);if(hA(n))return n;const t=e.map(i=>Wp(i)),r=[];return t.forEach(i=>{i instanceof qe?r.push(i):i instanceof it&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:it.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(){this.ln=new y0}addToCollectionParentIndex(e,t){return this.ln.add(t),G.resolve()}getCollectionParents(e,t){return G.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return G.resolve()}deleteFieldIndex(e,t){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,t){return G.resolve()}getDocumentsMatchingTarget(e,t){return G.resolve(null)}getIndexType(e,t){return G.resolve(0)}getFieldIndexes(e,t){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,t){return G.resolve(wr.min())}getMinOffsetFromCollectionGroup(e,t){return G.resolve(wr.min())}updateCollectionGroup(e,t,r){return G.resolve()}updateIndexEntries(e,t){return G.resolve()}}class y0{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new st($e.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new st($e.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf=new Uint8Array(0);class T4{constructor(e,t){this.databaseId=t,this.hn=new y0,this.Pn=new Is(r=>Ia(r),(r,i)=>lh(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.hn.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.hn.add(t)});const o={collectionId:r,parent:xn(i)};return cS(e).put(o)}return G.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Qb(t),""],!1,!0);return cS(e).U(i).next(o=>{for(const l of o){if(l.collectionId!==t)break;r.push(bi(l.parent))}return r})}addFieldIndex(e,t){const r=Uc(e),i=function(u){return{indexId:u.indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])}}(t);delete i.indexId;const o=r.add(i);if(t.indexState){const l=xl(e);return o.next(u=>{l.put(rS(u,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const r=Uc(e),i=xl(e),o=kl(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=Uc(e),r=kl(e),i=xl(e);return t.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,t){return G.forEach(this.Tn(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const o=new lS(r).cn();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){const r=kl(e);let i=!0;const o=new Map;return G.forEach(this.Tn(t),l=>this.In(e,l).next(u=>{i&&(i=!!u),o.set(l,u)})).next(()=>{if(i){let l=Me();const u=[];return G.forEach(o,(d,f)=>{ue("IndexedDbIndexManager",`Using index ${function(U){return`id=${U.indexId}|cg=${U.collectionGroup}|f=${U.fields.map(q=>`${q.fieldPath}:${q.kind}`).join(",")}`}(d)} to execute ${Ia(t)}`);const m=function(U,q){const j=D_(q);if(j===void 0)return null;for(const W of zp(U,j.fieldPath))switch(W.op){case"array-contains-any":return W.value.arrayValue.values||[];case"array-contains":return[W.value]}return null}(f,d),g=function(U,q){const j=new Map;for(const W of oa(q))for(const D of zp(U,W.fieldPath))switch(D.op){case"==":case"in":j.set(W.fieldPath.canonicalString(),D.value);break;case"not-in":case"!=":return j.set(W.fieldPath.canonicalString(),D.value),Array.from(j.values())}return null}(f,d),_=function(U,q){const j=[];let W=!0;for(const D of oa(q)){const b=D.kind===0?$T(U,D.fieldPath,U.startAt):qT(U,D.fieldPath,U.startAt);j.push(b.value),W&&(W=b.inclusive)}return new go(j,W)}(f,d),T=function(U,q){const j=[];let W=!0;for(const D of oa(q)){const b=D.kind===0?qT(U,D.fieldPath,U.endAt):$T(U,D.fieldPath,U.endAt);j.push(b.value),W&&(W=b.inclusive)}return new go(j,W)}(f,d),I=this.En(d,f,_),R=this.En(d,f,T),P=this.dn(d,f,g),L=this.An(d.indexId,m,I,_.inclusive,R,T.inclusive,P);return G.forEach(L,V=>r.G(V,t.limit).next(U=>{U.forEach(q=>{const j=_e.fromSegments(q.documentKey);l.has(j)||(l=l.add(j),u.push(j))})}))}).next(()=>u)}return G.resolve(null)})}Tn(e){let t=this.Pn.get(e);return t||(e.filters.length===0?t=[e]:t=E4(it.create(e.filters,"and")).map(r=>B_(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Pn.set(e,t),t)}An(e,t,r,i,o,l,u){const d=(t!=null?t.length:1)*Math.max(r.length,o.length),f=d/(t!=null?t.length:1),m=[];for(let g=0;g<d;++g){const _=t?this.Rn(t[g/f]):Kf,T=this.Vn(e,_,r[g%f],i),I=this.mn(e,_,o[g%f],l),R=u.map(P=>this.Vn(e,_,P,!0));m.push(...this.createRange(T,I,R))}return m}Vn(e,t,r,i){const o=new ca(e,_e.empty(),t,r);return i?o:o.en()}mn(e,t,r,i){const o=new ca(e,_e.empty(),t,r);return i?o.en():o}In(e,t){const r=new lS(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let l=null;for(const u of o)r.on(u)&&(!l||u.fields.length>l.fields.length)&&(l=u);return l})}getIndexType(e,t){let r=2;const i=this.Tn(t);return G.forEach(i,o=>this.In(e,o).next(l=>{l?r!==0&&l.fields.length<function(d){let f=new st(Et.comparator),m=!1;for(const g of d.filters)for(const _ of g.getFlattenedFilters())_.field.isKeyField()||(_.op==="array-contains"||_.op==="array-contains-any"?m=!0:f=f.add(_.field));for(const g of d.orderBy)g.field.isKeyField()||(f=f.add(g.field));return f.size+(m?1:0)}(o)&&(r=1):r=0})).next(()=>function(l){return l.limit!==null}(t)&&i.length>1&&r===2?1:r)}fn(e,t){const r=new Fc;for(const i of oa(e)){const o=t.data.field(i.fieldPath);if(o==null)return null;const l=r.Xt(i.kind);ua.Ft.Et(o,l)}return r.Ht()}Rn(e){const t=new Fc;return ua.Ft.Et(e,t.Xt(0)),t.Ht()}gn(e,t){const r=new Fc;return ua.Ft.Et(Ea(this.databaseId,t),r.Xt(function(o){const l=oa(o);return l.length===0?0:l[l.length-1].kind}(e))),r.Ht()}dn(e,t,r){if(r===null)return[];let i=[];i.push(new Fc);let o=0;for(const l of oa(e)){const u=r[o++];for(const d of i)if(this.pn(t,l.fieldPath)&&Md(u))i=this.yn(i,l,u);else{const f=d.Xt(l.kind);ua.Ft.Et(u,f)}}return this.wn(i)}En(e,t,r){return this.dn(e,t,r.position)}wn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Ht();return t}yn(e,t,r){const i=[...e],o=[];for(const l of r.arrayValue.values||[])for(const u of i){const d=new Fc;d.seed(u.Ht()),ua.Ft.Et(l,d.Xt(t.kind)),o.push(d)}return o}pn(e,t){return!!e.filters.find(r=>r instanceof qe&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){const r=Uc(e),i=xl(e);return(t?r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.U()).next(o=>{const l=[];return G.forEach(o,u=>i.get([u.indexId,this.uid]).next(d=>{l.push(function(m,g){const _=g?new Nd(g.sequenceNumber,new wr(ba(g.readTime),new _e(bi(g.documentKey)),g.largestBatchId)):Nd.empty(),T=m.fields.map(([I,R])=>new dp(Et.fromServerFormat(I),R));return new Bp(m.indexId,m.collectionGroup,T,_)}(u,d))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:De(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Uc(e),o=xl(e);return this.Sn(e).next(l=>i.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(u=>G.forEach(u,d=>o.put(rS(d.indexId,this.uid,l,r)))))}updateIndexEntries(e,t){const r=new Map;return G.forEach(t,(i,o)=>{const l=r.get(i.collectionGroup);return(l?G.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next(u=>(r.set(i.collectionGroup,u),G.forEach(u,d=>this.bn(e,i,d).next(f=>{const m=this.Dn(o,d);return f.isEqual(m)?G.resolve():this.vn(e,o,d,f,m)}))))})}Cn(e,t,r,i){return kl(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Fn(e,t,r,i){return kl(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}bn(e,t,r){const i=kl(e);let o=new st(Js);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(l,u)=>{o=o.add(new ca(r.indexId,t,u.arrayValue,u.directionalValue))}).next(()=>o)}Dn(e,t){let r=new st(Js);const i=this.fn(t,e);if(i==null)return r;const o=D_(t);if(o!=null){const l=e.data.field(o.fieldPath);if(Md(l))for(const u of l.arrayValue.values||[])r=r.add(new ca(t.indexId,e.key,this.Rn(u),i))}else r=r.add(new ca(t.indexId,e.key,Kf,i));return r}vn(e,t,r,i,o){ue("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(d,f,m,g,_){const T=d.getIterator(),I=f.getIterator();let R=Cl(T),P=Cl(I);for(;R||P;){let L=!1,V=!1;if(R&&P){const U=m(R,P);U<0?V=!0:U>0&&(L=!0)}else R!=null?V=!0:L=!0;L?(g(P),P=Cl(I)):V?(_(R),R=Cl(T)):(R=Cl(T),P=Cl(I))}}(i,o,Js,u=>{l.push(this.Cn(e,t,r,u))},u=>{l.push(this.Fn(e,t,r,u))}),G.waitFor(l)}Sn(e){let t=1;return xl(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,u)=>Js(l,u)).filter((l,u,d)=>!u||Js(l,d[u-1])!==0);const i=[];i.push(e);for(const l of r){const u=Js(l,e),d=Js(l,t);if(u===0)i[0]=e.en();else if(u>0&&d<0)i.push(l),i.push(l.en());else if(d>0)break}i.push(t);const o=[];for(let l=0;l<i.length;l+=2){if(this.Mn(i[l],i[l+1]))return[];const u=[i[l].indexId,this.uid,i[l].arrayValue,i[l].directionalValue,Kf,[]],d=[i[l+1].indexId,this.uid,i[l+1].arrayValue,i[l+1].directionalValue,Kf,[]];o.push(IDBKeyRange.bound(u,d))}return o}Mn(e,t){return Js(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(dS)}getMinOffset(e,t){return G.mapArray(this.Tn(t),r=>this.In(e,r).next(i=>i||Ee())).next(dS)}}function cS(n){return sn(n,"collectionParents")}function kl(n){return sn(n,"indexEntries")}function Uc(n){return sn(n,"indexConfiguration")}function xl(n){return sn(n,"indexState")}function dS(n){Re(n.length!==0);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;n0(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new wr(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Cn{static withCacheSize(e){return new Cn(e,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),o=[],l=IDBKeyRange.only(t.batchId);let u=0;const d=r.J({range:l},(m,g,_)=>(u++,_.delete()));o.push(d.next(()=>{Re(u===1)}));const f=[];for(const m of t.mutations){const g=nA(e,m.key.path,t.batchId);o.push(i.delete(g)),f.push(m.key)}return G.waitFor(o).next(()=>f)}function Hp(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ee();e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(41943040,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);class xm{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.xn={}}static Pt(e,t,r,i){Re(e.uid!=="");const o=e.isAuthenticated()?e.uid:"";return new xm(o,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ys(e).J({index:"userMutationsIndex",range:r},(i,o,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const o=zl(e),l=Ys(e);return l.add({}).next(u=>{Re(typeof u=="number");const d=new c0(u,t,r,i),f=function(T,I,R){const P=R.baseMutations.map(V=>Bd(T.ht,V)),L=R.mutations.map(V=>Bd(T.ht,V));return{userId:I,batchId:R.batchId,localWriteTimeMs:R.localWriteTime.toMillis(),baseMutations:P,mutations:L}}(this.serializer,this.userId,d),m=[];let g=new st((_,T)=>De(_.canonicalString(),T.canonicalString()));for(const _ of i){const T=nA(this.userId,_.key.path,u);g=g.add(_.key.path.popLast()),m.push(l.put(f)),m.push(o.put(T,uF))}return g.forEach(_=>{m.push(this.indexManager.addToCollectionParentIndex(e,_))}),e.addOnCommittedListener(()=>{this.xn[u]=d.keys()}),G.waitFor(m).next(()=>d)})}lookupMutationBatch(e,t){return Ys(e).get(t).next(r=>r?(Re(r.userId===this.userId),la(this.serializer,r)):null)}On(e,t){return this.xn[t]?G.resolve(this.xn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.xn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Ys(e).J({index:"userMutationsIndex",range:i},(l,u,d)=>{u.userId===this.userId&&(Re(u.batchId>=r),o=la(this.serializer,u)),d.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ys(e).J({index:"userMutationsIndex",range:t,reverse:!0},(i,o,l)=>{r=o.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ys(e).U("userMutationsIndex",t).next(r=>r.map(i=>la(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=hp(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return zl(e).J({range:i},(l,u,d)=>{const[f,m,g]=l,_=bi(m);if(f===this.userId&&t.path.isEqual(_))return Ys(e).get(g).next(T=>{if(!T)throw Ee();Re(T.userId===this.userId),o.push(la(this.serializer,T))});d.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new st(De);const i=[];return t.forEach(o=>{const l=hp(this.userId,o.path),u=IDBKeyRange.lowerBound(l),d=zl(e).J({range:u},(f,m,g)=>{const[_,T,I]=f,R=bi(T);_===this.userId&&o.path.isEqual(R)?r=r.add(I):g.done()});i.push(d)}),G.waitFor(i).next(()=>this.Nn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,o=hp(this.userId,r),l=IDBKeyRange.lowerBound(o);let u=new st(De);return zl(e).J({range:l},(d,f,m)=>{const[g,_,T]=d,I=bi(_);g===this.userId&&r.isPrefixOf(I)?I.length===i&&(u=u.add(T)):m.done()}).next(()=>this.Nn(e,u))}Nn(e,t){const r=[],i=[];return t.forEach(o=>{i.push(Ys(e).get(o).next(l=>{if(l===null)throw Ee();Re(l.userId===this.userId),r.push(la(this.serializer,l))}))}),G.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return eP(e._e,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Ln(t.batchId)}),G.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Ln(e){delete this.xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return G.resolve();const r=IDBKeyRange.lowerBound(function(l){return[l]}(this.userId)),i=[];return zl(e).J({range:r},(o,l,u)=>{if(o[0]===this.userId){const d=bi(o[1]);i.push(d)}else u.done()}).next(()=>{Re(i.length===0)})})}containsKey(e,t){return tP(e,this.userId,t)}Bn(e){return nP(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function tP(n,e,t){const r=hp(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r);let l=!1;return zl(n).J({range:o,H:!0},(u,d,f)=>{const[m,g,_]=u;m===e&&g===i&&(l=!0),f.done()}).next(()=>l)}function Ys(n){return sn(n,"mutations")}function zl(n){return sn(n,"documentMutations")}function nP(n){return sn(n,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Aa(0)}static Qn(){return new Aa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Kn(e).next(t=>{const r=new Aa(t.highestTargetId);return t.highestTargetId=r.next(),this.$n(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Kn(e).next(t=>Pe.fromTimestamp(new Tt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Kn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Kn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.$n(e,i)))}addTargetData(e,t){return this.Un(e,t).next(()=>this.Kn(e).next(r=>(r.targetCount+=1,this.Wn(t,r),this.$n(e,r))))}updateTargetData(e,t){return this.Un(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Ol(e).delete(t.targetId)).next(()=>this.Kn(e)).next(r=>(Re(r.targetCount>0),r.targetCount-=1,this.$n(e,r)))}removeTargets(e,t,r){let i=0;const o=[];return Ol(e).J((l,u)=>{const d=ud(u);d.sequenceNumber<=t&&r.get(d.targetId)===null&&(i++,o.push(this.removeTargetData(e,d)))}).next(()=>G.waitFor(o)).next(()=>i)}forEachTarget(e,t){return Ol(e).J((r,i)=>{const o=ud(i);t(o)})}Kn(e){return fS(e).get("targetGlobalKey").next(t=>(Re(t!==null),t))}$n(e,t){return fS(e).put("targetGlobalKey",t)}Un(e,t){return Ol(e).put(YA(this.serializer,t))}Wn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Kn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Ia(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Ol(e).J({range:i,index:"queryTargetsIndex"},(l,u,d)=>{const f=ud(u);lh(t,f.target)&&(o=f,d.done())}).next(()=>o)}addMatchingKeys(e,t,r){const i=[],o=Zs(e);return t.forEach(l=>{const u=xn(l.path);i.push(o.put({targetId:r,path:u})),i.push(this.referenceDelegate.addReference(e,r,l))}),G.waitFor(i)}removeMatchingKeys(e,t,r){const i=Zs(e);return G.forEach(t,o=>{const l=xn(o.path);return G.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){const r=Zs(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Zs(e);let o=Me();return i.J({range:r,H:!0},(l,u,d)=>{const f=bi(l[1]),m=new _e(f);o=o.add(m)}).next(()=>o)}containsKey(e,t){const r=xn(t.path),i=IDBKeyRange.bound([r],[Qb(r)],!1,!0);let o=0;return Zs(e).J({index:"documentTargetsIndex",H:!0,range:i},([l,u],d,f)=>{l!==0&&(o++,f.done())}).next(()=>o>0)}ut(e,t){return Ol(e).get(t).next(r=>r?ud(r):null)}}function Ol(n){return sn(n,"targets")}function fS(n){return sn(n,"targetGlobal")}function Zs(n){return sn(n,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS([n,e],[t,r]){const i=De(n,t);return i===0?De(e,r):i}class R4{constructor(e){this.Gn=e,this.buffer=new st(pS),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();pS(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class rP{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ue("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Po(t)?ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Ao(t)}await this.Yn(3e5)})}}class b4{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return G.resolve(Zn.oe);const r=new R4(t);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(hS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hS):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let r,i,o,l,u,d,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,u=Date.now(),this.removeTargets(e,r,t))).next(g=>(o=g,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(f=Date.now(),Fl()<=Be.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${o} targets in `+(d-u)+`ms
	Removed ${g} documents in `+(f-d)+`ms
Total Duration: ${f-m}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:g})))}}function iP(n,e){return new b4(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e,t){this.db=e,this.garbageCollector=iP(this,t)}Xn(e){const t=this.nr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}er(e,t){return this.rr(e,(r,i)=>t(i))}addReference(e,t,r){return Gf(e,r)}removeReference(e,t,r){return Gf(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Gf(e,t)}ir(e,t){return function(i,o){let l=!1;return nP(i).Y(u=>tP(i,u,o).next(d=>(d&&(l=!0),G.resolve(!d)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.rr(e,(l,u)=>{if(u<=t){const d=this.ir(e,l).next(f=>{if(!f)return o++,r.getEntry(e,l).next(()=>(r.removeEntry(l,Pe.min()),Zs(e).delete(function(g){return[0,xn(g.path)]}(l))))});i.push(d)}}).next(()=>G.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Gf(e,t)}rr(e,t){const r=Zs(e);let i,o=Zn.oe;return r.J({index:"documentTargetsIndex"},([l,u],{path:d,sequenceNumber:f})=>{l===0?(o!==Zn.oe&&t(new _e(bi(i)),o),o=f,i=d):o=Zn.oe}).next(()=>{o!==Zn.oe&&t(new _e(bi(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Gf(n,e){return Zs(n).put(function(r,i){return{targetId:0,path:xn(r.path),sequenceNumber:i}}(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(){this.changes=new Is(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,mt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?G.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return ia(e).put(r)}removeEntry(e,t,r){return ia(e).delete(function(o,l){const u=o.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],qp(l),u[u.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.sr(e,r)))}getEntry(e,t){let r=mt.newInvalidDocument(t);return ia(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Bc(t))},(i,o)=>{r=this._r(t,o)}).next(()=>r)}ar(e,t){let r={size:0,document:mt.newInvalidDocument(t)};return ia(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Bc(t))},(i,o)=>{r={document:this._r(t,o),size:Hp(o)}}).next(()=>r)}getEntries(e,t){let r=tr();return this.ur(e,t,(i,o)=>{const l=this._r(i,o);r=r.insert(i,l)}).next(()=>r)}cr(e,t){let r=tr(),i=new dt(_e.comparator);return this.ur(e,t,(o,l)=>{const u=this._r(o,l);r=r.insert(o,u),i=i.insert(o,Hp(l))}).next(()=>({documents:r,lr:i}))}ur(e,t,r){if(t.isEmpty())return G.resolve();let i=new st(yS);t.forEach(d=>i=i.add(d));const o=IDBKeyRange.bound(Bc(i.first()),Bc(i.last())),l=i.getIterator();let u=l.getNext();return ia(e).J({index:"documentKeyIndex",range:o},(d,f,m)=>{const g=_e.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;u&&yS(u,g)<0;)r(u,null),u=l.getNext();u&&u.isEqual(g)&&(r(u,f),u=l.hasNext()?l.getNext():null),u?m.$(Bc(u)):m.done()}).next(()=>{for(;u;)r(u,null),u=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,o){const l=t.path,u=[l.popLast().toArray(),l.lastSegment(),qp(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ia(e).U(IDBKeyRange.bound(u,d,!0)).next(f=>{o==null||o.incrementDocumentReadCount(f.length);let m=tr();for(const g of f){const _=this._r(_e.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);_.isFoundDocument()&&(ch(t,_)||i.has(_.key))&&(m=m.insert(_.key,_))}return m})}getAllFromCollectionGroup(e,t,r,i){let o=tr();const l=gS(t,r),u=gS(t,wr.max());return ia(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,u,!0)},(d,f,m)=>{const g=this._r(_e.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);o=o.insert(g.key,g),o.size===i&&m.done()}).next(()=>o)}newChangeBuffer(e){return new C4(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return mS(e).get("remoteDocumentGlobalKey").next(t=>(Re(!!t),t))}sr(e,t){return mS(e).put("remoteDocumentGlobalKey",t)}_r(e,t){if(t){const r=p4(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Pe.min())))return r}return mt.newInvalidDocument(e)}}function oP(n){return new P4(n)}class C4 extends sP{constructor(e,t){super(),this.hr=e,this.trackRemovals=t,this.Pr=new Is(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new st((o,l)=>De(o.canonicalString(),l.canonicalString()));return this.changes.forEach((o,l)=>{const u=this.Pr.get(o);if(t.push(this.hr.removeEntry(e,o,u.readTime)),l.isValidDocument()){const d=tS(this.hr.serializer,l);i=i.add(o.path.popLast());const f=Hp(d);r+=f-u.size,t.push(this.hr.addEntry(e,o,d))}else if(r-=u.size,this.trackRemovals){const d=tS(this.hr.serializer,l.convertToNoDocument(Pe.min()));t.push(this.hr.addEntry(e,o,d))}}),i.forEach(o=>{t.push(this.hr.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.hr.updateMetadata(e,r)),G.waitFor(t)}getFromCache(e,t){return this.hr.ar(e,t).next(r=>(this.Pr.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.hr.cr(e,t).next(({documents:r,lr:i})=>(i.forEach((o,l)=>{this.Pr.set(o,{size:l,readTime:r.get(o).readTime})}),r))}}function mS(n){return sn(n,"remoteDocumentGlobal")}function ia(n){return sn(n,"remoteDocumentsV14")}function Bc(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function gS(n,e){const t=e.documentKey.path.toArray();return[n,qp(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function yS(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=De(t[o],r[o]),i)return i;return i=De(t.length,r.length),i||(i=De(t[t.length-2],r[r.length-2]),i||De(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&vd(r.mutation,i,er.empty(),Tt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Me()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Me()){const i=Ai();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let l=ad();return o.forEach((u,d)=>{l=l.insert(u,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Ai();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Me()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,r,i){let o=tr();const l=_d(),u=function(){return _d()}();return t.forEach((d,f)=>{const m=r.get(f.key);i.has(f.key)&&(m===void 0||m.mutation instanceof Ts)?o=o.insert(f.key,f):m!==void 0?(l.set(f.key,m.mutation.getFieldMask()),vd(m.mutation,f,m.mutation.getFieldMask(),Tt.now())):l.set(f.key,er.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((f,m)=>l.set(f,m)),t.forEach((f,m)=>{var g;return u.set(f,new k4(m,(g=l.get(f))!==null&&g!==void 0?g:null))}),u))}recalculateAndSaveOverlays(e,t){const r=_d();let i=new dt((l,u)=>l-u),o=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(d=>{const f=t.get(d);if(f===null)return;let m=r.get(d)||er.empty();m=u.applyToLocalView(f,m),r.set(d,m);const g=(i.get(u.batchId)||Me()).add(d);i=i.insert(u.batchId,g)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),f=d.key,m=d.value,g=SA();m.forEach(_=>{if(!o.has(_)){const T=xA(t.get(_),r.get(_));T!==null&&g.set(_,T),o=o.add(_)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,g))}return G.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return _e.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):o0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):G.resolve(Ai());let u=-1,d=o;return l.next(f=>G.forEach(f,(m,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),o.get(m)?G.resolve():this.remoteDocumentCache.getEntry(e,m).next(_=>{d=d.insert(m,_)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,d,f,Me())).next(m=>({batchId:u,changes:TA(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(r=>{let i=ad();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let l=ad();return this.indexManager.getCollectionParents(e,o).next(u=>G.forEach(u,d=>{const f=function(g,_){return new Es(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(m=>{m.forEach((g,_)=>{l=l.insert(g,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(l=>{o.forEach((d,f)=>{const m=f.getKey();l.get(m)===null&&(l=l.insert(m,mt.newInvalidDocument(m)))});let u=ad();return l.forEach((d,f)=>{const m=o.get(d);m!==void 0&&vd(m.mutation,f,er.empty(),Tt.now()),ch(t,f)&&(u=u.insert(d,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return G.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:jt(i.createTime)}}(t)),G.resolve()}getNamedQuery(e,t){return G.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(i){return{name:i.name,query:m0(i.bundledQuery),readTime:jt(i.readTime)}}(t)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(){this.overlays=new dt(_e.comparator),this.Er=new Map}getOverlay(e,t){return G.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ai();return G.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.Tt(e,t,o)}),G.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Er.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Er.delete(r)),G.resolve()}getOverlaysForCollection(e,t,r){const i=Ai(),o=t.length+1,l=new _e(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,f=d.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===o&&d.largestBatchId>r&&i.set(d.getKey(),d)}return G.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new dt((f,m)=>f-m);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let m=o.get(f.largestBatchId);m===null&&(m=Ai(),o=o.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const u=Ai(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((f,m)=>u.set(f,m)),!(u.size()>=i)););return G.resolve(u)}Tt(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Er.get(i.largestBatchId).delete(r.key);this.Er.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new h0(t,r));let o=this.Er.get(t);o===void 0&&(o=Me(),this.Er.set(t,o)),this.Er.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(){this.dr=new st(dn.Ar),this.Rr=new st(dn.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const r=new dn(e,t);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gr(new dn(e,t))}pr(e,t){e.forEach(r=>this.removeReference(r,t))}yr(e){const t=new _e(new $e([])),r=new dn(t,e),i=new dn(t,e+1),o=[];return this.Rr.forEachInRange([r,i],l=>{this.gr(l),o.push(l.key)}),o}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new _e(new $e([])),r=new dn(t,e),i=new dn(t,e+1);let o=Me();return this.Rr.forEachInRange([r,i],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new dn(e,0),r=this.dr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class dn{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return _e.comparator(e.key,t.key)||De(e.br,t.br)}static Vr(e,t){return De(e.br,t.br)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new st(dn.Ar)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new c0(o,t,r,i);this.mutationQueue.push(l);for(const u of i)this.vr=this.vr.add(new dn(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return G.resolve(l)}lookupMutationBatch(e,t){return G.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Fr(r),o=i<0?0:i;return G.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new dn(t,0),i=new dn(t,Number.POSITIVE_INFINITY),o=[];return this.vr.forEachInRange([r,i],l=>{const u=this.Cr(l.br);o.push(u)}),G.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new st(De);return t.forEach(i=>{const o=new dn(i,0),l=new dn(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([o,l],u=>{r=r.add(u.br)})}),G.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;_e.isDocumentKey(o)||(o=o.child(""));const l=new dn(new _e(o),0);let u=new st(De);return this.vr.forEachWhile(d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(d.br)),!0)},l),G.resolve(this.Mr(u))}Mr(e){const t=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Re(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return G.forEach(t.mutations,i=>{const o=new dn(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,t){const r=new dn(t,0),i=this.vr.firstAfterOrEqual(r);return G.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e){this.Nr=e,this.docs=function(){return new dt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,l=this.Nr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return G.resolve(r?r.document.mutableCopy():mt.newInvalidDocument(t))}getEntries(e,t){let r=tr();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():mt.newInvalidDocument(i))}),G.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=tr();const l=t.path,u=new _e(l.child("")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:f,value:{document:m}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||n0(Yb(m),r)<=0||(i.has(m.key)||ch(t,m))&&(o=o.insert(m.key,m.mutableCopy()))}return G.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Ee()}Lr(e,t){return G.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new L4(this)}getSize(e){return G.resolve(this.size)}}class L4 extends sP{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),G.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e){this.persistence=e,this.Br=new Is(t=>Ia(t),lh),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.kr=0,this.qr=new _0,this.targetCount=0,this.Qr=Aa.qn()}forEachTarget(e,t){return this.Br.forEach((r,i)=>t(i)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.kr&&(this.kr=t),G.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Aa(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,G.resolve()}updateTargetData(e,t){return this.Un(t),G.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Br.forEach((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.Br.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),G.waitFor(o).next(()=>i)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,t){const r=this.Br.get(t)||null;return G.resolve(r)}addMatchingKeys(e,t,r){return this.qr.mr(t,r),G.resolve()}removeMatchingKeys(e,t,r){this.qr.pr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),G.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),G.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qr.Sr(t);return G.resolve(r)}containsKey(e,t){return G.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Zn(0),this.Ur=!1,this.Ur=!0,this.Wr=new N4,this.referenceDelegate=e(this),this.Gr=new M4(this),this.indexManager=new I4,this.remoteDocumentCache=function(i){return new V4(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new JA(t),this.jr=new x4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new O4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Kr[e.toKey()];return r||(r=new D4(t,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,r){ue("MemoryPersistence","Starting transaction:",e);const i=new F4(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(o=>this.referenceDelegate.Jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Yr(e,t){return G.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,t)))}}class F4 extends Zb{constructor(e){super(),this.currentSequenceNumber=e}}class Om{constructor(e){this.persistence=e,this.Zr=new _0,this.Xr=null}static ei(e){return new Om(e)}get ti(){if(this.Xr)return this.Xr;throw Ee()}addReference(e,t,r){return this.Zr.addReference(r,t),this.ti.delete(r.toString()),G.resolve()}removeReference(e,t,r){return this.Zr.removeReference(r,t),this.ti.add(r.toString()),G.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),G.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.ti.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.ti,r=>{const i=_e.fromPath(r);return this.ni(e,i).next(o=>{o||t.removeEntry(i,Pe.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(r=>{r?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return G.or([()=>G.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Kp{constructor(e,t){this.persistence=e,this.ri=new Is(r=>xn(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=iP(this,t)}static ei(e,t){return new Kp(e,t)}Hr(){}Jr(e){return G.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}er(e,t){return G.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(o=>o?G.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Lr(e,l=>this.ir(e,l,t).next(u=>{u||(r++,o.removeEntry(l,Pe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),G.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),G.resolve()}removeReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),G.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=pp(e.data.value)),t}ir(e,t,r){return G.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.ri.get(t);return G.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e){this.serializer=e}O(e,t,r,i){const o=new Sm("createOrUpgrade",t);r<1&&i>=1&&(function(d){d.createObjectStore("owner")}(e),function(d){d.createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",OT,{unique:!0}),d.createObjectStore("documentMutations")}(e),_S(e),function(d){d.createObjectStore("remoteDocuments")}(e));let l=G.resolve();return r<3&&i>=3&&(r!==0&&(function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")}(e),_S(e)),l=l.next(()=>function(d){const f=d.store("targetGlobal"),m={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Pe.min().toTimestamp(),targetCount:0};return f.put("targetGlobalKey",m)}(o))),r<4&&i>=4&&(r!==0&&(l=l.next(()=>function(d,f){return f.store("mutations").U().next(m=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",OT,{unique:!0});const g=f.store("mutations"),_=m.map(T=>g.put(T));return G.waitFor(_)})}(e,o))),l=l.next(()=>{(function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(l=l.next(()=>this.ii(o))),r<6&&i>=6&&(l=l.next(()=>(function(d){d.createObjectStore("remoteDocumentGlobal")}(e),this.si(o)))),r<7&&i>=7&&(l=l.next(()=>this.oi(o))),r<8&&i>=8&&(l=l.next(()=>this._i(e,o))),r<9&&i>=9&&(l=l.next(()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(l=l.next(()=>this.ai(o))),r<11&&i>=11&&(l=l.next(()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(d){d.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(l=l.next(()=>{(function(d){const f=d.createObjectStore("documentOverlays",{keyPath:EF});f.createIndex("collectionPathOverlayIndex",IF,{unique:!1}),f.createIndex("collectionGroupOverlayIndex",TF,{unique:!1})})(e)})),r<13&&i>=13&&(l=l.next(()=>function(d){const f=d.createObjectStore("remoteDocumentsV14",{keyPath:cF});f.createIndex("documentKeyIndex",dF),f.createIndex("collectionGroupIndex",hF)}(e)).next(()=>this.ui(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(l=l.next(()=>this.ci(e,o))),r<15&&i>=15&&(l=l.next(()=>function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:yF}).createIndex("sequenceNumberIndex",_F,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:vF}).createIndex("documentKeyIndex",wF,{unique:!1})}(e))),r<16&&i>=16&&(l=l.next(()=>{t.objectStore("indexState").clear()}).next(()=>{t.objectStore("indexEntries").clear()})),r<17&&i>=17&&(l=l.next(()=>{(function(d){d.createObjectStore("globals",{keyPath:"name"})})(e)})),l}si(e){let t=0;return e.store("remoteDocuments").J((r,i)=>{t+=Hp(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ii(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.U().next(i=>G.forEach(i,o=>{const l=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",l).next(u=>G.forEach(u,d=>{Re(d.userId===o.userId);const f=la(this.serializer,d);return eP(e,o.userId,f).next(()=>{})}))}))}oi(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.J((l,u)=>{const d=new $e(l),f=function(g){return[0,xn(g)]}(d);o.push(t.get(f).next(m=>m?G.resolve():(g=>t.put({targetId:0,path:xn(g),sequenceNumber:i.highestListenSequenceNumber}))(d)))}).next(()=>G.waitFor(o))})}_i(e,t){e.createObjectStore("collectionParents",{keyPath:gF});const r=t.store("collectionParents"),i=new y0,o=l=>{if(i.add(l)){const u=l.lastSegment(),d=l.popLast();return r.put({collectionId:u,parent:xn(d)})}};return t.store("remoteDocuments").J({H:!0},(l,u)=>{const d=new $e(l);return o(d.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([l,u,d],f)=>{const m=bi(u);return o(m.popLast())}))}ai(e){const t=e.store("targets");return t.J((r,i)=>{const o=ud(i),l=YA(this.serializer,o);return t.put(l)})}ui(e,t){const r=t.store("remoteDocuments"),i=[];return r.J((o,l)=>{const u=t.store("remoteDocumentsV14"),d=function(g){return g.document?new _e($e.fromString(g.document.name).popFirst(5)):g.noDocument?_e.fromSegments(g.noDocument.path):g.unknownDocument?_e.fromSegments(g.unknownDocument.path):Ee()}(l).path.toArray(),f={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(u.put(f))}).next(()=>G.waitFor(i))}ci(e,t){const r=t.store("mutations"),i=oP(this.serializer),o=new v0(Om.ei,this.serializer.ht);return r.U().next(l=>{const u=new Map;return l.forEach(d=>{var f;let m=(f=u.get(d.userId))!==null&&f!==void 0?f:Me();la(this.serializer,d).keys().forEach(g=>m=m.add(g)),u.set(d.userId,m)}),G.forEach(u,(d,f)=>{const m=new hn(f),g=km.Pt(this.serializer,m),_=o.getIndexManager(m),T=xm.Pt(m,this.serializer,_,o.referenceDelegate);return new aP(i,T,g,_).recalculateAndSaveOverlaysForDocumentKeys(new V_(t,Zn.oe),d).next()})})}}function _S(n){n.createObjectStore("targetDocuments",{keyPath:pF}).createIndex("documentTargetsIndex",mF,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",fF,{unique:!0}),n.createObjectStore("targetGlobal")}const o_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class w0{constructor(e,t,r,i,o,l,u,d,f,m,g=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.li=o,this.window=l,this.document=u,this.hi=f,this.Pi=m,this.Ti=g,this.$r=null,this.Ur=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ii=null,this.inForeground=!1,this.Ei=null,this.di=null,this.Ai=Number.NEGATIVE_INFINITY,this.Ri=_=>Promise.resolve(),!w0.p())throw new ae(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new A4(this,i),this.Vi=t+"main",this.serializer=new JA(d),this.mi=new Pi(this.Vi,this.Ti,new U4(this.serializer)),this.Wr=new g4,this.Gr=new S4(this.referenceDelegate,this.serializer),this.remoteDocumentCache=oP(this.serializer),this.jr=new m4,this.window&&this.window.localStorage?this.fi=this.window.localStorage:(this.fi=null,m===!1&&Bt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ae(te.FAILED_PRECONDITION,o_);return this.pi(),this.yi(),this.wi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Gr.getHighestSequenceNumber(e))}).then(e=>{this.$r=new Zn(e,this.hi)}).then(()=>{this.Ur=!0}).catch(e=>(this.mi&&this.mi.close(),Promise.reject(e)))}Si(e){return this.Ri=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.mi.L(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.li.enqueueAndForget(async()=>{this.started&&await this.gi()}))}gi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Qf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.bi(e).next(t=>{t||(this.isPrimary=!1,this.li.enqueueRetryable(()=>this.Ri(!1)))})}).next(()=>this.Di(e)).next(t=>this.isPrimary&&!t?this.vi(e).next(()=>!1):!!t&&this.Ci(e).next(()=>!0))).catch(e=>{if(Po(e))return ue("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ue("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.li.enqueueRetryable(()=>this.Ri(e)),this.isPrimary=e})}bi(e){return jc(e).get("owner").next(t=>G.resolve(this.Fi(t)))}Mi(e){return Qf(e).delete(this.clientId)}async xi(){if(this.isPrimary&&!this.Oi(this.Ai,18e5)){this.Ai=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const r=sn(t,"clientMetadata");return r.U().next(i=>{const o=this.Ni(i,18e5),l=i.filter(u=>o.indexOf(u)===-1);return G.forEach(l,u=>r.delete(u.clientId)).next(()=>l)})}).catch(()=>[]);if(this.fi)for(const t of e)this.fi.removeItem(this.Li(t.clientId))}}wi(){this.di=this.li.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gi().then(()=>this.xi()).then(()=>this.wi()))}Fi(e){return!!e&&e.ownerId===this.clientId}Di(e){return this.Pi?G.resolve(!0):jc(e).get("owner").next(t=>{if(t!==null&&this.Oi(t.leaseTimestampMs,5e3)&&!this.Bi(t.ownerId)){if(this.Fi(t)&&this.networkEnabled)return!0;if(!this.Fi(t)){if(!t.allowTabSynchronization)throw new ae(te.FAILED_PRECONDITION,o_);return!1}}return!(!this.networkEnabled||!this.inForeground)||Qf(e).U().next(r=>this.Ni(r,5e3).find(i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,l=!this.inForeground&&i.inForeground,u=this.networkEnabled===i.networkEnabled;if(o||l&&u)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&ue("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.Ur=!1,this.ki(),this.di&&(this.di.cancel(),this.di=null),this.qi(),this.Qi(),await this.mi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const t=new V_(e,Zn.oe);return this.vi(t).next(()=>this.Mi(t))}),this.mi.close(),this.Ki()}Ni(e,t){return e.filter(r=>this.Oi(r.updateTimeMs,t)&&!this.Bi(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Qf(e).U().next(t=>this.Ni(t,18e5).map(r=>r.clientId)))}get started(){return this.Ur}getGlobalsCache(){return this.Wr}getMutationQueue(e,t){return xm.Pt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new T4(e,this.serializer.ht.databaseId)}getDocumentOverlayCache(e){return km.Pt(this.serializer,e)}getBundleCache(){return this.jr}runTransaction(e,t,r){ue("IndexedDbPersistence","Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",o=function(d){return d===17?bF:d===16?RF:d===15?i0:d===14?sA:d===13?iA:d===12?SF:d===11?rA:void Ee()}(this.Ti);let l;return this.mi.runTransaction(e,i,o,u=>(l=new V_(u,this.$r?this.$r.next():Zn.oe),t==="readwrite-primary"?this.bi(l).next(d=>!!d||this.Di(l)).next(d=>{if(!d)throw Bt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.li.enqueueRetryable(()=>this.Ri(!1)),new ae(te.FAILED_PRECONDITION,Xb);return r(l)}).next(d=>this.Ci(l).next(()=>d)):this.Ui(l).next(()=>r(l)))).then(u=>(l.raiseOnCommittedEvent(),u))}Ui(e){return jc(e).get("owner").next(t=>{if(t!==null&&this.Oi(t.leaseTimestampMs,5e3)&&!this.Bi(t.ownerId)&&!this.Fi(t)&&!(this.Pi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ae(te.FAILED_PRECONDITION,o_)})}Ci(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return jc(e).put("owner",t)}static p(){return Pi.p()}vi(e){const t=jc(e);return t.get("owner").next(r=>this.Fi(r)?(ue("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):G.resolve())}Oi(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(Bt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}pi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ei=()=>{this.li.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.gi()))},this.document.addEventListener("visibilitychange",this.Ei),this.inForeground=this.document.visibilityState==="visible")}qi(){this.Ei&&(this.document.removeEventListener("visibilitychange",this.Ei),this.Ei=null)}yi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Ii=()=>{this.ki();const t=/(?:Version|Mobile)\/1[456]/;kR()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.li.enterRestrictedMode(!0),this.li.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ii))}Qi(){this.Ii&&(this.window.removeEventListener("pagehide",this.Ii),this.Ii=null)}Bi(e){var t;try{const r=((t=this.fi)===null||t===void 0?void 0:t.getItem(this.Li(e)))!==null;return ue("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Bt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}ki(){if(this.fi)try{this.fi.setItem(this.Li(this.clientId),String(Date.now()))}catch(e){Bt("Failed to set zombie client id.",e)}}Ki(){if(this.fi)try{this.fi.removeItem(this.Li(this.clientId))}catch{}}Li(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function jc(n){return sn(n,"owner")}function Qf(n){return sn(n,"clientMetadata")}function E0(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Wi=r,this.Gi=i}static zi(e,t){let r=Me(),i=Me();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new I0(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return kR()?8:eA(Pt())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.Xi(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.es(e,t,i,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new B4;return this.ts(e,t,l).next(u=>{if(o.result=u,this.Hi)return this.ns(e,t,l,u.size)})}).next(()=>o.result)}ns(e,t,r,i){return r.documentReadCount<this.Ji?(Fl()<=Be.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Ul(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),G.resolve()):(Fl()<=Be.DEBUG&&ue("QueryEngine","Query:",Ul(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(Fl()<=Be.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Ul(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bn(t))):G.resolve())}Xi(e,t){if(WT(t))return G.resolve(null);let r=Bn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=$p(t,null,"F"),r=Bn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=Me(...o);return this.Zi.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(d=>{const f=this.rs(t,u);return this.ss(t,f,l,d.readTime)?this.Xi(e,$p(t,null,"F")):this.os(e,f,t,d)}))})))}es(e,t,r,i){return WT(t)||i.isEqual(Pe.min())?G.resolve(null):this.Zi.getDocuments(e,r).next(o=>{const l=this.rs(t,o);return this.ss(t,l,r,i)?G.resolve(null):(Fl()<=Be.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ul(t)),this.os(e,l,t,Jb(i,-1)).next(u=>u))})}rs(e,t){let r=new st(EA(e));return t.forEach((i,o)=>{ch(e,o)&&(r=r.add(o))}),r}ss(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ts(e,t,r){return Fl()<=Be.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Ul(t)),this.Zi.getDocumentsMatchingQuery(e,t,wr.min(),r)}os(e,t,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e,t,r,i){this.persistence=e,this._s=t,this.serializer=i,this.us=new dt(De),this.cs=new Is(o=>Ia(o),lh),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aP(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function uP(n,e,t,r){return new j4(n,e,t,r)}async function cP(n,e){const t=ve(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ps(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],u=[];let d=Me();for(const f of i){l.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}for(const f of o){u.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}return t.localDocuments.getDocuments(r,d).next(f=>({Ts:f,removedBatchIds:l,addedBatchIds:u}))})})}function z4(n,e){const t=ve(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.hs.newChangeBuffer({trackRemovals:!0});return function(u,d,f,m){const g=f.batch,_=g.keys();let T=G.resolve();return _.forEach(I=>{T=T.next(()=>m.getEntry(d,I)).next(R=>{const P=f.docVersions.get(I);Re(P!==null),R.version.compareTo(P)<0&&(g.applyToRemoteDocument(R,f),R.isValidDocument()&&(R.setReadTime(f.commitVersion),m.addEntry(R)))})}),T.next(()=>u.mutationQueue.removeMutationBatch(d,g))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let d=Me();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(d=d.add(u.batch.mutations[f].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function dP(n){const e=ve(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function $4(n,e){const t=ve(n),r=e.snapshotVersion;let i=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.hs.newChangeBuffer({trackRemovals:!0});i=t.us;const u=[];e.targetChanges.forEach((m,g)=>{const _=i.get(g);if(!_)return;u.push(t.Gr.removeMatchingKeys(o,m.removedDocuments,g).next(()=>t.Gr.addMatchingKeys(o,m.addedDocuments,g)));let T=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?T=T.withResumeToken(Vt.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):m.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(m.resumeToken,r)),i=i.insert(g,T),function(R,P,L){return R.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(_,T,m)&&u.push(t.Gr.updateTargetData(o,T))});let d=tr(),f=Me();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(o,m))}),u.push(hP(o,l,e.documentUpdates).next(m=>{d=m.Is,f=m.Es})),!r.isEqual(Pe.min())){const m=t.Gr.getLastRemoteSnapshotVersion(o).next(g=>t.Gr.setTargetsMetadata(o,o.currentSequenceNumber,r));u.push(m)}return G.waitFor(u).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,d,f)).next(()=>d)}).then(o=>(t.us=i,o))}function hP(n,e,t){let r=Me(),i=Me();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let l=tr();return t.forEach((u,d)=>{const f=o.get(u);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(Pe.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):ue("LocalStore","Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",d.version)}),{Is:l,Es:i}})}function q4(n,e){const t=ve(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function du(n,e){const t=ve(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Gr.getTargetData(r,e).next(o=>o?(i=o,G.resolve(i)):t.Gr.allocateTargetId(r).next(l=>(i=new as(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.us=t.us.insert(r.targetId,r),t.cs.set(e,r.targetId)),r})}async function hu(n,e,t){const r=ve(n),i=r.us.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Po(l))throw l;ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function Gp(n,e,t){const r=ve(n);let i=Pe.min(),o=Me();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,f,m){const g=ve(d),_=g.cs.get(m);return _!==void 0?G.resolve(g.us.get(_)):g.Gr.getTargetData(f,m)}(r,l,Bn(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(l,u.targetId).next(d=>{o=d})}).next(()=>r._s.getDocumentsMatchingQuery(l,e,t?i:Pe.min(),t?o:Me())).next(u=>(mP(r,wA(e),u),{documents:u,ds:o})))}function fP(n,e){const t=ve(n),r=ve(t.Gr),i=t.us.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",o=>r.ut(o,e).next(l=>l?l.target:null))}function pP(n,e){const t=ve(n),r=t.ls.get(e)||Pe.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.hs.getAllFromCollectionGroup(i,e,Jb(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(mP(t,e,i),i))}function mP(n,e,t){let r=n.ls.get(e)||Pe.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.ls.set(e,r)}async function W4(n,e,t,r){const i=ve(n);let o=Me(),l=tr();for(const f of t){const m=e.As(f.metadata.name);f.document&&(o=o.add(m));const g=e.Rs(f);g.setReadTime(e.Vs(f.metadata.readTime)),l=l.insert(m,g)}const u=i.hs.newChangeBuffer({trackRemovals:!0}),d=await du(i,function(m){return Bn(ku($e.fromString(`__bundle__/docs/${m}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",f=>hP(f,u,l).next(m=>(u.apply(f),m)).next(m=>i.Gr.removeMatchingKeysForTargetId(f,d.targetId).next(()=>i.Gr.addMatchingKeys(f,o,d.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(f,m.Is,m.Es)).next(()=>m.Is)))}async function H4(n,e,t=Me()){const r=await du(n,Bn(m0(e.bundledQuery))),i=ve(n);return i.persistence.runTransaction("Save named query","readwrite",o=>{const l=jt(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.jr.saveNamedQuery(o,e);const u=r.withResumeToken(Vt.EMPTY_BYTE_STRING,l);return i.us=i.us.insert(u.targetId,u),i.Gr.updateTargetData(o,u).next(()=>i.Gr.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Gr.addMatchingKeys(o,t,r.targetId)).next(()=>i.jr.saveNamedQuery(o,e))})}function vS(n,e){return`firestore_clients_${n}_${e}`}function wS(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function a_(n,e){return`firestore_targets_${n}_${e}`}class Qp{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static fs(e,t,r){const i=JSON.parse(r);let o,l=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return l&&i.error&&(l=typeof i.error.message=="string"&&typeof i.error.code=="string",l&&(o=new ae(i.error.code,i.error.message))),l?new Qp(e,t,i.state,o):(Bt("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class wd{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static fs(e,t){const r=JSON.parse(t);let i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new ae(r.error.code,r.error.message))),o?new wd(e,r.state,i):(Bt("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Jp{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static fs(e,t){const r=JSON.parse(t);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=a0();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=tA(r.activeTargetIds[l]),o=o.add(r.activeTargetIds[l]);return i?new Jp(e,o):(Bt("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class T0{constructor(e,t){this.clientId=e,this.onlineState=t}static fs(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new T0(t.clientId,t.onlineState):(Bt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Q_{constructor(){this.activeTargetIds=a0()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class l_{constructor(e,t,r,i,o){this.window=e,this.li=t,this.persistenceKey=r,this.ws=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ss=this.bs.bind(this),this.Ds=new dt(De),this.started=!1,this.vs=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Cs=vS(this.persistenceKey,this.ws),this.Fs=function(d){return`firestore_sequence_number_${d}`}(this.persistenceKey),this.Ds=this.Ds.insert(this.ws,new Q_),this.Ms=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.xs=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Os=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.Ns=function(d){return`firestore_online_state_${d}`}(this.persistenceKey),this.Ls=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.Ss)}static p(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.$i();for(const r of e){if(r===this.ws)continue;const i=this.getItem(vS(this.persistenceKey,r));if(i){const o=Jp.fs(r,i);o&&(this.Ds=this.Ds.insert(o.clientId,o))}}this.Bs();const t=this.storage.getItem(this.Ns);if(t){const r=this.ks(t);r&&this.qs(r)}for(const r of this.vs)this.bs(r);this.vs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Fs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Qs(this.Ds)}isActiveQueryTarget(e){let t=!1;return this.Ds.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ks(e,"pending")}updateMutationState(e,t,r){this.Ks(e,t,r),this.$s(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(a_(this.persistenceKey,e));if(i){const o=wd.fs(e,i);o&&(r=o.state)}}return t&&this.Us.ps(e),this.Bs(),r}removeLocalQueryTarget(e){this.Us.ys(e),this.Bs()}isLocalQueryTarget(e){return this.Us.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(a_(this.persistenceKey,e))}updateQueryState(e,t,r){this.Ws(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.$s(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Gs(e)}notifyBundleLoaded(e){this.zs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Ss),this.removeItem(this.Cs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ue("SharedClientState","READ",e,t),t}setItem(e,t){ue("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ue("SharedClientState","REMOVE",e),this.storage.removeItem(e)}bs(e){const t=e;if(t.storageArea===this.storage){if(ue("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Cs)return void Bt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.li.enqueueRetryable(async()=>{if(this.started){if(t.key!==null){if(this.Ms.test(t.key)){if(t.newValue==null){const r=this.js(t.key);return this.Hs(r,null)}{const r=this.Js(t.key,t.newValue);if(r)return this.Hs(r.clientId,r)}}else if(this.xs.test(t.key)){if(t.newValue!==null){const r=this.Ys(t.key,t.newValue);if(r)return this.Zs(r)}}else if(this.Os.test(t.key)){if(t.newValue!==null){const r=this.Xs(t.key,t.newValue);if(r)return this.eo(r)}}else if(t.key===this.Ns){if(t.newValue!==null){const r=this.ks(t.newValue);if(r)return this.qs(r)}}else if(t.key===this.Fs){const r=function(o){let l=Zn.oe;if(o!=null)try{const u=JSON.parse(o);Re(typeof u=="number"),l=u}catch(u){Bt("SharedClientState","Failed to read sequence number from WebStorage",u)}return l}(t.newValue);r!==Zn.oe&&this.sequenceNumberHandler(r)}else if(t.key===this.Ls){const r=this.no(t.newValue);await Promise.all(r.map(i=>this.syncEngine.ro(i)))}}}else this.vs.push(t)})}}get Us(){return this.Ds.get(this.ws)}Bs(){this.setItem(this.Cs,this.Us.gs())}Ks(e,t,r){const i=new Qp(this.currentUser,e,t,r),o=wS(this.persistenceKey,this.currentUser,e);this.setItem(o,i.gs())}$s(e){const t=wS(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Gs(e){const t={clientId:this.ws,onlineState:e};this.storage.setItem(this.Ns,JSON.stringify(t))}Ws(e,t,r){const i=a_(this.persistenceKey,e),o=new wd(e,t,r);this.setItem(i,o.gs())}zs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Ls,t)}js(e){const t=this.Ms.exec(e);return t?t[1]:null}Js(e,t){const r=this.js(e);return Jp.fs(r,t)}Ys(e,t){const r=this.xs.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return Qp.fs(new hn(o),i,t)}Xs(e,t){const r=this.Os.exec(e),i=Number(r[1]);return wd.fs(i,t)}ks(e){return T0.fs(e)}no(e){return JSON.parse(e)}async Zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.io(e.batchId,e.state,e.error);ue("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}eo(e){return this.syncEngine.so(e.targetId,e.state,e.error)}Hs(e,t){const r=t?this.Ds.insert(e,t):this.Ds.remove(e),i=this.Qs(this.Ds),o=this.Qs(r),l=[],u=[];return o.forEach(d=>{i.has(d)||l.push(d)}),i.forEach(d=>{o.has(d)||u.push(d)}),this.syncEngine.oo(l,u).then(()=>{this.Ds=r})}qs(e){this.Ds.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Qs(e){let t=a0();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class gP{constructor(){this._o=new Q_,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,r){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Q_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jf=null;function u_(){return Jf===null?Jf=function(){return 268435456+Math.round(2147483648*Math.random())}():Jf++,"0x"+Jf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An="WebChannelConnection";class J4 extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+t.host,this.Mo=`projects/${i}/databases/${o}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Oo(t,r,i,o,l){const u=u_(),d=this.No(t,r.toUriEncodedString());ue("RestConnection",`Sending RPC '${t}' ${u}:`,d,i);const f={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(f,o,l),this.Bo(t,d,f,i).then(m=>(ue("RestConnection",`Received RPC '${t}' ${u}: `,m),m),m=>{throw Ni("RestConnection",`RPC '${t}' ${u} failed with error: `,m,"url: ",d,"request:",i),m})}ko(t,r,i,o,l,u){return this.Oo(t,r,i,o,l)}Lo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Cu}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,l)=>t[l]=o),i&&i.headers.forEach((o,l)=>t[l]=o)}No(t,r){const i=G4[t];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,r,i){const o=u_();return new Promise((l,u)=>{const d=new zb;d.setWithCredentials(!0),d.listenOnce($b.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case cp.NO_ERROR:const m=d.getResponseJson();ue(An,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case cp.TIMEOUT:ue(An,`RPC '${e}' ${o} timed out`),u(new ae(te.DEADLINE_EXCEEDED,"Request time out"));break;case cp.HTTP_ERROR:const g=d.getStatus();if(ue(An,`RPC '${e}' ${o} failed with status:`,g,"response text:",d.getResponseText()),g>0){let _=d.getResponseJson();Array.isArray(_)&&(_=_[0]);const T=_==null?void 0:_.error;if(T&&T.status&&T.message){const I=function(P){const L=P.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(L)>=0?L:te.UNKNOWN}(T.status);u(new ae(I,T.message))}else u(new ae(te.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new ae(te.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{ue(An,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(i);ue(An,`RPC '${e}' ${o} sending request:`,i),d.send(t,"POST",f,r,15)})}qo(e,t,r){const i=u_(),o=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Hb(),u=Wb(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Lo(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const m=o.join("");ue(An,`Creating RPC '${e}' stream ${i}: ${m}`,d);const g=l.createWebChannel(m,d);let _=!1,T=!1;const I=new Q4({Eo:P=>{T?ue(An,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(_||(ue(An,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),ue(An,`RPC '${e}' stream ${i} sending:`,P),g.send(P))},Ao:()=>g.close()}),R=(P,L,V)=>{P.listen(L,U=>{try{V(U)}catch(q){setTimeout(()=>{throw q},0)}})};return R(g,od.EventType.OPEN,()=>{T||(ue(An,`RPC '${e}' stream ${i} transport opened.`),I.So())}),R(g,od.EventType.CLOSE,()=>{T||(T=!0,ue(An,`RPC '${e}' stream ${i} transport closed`),I.Do())}),R(g,od.EventType.ERROR,P=>{T||(T=!0,Ni(An,`RPC '${e}' stream ${i} transport errored:`,P),I.Do(new ae(te.UNAVAILABLE,"The operation could not be completed")))}),R(g,od.EventType.MESSAGE,P=>{var L;if(!T){const V=P.data[0];Re(!!V);const U=V,q=(U==null?void 0:U.error)||((L=U[0])===null||L===void 0?void 0:L.error);if(q){ue(An,`RPC '${e}' stream ${i} received error:`,q);const j=q.status;let W=function(C){const E=Ht[C];if(E!==void 0)return DA(E)}(j),D=q.message;W===void 0&&(W=te.INTERNAL,D="Unknown error status: "+j+" with message "+q.message),T=!0,I.Do(new ae(W,D)),g.close()}else ue(An,`RPC '${e}' stream ${i} received:`,V),I.vo(V)}}),R(u,qb.STAT_EVENT,P=>{P.stat===N_.PROXY?ue(An,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===N_.NOPROXY&&ue(An,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.bo()},0),I}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(){return typeof window<"u"?window:null}function _p(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(n){return new i4(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,t,r=1e3,i=1.5,o=6e4){this.li=e,this.timerId=t,this.Qo=r,this.Ko=i,this.$o=o,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,t-r);i>0&&ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e,t,r,i,o,l,u,d){this.li=e,this.Yo=r,this.Zo=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new S0(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(Bt(t.toString()),Bt("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===t&&this.I_(r,i)},r=>{e(()=>{const i=new ae(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(i)})})}I_(e,t){const r=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.E_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Y4 extends _P{constructor(e,t,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=a4(this.serializer,e),r=function(o){if(!("targetChange"in o))return Pe.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Pe.min():l.readTime?jt(l.readTime):Pe.min()}(e);return this.listener.R_(t,r)}V_(e){const t={};t.database=q_(this.serializer),t.addTarget=function(o,l){let u;const d=l.target;if(u=jp(d)?{documents:qA(o,d)}:{query:WA(o,d).ct},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=FA(o,l.resumeToken);const f=z_(o,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(Pe.min())>0){u.readTime=cu(o,l.snapshotVersion.toTimestamp());const f=z_(o,l.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const r=u4(this.serializer,e);r&&(t.labels=r),this.c_(t)}m_(e){const t={};t.database=q_(this.serializer),t.removeTarget=e,this.c_(t)}}class X4 extends _P{constructor(e,t,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Re(!!e.streamToken),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=l4(e.writeResults,e.commitTime),r=jt(e.commitTime);return this.listener.y_(r,t)}w_(){const e={};e.database=q_(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Bd(this.serializer,r))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4 extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new ae(te.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Oo(e,$_(t,r),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ae(te.UNKNOWN,o.toString())})}ko(e,t,r,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.ko(e,$_(t,r),i,l,u,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ae(te.UNKNOWN,l.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class eU{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Bt(t),this.C_=!1):ue("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=o,this.Q_.uo(l=>{r.enqueueAndForget(async()=>{ko(this)&&(ue("RemoteStore","Restarting streams for network reachability change."),await async function(d){const f=ve(d);f.k_.add(4),await Nu(f),f.K_.set("Unknown"),f.k_.delete(4),await mh(f)}(this))})}),this.K_=new eU(r,i)}}async function mh(n){if(ko(n))for(const e of n.q_)await e(!0)}async function Nu(n){for(const e of n.q_)await e(!1)}function Nm(n,e){const t=ve(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),A0(t)?b0(t):Vu(t).s_()&&R0(t,e))}function fu(n,e){const t=ve(n),r=Vu(t);t.B_.delete(e),r.s_()&&vP(t,e),t.B_.size===0&&(r.s_()?r.a_():ko(t)&&t.K_.set("Unknown"))}function R0(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Vu(n).V_(e)}function vP(n,e){n.U_.xe(e),Vu(n).m_(e)}function b0(n){n.U_=new e4({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Vu(n).start(),n.K_.F_()}function A0(n){return ko(n)&&!Vu(n).i_()&&n.B_.size>0}function ko(n){return ve(n).k_.size===0}function wP(n){n.U_=void 0}async function nU(n){n.K_.set("Online")}async function rU(n){n.B_.forEach((e,t)=>{R0(n,e)})}async function iU(n,e){wP(n),A0(n)?(n.K_.O_(e),b0(n)):n.K_.set("Unknown")}async function sU(n,e,t){if(n.K_.set("Online"),e instanceof MA&&e.state===2&&e.cause)try{await async function(i,o){const l=o.cause;for(const u of o.targetIds)i.B_.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.B_.delete(u),i.U_.removeTarget(u))}(n,e)}catch(r){ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Yp(n,r)}else if(e instanceof yp?n.U_.$e(e):e instanceof LA?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Pe.min()))try{const r=await dP(n.localStore);t.compareTo(r)>=0&&await function(o,l){const u=o.U_.it(l);return u.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const m=o.B_.get(f);m&&o.B_.set(f,m.withResumeToken(d.resumeToken,l))}}),u.targetMismatches.forEach((d,f)=>{const m=o.B_.get(d);if(!m)return;o.B_.set(d,m.withResumeToken(Vt.EMPTY_BYTE_STRING,m.snapshotVersion)),vP(o,d);const g=new as(m.target,d,f,m.sequenceNumber);R0(o,g)}),o.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){ue("RemoteStore","Failed to raise snapshot:",r),await Yp(n,r)}}async function Yp(n,e,t){if(!Po(e))throw e;n.k_.add(1),await Nu(n),n.K_.set("Offline"),t||(t=()=>dP(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ue("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await mh(n)})}function EP(n,e){return e().catch(t=>Yp(n,t,e))}async function Du(n){const e=ve(n),t=yo(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;oU(e);)try{const i=await q4(e.localStore,r);if(i===null){e.L_.length===0&&t.a_();break}r=i.batchId,aU(e,i)}catch(i){await Yp(e,i)}IP(e)&&TP(e)}function oU(n){return ko(n)&&n.L_.length<10}function aU(n,e){n.L_.push(e);const t=yo(n);t.s_()&&t.f_&&t.g_(e.mutations)}function IP(n){return ko(n)&&!yo(n).i_()&&n.L_.length>0}function TP(n){yo(n).start()}async function lU(n){yo(n).w_()}async function uU(n){const e=yo(n);for(const t of n.L_)e.g_(t.mutations)}async function cU(n,e,t){const r=n.L_.shift(),i=d0.from(r,e,t);await EP(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Du(n)}async function dU(n,e){e&&yo(n).f_&&await async function(r,i){if(function(l){return NA(l)&&l!==te.ABORTED}(i.code)){const o=r.L_.shift();yo(r).__(),await EP(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Du(r)}}(n,e),IP(n)&&TP(n)}async function IS(n,e){const t=ve(n);t.asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials");const r=ko(t);t.k_.add(3),await Nu(t),r&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await mh(t)}async function J_(n,e){const t=ve(n);e?(t.k_.delete(2),await mh(t)):e||(t.k_.add(2),await Nu(t),t.K_.set("Unknown"))}function Vu(n){return n.W_||(n.W_=function(t,r,i){const o=ve(t);return o.b_(),new Y4(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Ro:nU.bind(null,n),mo:rU.bind(null,n),po:iU.bind(null,n),R_:sU.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),A0(n)?b0(n):n.K_.set("Unknown")):(await n.W_.stop(),wP(n))})),n.W_}function yo(n){return n.G_||(n.G_=function(t,r,i){const o=ve(t);return o.b_(),new X4(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:lU.bind(null,n),po:dU.bind(null,n),p_:uU.bind(null,n),y_:cU.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await Du(n)):(await n.G_.stop(),n.L_.length>0&&(ue("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new In,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const l=Date.now()+r,u=new P0(e,t,l,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lu(n,e){if(Bt("AsyncQueue",`${e}: ${n}`),Po(n))return new ae(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{static emptySet(e){return new Jl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||_e.comparator(t.key,r.key):(t,r)=>_e.comparator(t.key,r.key),this.keyedMap=ad(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Jl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Jl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(){this.z_=new dt(_e.comparator)}track(e){const t=e.doc.key,r=this.z_.get(t);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(t,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(t):e.type===1&&r.type===2?this.z_=this.z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Ee():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class pu{constructor(e,t,r,i,o,l,u,d,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,i,o){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new pu(e,t,Jl.emptySet(t),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class fU{constructor(){this.queries=SS(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,r){const i=ve(t),o=i.queries;i.queries=SS(),o.forEach((l,u)=>{for(const d of u.J_)d.onError(r)})})(this,new ae(te.ABORTED,"Firestore shutting down"))}}function SS(){return new Is(n=>vA(n),uh)}async function C0(n,e){const t=ve(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.Y_()&&e.Z_()&&(r=2):(o=new hU,r=e.Z_()?0:1);try{switch(r){case 0:o.H_=await t.onListen(i,!0);break;case 1:o.H_=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=Lu(l,`Initialization of query '${Ul(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,o),o.J_.push(e),e.ea(t.onlineState),o.H_&&e.ta(o.H_)&&x0(t)}async function k0(n,e){const t=ve(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const l=o.J_.indexOf(e);l>=0&&(o.J_.splice(l,1),o.J_.length===0?i=e.Z_()?0:1:!o.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function pU(n,e){const t=ve(n);let r=!1;for(const i of e){const o=i.query,l=t.queries.get(o);if(l){for(const u of l.J_)u.ta(i)&&(r=!0);l.H_=i}}r&&x0(t)}function mU(n,e,t){const r=ve(n),i=r.queries.get(e);if(i)for(const o of i.J_)o.onError(t);r.queries.delete(e)}function x0(n){n.X_.forEach(e=>{e.next()})}var Y_,RS;(RS=Y_||(Y_={})).na="default",RS.Cache="cache";class O0{constructor(e,t,r){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new pu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const r=t!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=pu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Y_.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e,t){this.ca=e,this.byteLength=t}la(){return"metadata"in this.ca}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e){this.serializer=e}As(e){return Ci(this.serializer,e)}Rs(e){return e.metadata.exists?$A(this.serializer,e.document,!1):mt.newNoDocument(this.As(e.metadata.name),this.Vs(e.metadata.readTime))}Vs(e){return jt(e)}}class yU{constructor(e,t,r){this.ha=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=SP(e)}Pa(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ca.namedQuery)this.queries.push(e.ca.namedQuery);else if(e.ca.documentMetadata){this.documents.push({metadata:e.ca.documentMetadata}),e.ca.documentMetadata.exists||++t;const r=$e.fromString(e.ca.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ca.document&&(this.documents[this.documents.length-1].document=e.ca.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ta(e){const t=new Map,r=new bS(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.As(i.metadata.name);for(const l of i.metadata.queries){const u=(t.get(l)||Me()).add(o);t.set(l,u)}}return t}async complete(){const e=await W4(this.localStore,new bS(this.serializer),this.documents,this.ha.id),t=this.Ta(this.documents);for(const r of this.queries)await H4(this.localStore,r,t.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Ia:this.collectionGroups,Ea:e}}}function SP(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e){this.key=e}}class bP{constructor(e){this.key=e}}class AP{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Me(),this.mutatedKeys=Me(),this.Va=EA(e),this.ma=new Jl(this.Va)}get fa(){return this.da}ga(e,t){const r=t?t.pa:new TS,i=t?t.ma:this.ma;let o=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,g)=>{const _=i.get(m),T=ch(this.query,g)?g:null,I=!!_&&this.mutatedKeys.has(_.key),R=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let P=!1;_&&T?_.data.isEqual(T.data)?I!==R&&(r.track({type:3,doc:T}),P=!0):this.ya(_,T)||(r.track({type:2,doc:T}),P=!0,(d&&this.Va(T,d)>0||f&&this.Va(T,f)<0)&&(u=!0)):!_&&T?(r.track({type:0,doc:T}),P=!0):_&&!T&&(r.track({type:1,doc:_}),P=!0,(d||f)&&(u=!0)),P&&(T?(l=l.add(T),o=R?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{ma:l,pa:r,ss:u,mutatedKeys:o}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const l=e.pa.j_();l.sort((m,g)=>function(T,I){const R=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return R(T)-R(I)}(m.type,g.type)||this.Va(m.doc,g.doc)),this.wa(r),i=i!=null&&i;const u=t&&!i?this.Sa():[],d=this.Ra.size===0&&this.current&&!i?1:0,f=d!==this.Aa;return this.Aa=d,l.length!==0||f?{snapshot:new pu(this.query,e.ma,o,l,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:u}:{ba:u}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new TS,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Me(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const t=[];return e.forEach(r=>{this.Ra.has(r)||t.push(new bP(r))}),this.Ra.forEach(r=>{e.has(r)||t.push(new RP(r))}),t}va(e){this.da=e.ds,this.Ra=Me();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return pu.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class _U{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class vU{constructor(e){this.key=e,this.Fa=!1}}class wU{constructor(e,t,r,i,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Ma={},this.xa=new Is(u=>vA(u),uh),this.Oa=new Map,this.Na=new Set,this.La=new dt(_e.comparator),this.Ba=new Map,this.ka=new _0,this.qa={},this.Qa=new Map,this.Ka=Aa.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function EU(n,e,t=!0){const r=Dm(n);let i;const o=r.xa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Ca()):i=await PP(r,e,t,!0),i}async function IU(n,e){const t=Dm(n);await PP(t,e,!0,!1)}async function PP(n,e,t,r){const i=await du(n.localStore,Bn(e)),o=i.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let u;return r&&(u=await N0(n,e,o,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&Nm(n.remoteStore,i),u}async function N0(n,e,t,r,i){n.Ua=(g,_,T)=>async function(R,P,L,V){let U=P.view.ga(L);U.ss&&(U=await Gp(R.localStore,P.query,!1).then(({documents:D})=>P.view.ga(D,U)));const q=V&&V.targetChanges.get(P.targetId),j=V&&V.targetMismatches.get(P.targetId)!=null,W=P.view.applyChanges(U,R.isPrimaryClient,q,j);return X_(R,P.targetId,W.ba),W.snapshot}(n,g,_,T);const o=await Gp(n.localStore,e,!0),l=new AP(e,o.ds),u=l.ga(o.documents),d=fh.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),f=l.applyChanges(u,n.isPrimaryClient,d);X_(n,t,f.ba);const m=new _U(e,t,l);return n.xa.set(e,m),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),f.snapshot}async function TU(n,e,t){const r=ve(n),i=r.xa.get(e),o=r.Oa.get(i.targetId);if(o.length>1)return r.Oa.set(i.targetId,o.filter(l=>!uh(l,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await hu(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&fu(r.remoteStore,i.targetId),mu(r,i.targetId)}).catch(Ao)):(mu(r,i.targetId),await hu(r.localStore,i.targetId,!0))}async function SU(n,e){const t=ve(n),r=t.xa.get(e),i=t.Oa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),fu(t.remoteStore,r.targetId))}async function RU(n,e,t){const r=M0(n);try{const i=await function(l,u){const d=ve(l),f=Tt.now(),m=u.reduce((T,I)=>T.add(I.key),Me());let g,_;return d.persistence.runTransaction("Locally write mutations","readwrite",T=>{let I=tr(),R=Me();return d.hs.getEntries(T,m).next(P=>{I=P,I.forEach((L,V)=>{V.isValidDocument()||(R=R.add(L))})}).next(()=>d.localDocuments.getOverlayedDocuments(T,I)).next(P=>{g=P;const L=[];for(const V of u){const U=YF(V,g.get(V.key).overlayedDocument);U!=null&&L.push(new Ts(V.key,U,cA(U.value.mapValue),It.exists(!0)))}return d.mutationQueue.addMutationBatch(T,f,L,u)}).next(P=>{_=P;const L=P.applyToLocalDocumentSet(g,R);return d.documentOverlayCache.saveOverlays(T,P.batchId,L)})}).then(()=>({batchId:_.batchId,changes:TA(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,d){let f=l.qa[l.currentUser.toKey()];f||(f=new dt(De)),f=f.insert(u,d),l.qa[l.currentUser.toKey()]=f}(r,i.batchId,t),await Ss(r,i.changes),await Du(r.remoteStore)}catch(i){const o=Lu(i,"Failed to persist write");t.reject(o)}}async function CP(n,e){const t=ve(n);try{const r=await $4(t.localStore,e);e.targetChanges.forEach((i,o)=>{const l=t.Ba.get(o);l&&(Re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Fa=!0:i.modifiedDocuments.size>0?Re(l.Fa):i.removedDocuments.size>0&&(Re(l.Fa),l.Fa=!1))}),await Ss(t,r,e)}catch(r){await Ao(r)}}function AS(n,e,t){const r=ve(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.xa.forEach((o,l)=>{const u=l.view.ea(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const d=ve(l);d.onlineState=u;let f=!1;d.queries.forEach((m,g)=>{for(const _ of g.J_)_.ea(u)&&(f=!0)}),f&&x0(d)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function bU(n,e,t){const r=ve(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ba.get(e),o=i&&i.key;if(o){let l=new dt(_e.comparator);l=l.insert(o,mt.newNoDocument(o,Pe.min()));const u=Me().add(o),d=new hh(Pe.min(),new Map,new dt(De),l,u);await CP(r,d),r.La=r.La.remove(o),r.Ba.delete(e),L0(r)}else await hu(r.localStore,e,!1).then(()=>mu(r,e,t)).catch(Ao)}async function AU(n,e){const t=ve(n),r=e.batch.batchId;try{const i=await z4(t.localStore,e);V0(t,r,null),D0(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Ss(t,i)}catch(i){await Ao(i)}}async function PU(n,e,t){const r=ve(n);try{const i=await function(l,u){const d=ve(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return d.mutationQueue.lookupMutationBatch(f,u).next(g=>(Re(g!==null),m=g.keys(),d.mutationQueue.removeMutationBatch(f,g))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,m,u)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>d.localDocuments.getDocuments(f,m))})}(r.localStore,e);V0(r,e,t),D0(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Ss(r,i)}catch(i){await Ao(i)}}async function CU(n,e){const t=ve(n);ko(t.remoteStore)||ue("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(l){const u=ve(l);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>u.mutationQueue.getHighestUnacknowledgedBatchId(d))}(t.localStore);if(r===-1)return void e.resolve();const i=t.Qa.get(r)||[];i.push(e),t.Qa.set(r,i)}catch(r){const i=Lu(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function D0(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function V0(n,e,t){const r=ve(n);let i=r.qa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function mu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Oa.get(e))n.xa.delete(r),t&&n.Ma.Wa(r,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(r=>{n.ka.containsKey(r)||kP(n,r)})}function kP(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(fu(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),L0(n))}function X_(n,e,t){for(const r of t)r instanceof RP?(n.ka.addReference(r.key,e),kU(n,r)):r instanceof bP?(ue("SyncEngine","Document no longer in limbo: "+r.key),n.ka.removeReference(r.key,e),n.ka.containsKey(r.key)||kP(n,r.key)):Ee()}function kU(n,e){const t=e.key,r=t.path.canonicalString();n.La.get(t)||n.Na.has(r)||(ue("SyncEngine","New document in limbo: "+t),n.Na.add(r),L0(n))}function L0(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new _e($e.fromString(e)),r=n.Ka.next();n.Ba.set(r,new vU(t)),n.La=n.La.insert(t,r),Nm(n.remoteStore,new as(Bn(ku(t.path)),r,"TargetPurposeLimboResolution",Zn.oe))}}async function Ss(n,e,t){const r=ve(n),i=[],o=[],l=[];r.xa.isEmpty()||(r.xa.forEach((u,d)=>{l.push(r.Ua(d,e,t).then(f=>{var m;if((f||t)&&r.isPrimaryClient){const g=f?!f.fromCache:(m=t==null?void 0:t.targetChanges.get(d.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(f){i.push(f);const g=I0.zi(d.targetId,f);o.push(g)}}))}),await Promise.all(l),r.Ma.R_(i),await async function(d,f){const m=ve(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>G.forEach(f,_=>G.forEach(_.Wi,T=>m.persistence.referenceDelegate.addReference(g,_.targetId,T)).next(()=>G.forEach(_.Gi,T=>m.persistence.referenceDelegate.removeReference(g,_.targetId,T)))))}catch(g){if(!Po(g))throw g;ue("LocalStore","Failed to update sequence numbers: "+g)}for(const g of f){const _=g.targetId;if(!g.fromCache){const T=m.us.get(_),I=T.snapshotVersion,R=T.withLastLimboFreeSnapshotVersion(I);m.us=m.us.insert(_,R)}}}(r.localStore,o))}async function xU(n,e){const t=ve(n);if(!t.currentUser.isEqual(e)){ue("SyncEngine","User change. New user:",e.toKey());const r=await cP(t.localStore,e);t.currentUser=e,function(o,l){o.Qa.forEach(u=>{u.forEach(d=>{d.reject(new ae(te.CANCELLED,l))})}),o.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ss(t,r.Ts)}}function OU(n,e){const t=ve(n),r=t.Ba.get(e);if(r&&r.Fa)return Me().add(r.key);{let i=Me();const o=t.Oa.get(e);if(!o)return i;for(const l of o){const u=t.xa.get(l);i=i.unionWith(u.view.fa)}return i}}async function NU(n,e){const t=ve(n),r=await Gp(t.localStore,e.query,!0),i=e.view.va(r);return t.isPrimaryClient&&X_(t,e.targetId,i.ba),i}async function DU(n,e){const t=ve(n);return pP(t.localStore,e).then(r=>Ss(t,r))}async function VU(n,e,t,r){const i=ve(n),o=await function(u,d){const f=ve(u),m=ve(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",g=>m.On(g,d).next(_=>_?f.localDocuments.getDocuments(g,_):G.resolve(null)))}(i.localStore,e);o!==null?(t==="pending"?await Du(i.remoteStore):t==="acknowledged"||t==="rejected"?(V0(i,e,r||null),D0(i,e),function(u,d){ve(ve(u).mutationQueue).Ln(d)}(i.localStore,e)):Ee(),await Ss(i,o)):ue("SyncEngine","Cannot apply mutation batch with id: "+e)}async function LU(n,e){const t=ve(n);if(Dm(t),M0(t),e===!0&&t.$a!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),i=await PS(t,r.toArray());t.$a=!0,await J_(t.remoteStore,!0);for(const o of i)Nm(t.remoteStore,o)}else if(e===!1&&t.$a!==!1){const r=[];let i=Promise.resolve();t.Oa.forEach((o,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then(()=>(mu(t,l),hu(t.localStore,l,!0))),fu(t.remoteStore,l)}),await i,await PS(t,r),function(l){const u=ve(l);u.Ba.forEach((d,f)=>{fu(u.remoteStore,f)}),u.ka.wr(),u.Ba=new Map,u.La=new dt(_e.comparator)}(t),t.$a=!1,await J_(t.remoteStore,!1)}}async function PS(n,e,t){const r=ve(n),i=[],o=[];for(const l of e){let u;const d=r.Oa.get(l);if(d&&d.length!==0){u=await du(r.localStore,Bn(d[0]));for(const f of d){const m=r.xa.get(f),g=await NU(r,m);g.snapshot&&o.push(g.snapshot)}}else{const f=await fP(r.localStore,l);u=await du(r.localStore,f),await N0(r,xP(f),l,!1,u.resumeToken)}i.push(u)}return r.Ma.R_(o),i}function xP(n){return _A(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function MU(n){return function(t){return ve(ve(t).persistence).$i()}(ve(n).localStore)}async function FU(n,e,t,r){const i=ve(n);if(i.$a)return void ue("SyncEngine","Ignoring unexpected query state notification.");const o=i.Oa.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const l=await pP(i.localStore,wA(o[0])),u=hh.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Vt.EMPTY_BYTE_STRING);await Ss(i,l,u);break}case"rejected":await hu(i.localStore,e,!0),mu(i,e,r);break;default:Ee()}}async function UU(n,e,t){const r=Dm(n);if(r.$a){for(const i of e){if(r.Oa.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){ue("SyncEngine","Adding an already active target "+i);continue}const o=await fP(r.localStore,i),l=await du(r.localStore,o);await N0(r,xP(o),l.targetId,!1,l.resumeToken),Nm(r.remoteStore,l)}for(const i of t)r.Oa.has(i)&&await hu(r.localStore,i,!1).then(()=>{fu(r.remoteStore,i),mu(r,i)}).catch(Ao)}}function Dm(n){const e=ve(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=CP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bU.bind(null,e),e.Ma.R_=pU.bind(null,e.eventManager),e.Ma.Wa=mU.bind(null,e.eventManager),e}function M0(n){const e=ve(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PU.bind(null,e),e}function BU(n,e,t){const r=ve(n);(async function(o,l,u){try{const d=await l.getMetadata();if(await function(T,I){const R=ve(T),P=jt(I.createTime);return R.persistence.runTransaction("hasNewerBundle","readonly",L=>R.jr.getBundleMetadata(L,I.id)).then(L=>!!L&&L.createTime.compareTo(P)>=0)}(o.localStore,d))return await l.close(),u._completeWith(function(T){return{taskState:"Success",documentsLoaded:T.totalDocuments,bytesLoaded:T.totalBytes,totalDocuments:T.totalDocuments,totalBytes:T.totalBytes}}(d)),Promise.resolve(new Set);u._updateProgress(SP(d));const f=new yU(d,o.localStore,l.serializer);let m=await l.Ga();for(;m;){const _=await f.Pa(m);_&&u._updateProgress(_),m=await l.Ga()}const g=await f.complete();return await Ss(o,g.Ea,void 0),await function(T,I){const R=ve(T);return R.persistence.runTransaction("Save bundle","readwrite",P=>R.jr.saveBundleMetadata(P,I))}(o.localStore,d),u._completeWith(g.progress),Promise.resolve(g.Ia)}catch(d){return Ni("SyncEngine",`Loading bundle failed with ${d}`),u._failWith(d),Promise.resolve(new Set)}})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class jd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ph(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return uP(this.persistence,new lP,e.initialUser,this.serializer)}ja(e){return new v0(Om.ei,this.serializer)}za(e){return new gP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jd.provider={build:()=>new jd};class jU extends jd{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Re(this.persistence.referenceDelegate instanceof Kp);const r=this.persistence.referenceDelegate.garbageCollector;return new rP(r,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new v0(r=>Kp.ei(r,t),this.serializer)}}class OP extends jd{constructor(e,t,r){super(),this.Za=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Za.initialize(this,e),await M0(this.Za.syncEngine),await Du(this.Za.remoteStore),await this.persistence.Si(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}Ha(e){return uP(this.persistence,new lP,e.initialUser,this.serializer)}Ja(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new rP(r,e.asyncQueue,t)}Ya(e,t){const r=new aF(t,this.persistence);return new oF(e.asyncQueue,r)}ja(e){const t=E0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new w0(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,yP(),_p(),this.serializer,this.sharedClientState,!!this.forceOwnership)}za(e){return new gP}}class zU extends OP{constructor(e,t){super(e,t,!1),this.Za=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Za.syncEngine;this.sharedClientState instanceof l_&&(this.sharedClientState.syncEngine={io:VU.bind(null,t),so:FU.bind(null,t),oo:UU.bind(null,t),$i:MU.bind(null,t),ro:DU.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Si(async r=>{await LU(this.Za.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}za(e){const t=yP();if(!l_.p(t))throw new ae(te.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=E0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new l_(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class zd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>AS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=xU.bind(null,this.syncEngine),await J_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new fU}()}createDatastore(e){const t=ph(e.databaseInfo.databaseId),r=function(o){return new J4(o)}(e.databaseInfo);return function(o,l,u,d){return new Z4(o,l,u,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,l,u){return new tU(r,i,o,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>AS(this.syncEngine,t,0),function(){return ES.p()?new ES:new K4}())}createSyncEngine(e,t){return function(i,o,l,u,d,f,m){const g=new wU(i,o,l,u,d,f);return m&&(g.$a=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=ve(i);ue("RemoteStore","RemoteStore shutting down."),o.k_.add(5),await Nu(o),o.Q_.shutdown(),o.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}zd.provider={build:()=>new zd};function CS(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Bt("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e,t){this.tu=e,this.serializer=t,this.metadata=new In,this.buffer=new Uint8Array,this.nu=function(){return new TextDecoder("utf-8")}(),this.ru().then(r=>{r&&r.la()?this.metadata.resolve(r.ca.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.ca)}`))},r=>this.metadata.reject(r))}close(){return this.tu.cancel()}async getMetadata(){return this.metadata.promise}async Ga(){return await this.getMetadata(),this.ru()}async ru(){const e=await this.iu();if(e===null)return null;const t=this.nu.decode(e),r=Number(t);isNaN(r)&&this.su(`length string (${t}) is not valid number`);const i=await this.ou(r);return new gU(JSON.parse(i),e.length+r)}_u(){return this.buffer.findIndex(e=>e===123)}async iu(){for(;this._u()<0&&!await this.au(););if(this.buffer.length===0)return null;const e=this._u();e<0&&this.su("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async ou(e){for(;this.buffer.length<e;)await this.au()&&this.su("Reached the end of bundle when more is expected.");const t=this.nu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}su(e){throw this.tu.cancel(),new Error(`Invalid bundle format: ${e}`)}async au(){const e=await this.tu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ae(te.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(i,o){const l=ve(i),u={documents:o.map(g=>Ud(l.serializer,g))},d=await l.ko("BatchGetDocuments",l.serializer.databaseId,$e.emptyPath(),u,o.length),f=new Map;d.forEach(g=>{const _=o4(l.serializer,g);f.set(_.key.toString(),_)});const m=[];return o.forEach(g=>{const _=f.get(g.toString());Re(!!_),m.push(_)}),m}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ou(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{const i=_e.fromPath(r);this.mutations.push(new u0(i,this.precondition(i)))}),await async function(r,i){const o=ve(r),l={writes:i.map(u=>Bd(o.serializer,u))};await o.Oo("Commit",o.serializer.databaseId,$e.emptyPath(),l)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ee();t=Pe.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new ae(te.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Pe.min())?It.exists(!1):It.updateTime(t):It.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Pe.min()))throw new ae(te.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return It.updateTime(t)}return It.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e,t,r,i,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=o,this.uu=r.maxAttempts,this.r_=new S0(this.asyncQueue,"transaction_retry")}cu(){this.uu-=1,this.lu()}lu(){this.r_.jo(async()=>{const e=new qU(this.datastore),t=this.hu(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Pu(i)}))}).catch(r=>{this.Pu(r)})})}hu(e){try{const t=this.updateFunction(e);return!ah(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Pu(e){this.uu>0&&this.Tu(e)?(this.uu-=1,this.asyncQueue.enqueueAndForget(()=>(this.lu(),Promise.resolve()))):this.deferred.reject(e)}Tu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!NA(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=hn.UNAUTHENTICATED,this.clientId=Gb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{ue("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(ue("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new In;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Lu(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function c_(n,e){n.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await cP(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function kS(n,e){n.asyncQueue.verifyOperationInProgress();const t=await F0(n);ue("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>IS(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>IS(e.remoteStore,i)),n._onlineComponents=e}async function F0(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await c_(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===te.FAILED_PRECONDITION||i.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Ni("Error using user provided cache. Falling back to memory cache: "+t),await c_(n,new jd)}}else ue("FirestoreClient","Using default OfflineComponentProvider"),await c_(n,new jU(void 0));return n._offlineComponents}async function Lm(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue("FirestoreClient","Using user provided OnlineComponentProvider"),await kS(n,n._uninitializedComponentsProvider._online)):(ue("FirestoreClient","Using default OnlineComponentProvider"),await kS(n,new zd))),n._onlineComponents}function NP(n){return F0(n).then(e=>e.persistence)}function U0(n){return F0(n).then(e=>e.localStore)}function DP(n){return Lm(n).then(e=>e.remoteStore)}function B0(n){return Lm(n).then(e=>e.syncEngine)}function KU(n){return Lm(n).then(e=>e.datastore)}async function gu(n){const e=await Lm(n),t=e.eventManager;return t.onListen=EU.bind(null,e.syncEngine),t.onUnlisten=TU.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=IU.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=SU.bind(null,e.syncEngine),t}function GU(n){return n.asyncQueue.enqueue(async()=>{const e=await NP(n),t=await DP(n);return e.setNetworkEnabled(!0),function(i){const o=ve(i);return o.k_.delete(0),mh(o)}(t)})}function QU(n){return n.asyncQueue.enqueue(async()=>{const e=await NP(n),t=await DP(n);return e.setNetworkEnabled(!1),async function(i){const o=ve(i);o.k_.add(0),await Nu(o),o.K_.set("Offline")}(t)})}function JU(n,e){const t=new In;return n.asyncQueue.enqueueAndForget(async()=>async function(i,o,l){try{const u=await function(f,m){const g=ve(f);return g.persistence.runTransaction("read document","readonly",_=>g.localDocuments.getDocument(_,m))}(i,o);u.isFoundDocument()?l.resolve(u):u.isNoDocument()?l.resolve(null):l.reject(new ae(te.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const d=Lu(u,`Failed to get document '${o} from cache`);l.reject(d)}}(await U0(n),e,t)),t.promise}function VP(n,e,t={}){const r=new In;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,u,d,f){const m=new Vm({next:_=>{m.eu(),l.enqueueAndForget(()=>k0(o,g));const T=_.docs.has(u);!T&&_.fromCache?f.reject(new ae(te.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&_.fromCache&&d&&d.source==="server"?f.reject(new ae(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(_)},error:_=>f.reject(_)}),g=new O0(ku(u.path),m,{includeMetadataChanges:!0,ua:!0});return C0(o,g)}(await gu(n),n.asyncQueue,e,t,r)),r.promise}function YU(n,e){const t=new In;return n.asyncQueue.enqueueAndForget(async()=>async function(i,o,l){try{const u=await Gp(i,o,!0),d=new AP(o,u.ds),f=d.ga(u.documents),m=d.applyChanges(f,!1);l.resolve(m.snapshot)}catch(u){const d=Lu(u,`Failed to execute query '${o} against cache`);l.reject(d)}}(await U0(n),e,t)),t.promise}function LP(n,e,t={}){const r=new In;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,u,d,f){const m=new Vm({next:_=>{m.eu(),l.enqueueAndForget(()=>k0(o,g)),_.fromCache&&d.source==="server"?f.reject(new ae(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(_)},error:_=>f.reject(_)}),g=new O0(u,m,{includeMetadataChanges:!0,ua:!0});return C0(o,g)}(await gu(n),n.asyncQueue,e,t,r)),r.promise}function XU(n,e){const t=new Vm(e);return n.asyncQueue.enqueueAndForget(async()=>function(i,o){ve(i).X_.add(o),o.next()}(await gu(n),t)),()=>{t.eu(),n.asyncQueue.enqueueAndForget(async()=>function(i,o){ve(i).X_.delete(o)}(await gu(n),t))}}function ZU(n,e,t,r){const i=function(l,u){let d;return d=typeof l=="string"?VA().encode(l):l,function(m,g){return new $U(m,g)}(function(m,g){if(m instanceof Uint8Array)return CS(m,g);if(m instanceof ArrayBuffer)return CS(new Uint8Array(m),g);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),u)}(t,ph(e));n.asyncQueue.enqueueAndForget(async()=>{BU(await B0(n),i,r)})}function eB(n,e){return n.asyncQueue.enqueue(async()=>function(r,i){const o=ve(r);return o.persistence.runTransaction("Get named query","readonly",l=>o.jr.getNamedQuery(l,i))}(await U0(n),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(n,e,t){if(!t)throw new ae(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function FP(n,e,t,r){if(e===!0&&r===!0)throw new ae(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function OS(n){if(!_e.isDocumentKey(n))throw new ae(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function NS(n){if(_e.isDocumentKey(n))throw new ae(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Mm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ee()}function Xe(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ae(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Mm(n);throw new ae(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function UP(n,e){if(e<=0)throw new ae(te.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ae(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}FP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ae(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ae(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ae(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gh{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DS({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DS(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new QM;switch(r.type){case"firstParty":return new ZM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=xS.get(t);r&&(ue("ComponentProvider","Removing Datastore"),xS.delete(t),r.terminate())}(this),Promise.resolve()}}function tB(n,e,t,r={}){var i;const o=(n=Xe(n,gh))._getSettings(),l=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==l&&Ni("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),r.mockUserToken){let u,d;if(typeof r.mockUserToken=="string")u=r.mockUserToken,d=hn.MOCK_USER;else{u=rD(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new ae(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new hn(f)}n._authCredentials=new JM(new Kb(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jn=class BP{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new BP(this.firestore,e,this._query)}},At=class jP{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new so(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jP(this.firestore,e,this._key)}},so=class zP extends jn{constructor(e,t,r){super(e,t,ku(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new _e(e))}withConverter(e){return new zP(this.firestore,e,this._path)}};function $P(n,e,...t){if(n=ke(n),j0("collection","path",e),n instanceof gh){const r=$e.fromString(e,...t);return NS(r),new so(n,null,r)}{if(!(n instanceof At||n instanceof so))throw new ae(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child($e.fromString(e,...t));return NS(r),new so(n.firestore,null,r)}}function nB(n,e){if(n=Xe(n,gh),j0("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ae(te.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new jn(n,null,function(r){return new Es($e.emptyPath(),r)}(e))}function Xp(n,e,...t){if(n=ke(n),arguments.length===1&&(e=Gb.newId()),j0("doc","path",e),n instanceof gh){const r=$e.fromString(e,...t);return OS(r),new At(n,null,new _e(r))}{if(!(n instanceof At||n instanceof so))throw new ae(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child($e.fromString(e,...t));return OS(r),new At(n.firestore,n instanceof so?n.converter:null,new _e(r))}}function qP(n,e){return n=ke(n),e=ke(e),(n instanceof At||n instanceof so)&&(e instanceof At||e instanceof so)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function WP(n,e){return n=ke(n),e=ke(e),n instanceof jn&&e instanceof jn&&n.firestore===e.firestore&&uh(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new S0(this,"async_queue_retry"),this.fu=()=>{const r=_p();r&&ue("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const t=_p();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=_p();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new In;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Po(e))throw e;ue("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),u}(r);throw Bt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const i=P0.createAndSchedule(this,e,t,r,o=>this.Su(o));return this.du.push(i),i}pu(){this.Au&&Ee()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}function Z_(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}class rB{constructor(){this._progressObserver={},this._taskCompletionResolver=new In,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iB=-1;let zt=class extends gh{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new VS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new VS(e),this._firestoreClient=void 0,await e}}};function On(n){if(n._terminated)throw new ae(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||HP(n),n._firestoreClient}function HP(n){var e,t,r;const i=n._freezeSettings(),o=function(u,d,f,m){return new CF(u,d,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,MP(m.experimentalLongPollingOptions),m.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new HU(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(u){const d=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(d),_online:d}}(n._componentsProvider))}function sB(n,e){Ni("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return KP(n,zd.provider,{build:r=>new OP(r,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function oB(n){Ni("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();KP(n,zd.provider,{build:t=>new zU(t,e.cacheSizeBytes)})}function KP(n,e,t){if((n=Xe(n,zt))._firestoreClient||n._terminated)throw new ae(te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new ae(te.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},HP(n)}function aB(n){if(n._initialized&&!n._terminated)throw new ae(te.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new In;return n._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!Pi.p())return Promise.resolve();const i=r+"main";await Pi.delete(i)}(E0(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}}),e.promise}function lB(n){return function(t){const r=new In;return t.asyncQueue.enqueueAndForget(async()=>CU(await B0(t),r)),r.promise}(On(n=Xe(n,zt)))}function uB(n){return GU(On(n=Xe(n,zt)))}function cB(n){return QU(On(n=Xe(n,zt)))}function dB(n,e){const t=On(n=Xe(n,zt)),r=new rB;return ZU(t,n._databaseId,e,r),r}function hB(n,e){return eB(On(n=Xe(n,zt)),e).then(t=>t?new jn(n,null,t.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vi(Vt.fromBase64String(e))}catch(t){throw new ae(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Vi(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _o=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ae(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Da=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ae(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ae(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fB=/^__.*__$/;class pB{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ts(e,this.data,this.fieldMask,t,this.fieldTransforms):new xu(e,this.data,t,this.fieldTransforms)}}class GP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ts(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function QP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class Um{constructor(e,t,r,i,o,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Fu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Um(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:r,Nu:!1});return i.Lu(e),i}Bu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Zp(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(QP(this.Mu)&&fB.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class mB{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ph(e)}$u(e,t,r,i=!1){return new Um({Mu:e,methodName:t,Ku:r,path:Et.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Va(n){const e=n._freezeSettings(),t=ph(n._databaseId);return new mB(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Bm(n,e,t,r,i,o={}){const l=n.$u(o.merge||o.mergeFields?2:0,e,t,i);Q0("Data must be an object, but it was:",l,r);const u=XP(r,l);let d,f;if(o.merge)d=new er(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const g of o.mergeFields){const _=ev(e,g,t);if(!l.contains(_))throw new ae(te.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);eC(m,_)||m.push(_)}d=new er(m),f=l.fieldTransforms.filter(g=>d.covers(g.field))}else d=null,f=l.fieldTransforms;return new pB(new En(u),d,f)}class yh extends Da{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yh}}function JP(n,e,t){return new Um({Mu:3,Ku:e.settings.Ku,methodName:n._methodName,Nu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class $0 extends Da{_toFieldTransform(e){return new dh(e.path,new lu)}isEqual(e){return e instanceof $0}}class q0 extends Da{constructor(e,t){super(e),this.Uu=t}_toFieldTransform(e){const t=JP(this,e,!0),r=this.Uu.map(o=>La(o,t)),i=new Ta(r);return new dh(e.path,i)}isEqual(e){return e instanceof q0&&Zl(this.Uu,e.Uu)}}class W0 extends Da{constructor(e,t){super(e),this.Uu=t}_toFieldTransform(e){const t=JP(this,e,!0),r=this.Uu.map(o=>La(o,t)),i=new Sa(r);return new dh(e.path,i)}isEqual(e){return e instanceof W0&&Zl(this.Uu,e.Uu)}}class H0 extends Da{constructor(e,t){super(e),this.Wu=t}_toFieldTransform(e){const t=new uu(e.serializer,bA(e.serializer,this.Wu));return new dh(e.path,t)}isEqual(e){return e instanceof H0&&this.Wu===e.Wu}}function K0(n,e,t,r){const i=n.$u(1,e,t);Q0("Data must be an object, but it was:",i,r);const o=[],l=En.empty();Co(r,(d,f)=>{const m=J0(e,d,t);f=ke(f);const g=i.Bu(m);if(f instanceof yh)o.push(m);else{const _=La(f,g);_!=null&&(o.push(m),l.set(m,_))}});const u=new er(o);return new GP(l,u,i.fieldTransforms)}function G0(n,e,t,r,i,o){const l=n.$u(1,e,t),u=[ev(e,r,t)],d=[i];if(o.length%2!=0)throw new ae(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)u.push(ev(e,o[_])),d.push(o[_+1]);const f=[],m=En.empty();for(let _=u.length-1;_>=0;--_)if(!eC(f,u[_])){const T=u[_];let I=d[_];I=ke(I);const R=l.Bu(T);if(I instanceof yh)f.push(T);else{const P=La(I,R);P!=null&&(f.push(T),m.set(T,P))}}const g=new er(f);return new GP(m,g,l.fieldTransforms)}function YP(n,e,t,r=!1){return La(t,n.$u(r?4:3,e))}function La(n,e){if(ZP(n=ke(n)))return Q0("Unsupported field value:",e,n),XP(n,e);if(n instanceof Da)return function(r,i){if(!QP(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const o=[];let l=0;for(const u of r){let d=La(u,i.ku(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=ke(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bA(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Tt.fromDate(r);return{timestampValue:cu(i.serializer,o)}}if(r instanceof Tt){const o=new Tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:cu(i.serializer,o)}}if(r instanceof Fm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Vi)return{bytesValue:FA(i.serializer,r._byteString)};if(r instanceof At){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.qu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:p0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof z0)return function(l,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw u.qu("VectorValues must only contain numeric values.");return l0(u.serializer,d)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${Mm(r)}`)}(n,e)}function XP(n,e){const t={};return oA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Co(n,(r,i)=>{const o=La(i,e.Ou(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function ZP(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Tt||n instanceof Fm||n instanceof Vi||n instanceof At||n instanceof Da||n instanceof z0)}function Q0(n,e,t){if(!ZP(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=Mm(t);throw r==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+r)}}function ev(n,e,t){if((e=ke(e))instanceof _o)return e._internalPath;if(typeof e=="string")return J0(n,e);throw Zp("Field path arguments must be of type string or ",n,!1,void 0,t)}const gB=new RegExp("[~\\*/\\[\\]]");function J0(n,e,t){if(e.search(gB)>=0)throw Zp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new _o(...e.split("."))._internalPath}catch{throw Zp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Zp(n,e,t,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new ae(te.INVALID_ARGUMENT,u+n+d)}function eC(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class yB extends $d{data(){return super.data()}}function jm(n,e){return typeof e=="string"?J0(n,e):e instanceof _o?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ae(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Y0{}class _h extends Y0{}function Xs(n,e,...t){let r=[];e instanceof Y0&&r.push(e),r=r.concat(t),function(o){const l=o.filter(d=>d instanceof X0).length,u=o.filter(d=>d instanceof zm).length;if(l>1||l>0&&u>0)throw new ae(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class zm extends _h{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new zm(e,t,r)}_apply(e){const t=this._parse(e);return rC(e._query,t),new jn(e.firestore,e.converter,j_(e._query,t))}_parse(e){const t=Va(e.firestore);return function(o,l,u,d,f,m,g){let _;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new ae(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){MS(g,m);const T=[];for(const I of g)T.push(LS(d,o,I));_={arrayValue:{values:T}}}else _=LS(d,o,g)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||MS(g,m),_=YP(u,l,g,m==="in"||m==="not-in");return qe.create(f,m,_)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function _B(n,e,t){const r=e,i=jm("where",n);return zm._create(i,r,t)}class X0 extends Y0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new X0(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:it.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let l=i;const u=o.getFlattenedFilters();for(const d of u)rC(l,d),l=j_(l,d)}(e._query,t),new jn(e.firestore,e.converter,j_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Z0 extends _h{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Z0(e,t)}_apply(e){const t=function(i,o,l){if(i.startAt!==null)throw new ae(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ae(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fd(o,l)}(e._query,this._field,this._direction);return new jn(e.firestore,e.converter,function(i,o){const l=i.explicitOrderBy.concat([o]);return new Es(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function vB(n,e="asc"){const t=e,r=jm("orderBy",n);return Z0._create(r,t)}class $m extends _h{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new $m(e,t,r)}_apply(e){return new jn(e.firestore,e.converter,$p(e._query,this._limit,this._limitType))}}function wB(n){return UP("limit",n),$m._create("limit",n,"F")}function EB(n){return UP("limitToLast",n),$m._create("limitToLast",n,"L")}class qm extends _h{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new qm(e,t,r)}_apply(e){const t=nC(e,this.type,this._docOrFields,this._inclusive);return new jn(e.firestore,e.converter,function(i,o){return new Es(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,t))}}function IB(...n){return qm._create("startAt",n,!0)}function TB(...n){return qm._create("startAfter",n,!1)}class Wm extends _h{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Wm(e,t,r)}_apply(e){const t=nC(e,this.type,this._docOrFields,this._inclusive);return new jn(e.firestore,e.converter,function(i,o){return new Es(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(e._query,t))}}function SB(...n){return Wm._create("endBefore",n,!1)}function RB(...n){return Wm._create("endAt",n,!0)}function nC(n,e,t,r){if(t[0]=ke(t[0]),t[0]instanceof $d)return function(o,l,u,d,f){if(!d)throw new ae(te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const m=[];for(const g of Ql(o))if(g.field.isKeyField())m.push(Ea(l,d.key));else{const _=d.data.field(g.field);if(Rm(_))throw new ae(te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){const T=g.field.canonicalString();throw new ae(te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}m.push(_)}return new go(m,f)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Va(n.firestore);return function(l,u,d,f,m,g){const _=l.explicitOrderBy;if(m.length>_.length)throw new ae(te.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let I=0;I<m.length;I++){const R=m[I];if(_[I].field.isKeyField()){if(typeof R!="string")throw new ae(te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof R}`);if(!o0(l)&&R.indexOf("/")!==-1)throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${R}' contains a slash.`);const P=l.path.child($e.fromString(R));if(!_e.isDocumentKey(P))throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${P}' is not because it contains an odd number of segments.`);const L=new _e(P);T.push(Ea(u,L))}else{const P=YP(d,f,R);T.push(P)}}return new go(T,g)}(n._query,n.firestore._databaseId,i,e,t,r)}}function LS(n,e,t){if(typeof(t=ke(t))=="string"){if(t==="")throw new ae(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!o0(e)&&t.indexOf("/")!==-1)throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child($e.fromString(t));if(!_e.isDocumentKey(r))throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ea(n,new _e(r))}if(t instanceof At)return Ea(n,t._key);throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mm(t)}.`)}function MS(n,e){if(!Array.isArray(n)||n.length===0)throw new ae(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rC(n,e){const t=function(i,o){for(const l of i)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ae(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class ew{convertValue(e,t="none"){switch(po(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Co(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>wt(l.doubleValue));return new z0(o)}convertGeoPoint(e){return new Fm(wt(e.latitude),wt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=bm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Vd(e));default:return null}}convertTimestamp(e){const t=ps(e);return new Tt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=$e.fromString(e);Re(QA(r));const i=new fo(r.get(1),r.get(3)),o=new _e(r.popFirst(5));return i.isEqual(t)||Bt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class bB extends ew{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let gs=class extends $d{constructor(e,t,r,i,o,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ed(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(jm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Ed=class extends gs{data(e={}){return super.data(e)}},vo=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new fa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ed(this._firestore,this._userDataWriter,r.key,r,new fa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ae(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const d=new Ed(i._firestore,i._userDataWriter,u.doc.key,u.doc,new fa(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const d=new Ed(i._firestore,i._userDataWriter,u.doc.key,u.doc,new fa(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,m=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:AB(u.type),doc:d,oldIndex:f,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function AB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}function iC(n,e){return n instanceof gs&&e instanceof gs?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof vo&&e instanceof vo&&n._firestore===e._firestore&&WP(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PB(n){n=Xe(n,At);const e=Xe(n.firestore,zt);return VP(On(e),n._key).then(t=>tw(e,n,t))}class Ma extends ew{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,t)}}function CB(n){n=Xe(n,At);const e=Xe(n.firestore,zt),t=On(e),r=new Ma(e);return JU(t,n._key).then(i=>new gs(e,r,n._key,i,new fa(i!==null&&i.hasLocalMutations,!0),n.converter))}function kB(n){n=Xe(n,At);const e=Xe(n.firestore,zt);return VP(On(e),n._key,{source:"server"}).then(t=>tw(e,n,t))}function xB(n){n=Xe(n,jn);const e=Xe(n.firestore,zt),t=On(e),r=new Ma(e);return tC(n._query),LP(t,n._query).then(i=>new vo(e,r,n,i))}function OB(n){n=Xe(n,jn);const e=Xe(n.firestore,zt),t=On(e),r=new Ma(e);return YU(t,n._query).then(i=>new vo(e,r,n,i))}function NB(n){n=Xe(n,jn);const e=Xe(n.firestore,zt),t=On(e),r=new Ma(e);return LP(t,n._query,{source:"server"}).then(i=>new vo(e,r,n,i))}function FS(n,e,t){n=Xe(n,At);const r=Xe(n.firestore,zt),i=Hm(n.converter,e,t);return vh(r,[Bm(Va(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,It.none())])}function US(n,e,t,...r){n=Xe(n,At);const i=Xe(n.firestore,zt),o=Va(i);let l;return l=typeof(e=ke(e))=="string"||e instanceof _o?G0(o,"updateDoc",n._key,e,t,r):K0(o,"updateDoc",n._key,e),vh(i,[l.toMutation(n._key,It.exists(!0))])}function DB(n){return vh(Xe(n.firestore,zt),[new Ou(n._key,It.none())])}function VB(n,e){const t=Xe(n.firestore,zt),r=Xp(n),i=Hm(n.converter,e);return vh(t,[Bm(Va(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,It.exists(!1))]).then(()=>r)}function sC(n,...e){var t,r,i;n=ke(n);let o={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||Z_(e[l])||(o=e[l],l++);const u={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Z_(e[l])){const g=e[l];e[l]=(t=g.next)===null||t===void 0?void 0:t.bind(g),e[l+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[l+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let d,f,m;if(n instanceof At)f=Xe(n.firestore,zt),m=ku(n._key.path),d={next:g=>{e[l]&&e[l](tw(f,n,g))},error:e[l+1],complete:e[l+2]};else{const g=Xe(n,jn);f=Xe(g.firestore,zt),m=g._query;const _=new Ma(f);d={next:T=>{e[l]&&e[l](new vo(f,_,g,T))},error:e[l+1],complete:e[l+2]},tC(n._query)}return function(_,T,I,R){const P=new Vm(R),L=new O0(T,P,I);return _.asyncQueue.enqueueAndForget(async()=>C0(await gu(_),L)),()=>{P.eu(),_.asyncQueue.enqueueAndForget(async()=>k0(await gu(_),L))}}(On(f),m,u,d)}function LB(n,e){return XU(On(n=Xe(n,zt)),Z_(e)?e:{next:e})}function vh(n,e){return function(r,i){const o=new In;return r.asyncQueue.enqueueAndForget(async()=>RU(await B0(r),i,o)),o.promise}(On(n),e)}function tw(n,e,t){const r=t.docs.get(e._key),i=new Ma(n);return new gs(n,i,e._key,r,new fa(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MB={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FB=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Va(e)}set(e,t,r){this._verifyNotCommitted();const i=eo(e,this._firestore),o=Hm(i.converter,t,r),l=Bm(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,It.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const o=eo(e,this._firestore);let l;return l=typeof(t=ke(t))=="string"||t instanceof _o?G0(this._dataReader,"WriteBatch.update",o._key,t,r,i):K0(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(l.toMutation(o._key,It.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=eo(e,this._firestore);return this._mutations=this._mutations.concat(new Ou(t._key,It.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ae(te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function eo(n,e){if((n=ke(n)).firestore!==e)throw new ae(te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UB=class extends class{constructor(t,r){this._firestore=t,this._transaction=r,this._dataReader=Va(t)}get(t){const r=eo(t,this._firestore),i=new bB(this._firestore);return this._transaction.lookup([r._key]).then(o=>{if(!o||o.length!==1)return Ee();const l=o[0];if(l.isFoundDocument())return new $d(this._firestore,i,l.key,l,r.converter);if(l.isNoDocument())return new $d(this._firestore,i,r._key,null,r.converter);throw Ee()})}set(t,r,i){const o=eo(t,this._firestore),l=Hm(o.converter,r,i),u=Bm(this._dataReader,"Transaction.set",o._key,l,o.converter!==null,i);return this._transaction.set(o._key,u),this}update(t,r,i,...o){const l=eo(t,this._firestore);let u;return u=typeof(r=ke(r))=="string"||r instanceof _o?G0(this._dataReader,"Transaction.update",l._key,r,i,o):K0(this._dataReader,"Transaction.update",l._key,r),this._transaction.update(l._key,u),this}delete(t){const r=eo(t,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=eo(e,this._firestore),r=new Ma(this._firestore);return super.get(e).then(i=>new gs(this._firestore,r,t._key,i._document,new fa(!1,!1),t.converter))}};function BB(n,e,t){n=Xe(n,zt);const r=Object.assign(Object.assign({},MB),t);return function(o){if(o.maxAttempts<1)throw new ae(te.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,l,u){const d=new In;return o.asyncQueue.enqueueAndForget(async()=>{const f=await KU(o);new WU(o.asyncQueue,f,u,l,d).cu()}),d.promise}(On(n),i=>e(new UB(n,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jB(){return new yh("deleteField")}function zB(){return new $0("serverTimestamp")}function $B(...n){return new q0("arrayUnion",n)}function qB(...n){return new W0("arrayRemove",n)}function WB(n){return new H0("increment",n)}(function(e,t=!0){(function(i){Cu=i})(Ro),uo(new xi("firestore",(r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),u=new zt(new YM(r.getProvider("auth-internal")),new tF(r.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ae(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fo(f.options.projectId,m)}(l,i),l);return o=Object.assign({useFetchStreams:t},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),ni(CT,"4.7.5",e),ni(CT,"4.7.5","esm2017")})();const HB="@firebase/firestore-compat",KB="0.3.40";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new ae("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(){if(typeof Uint8Array>"u")throw new ae("unimplemented","Uint8Arrays are not available in this environment.")}function jS(){if(!AF())throw new ae("unimplemented","Blobs are unavailable in Firestore in this environment.")}let oC=class tv{constructor(e){this._delegate=e}static fromBase64String(e){return jS(),new tv(Vi.fromBase64String(e))}static fromUint8Array(e){return BS(),new tv(Vi.fromUint8Array(e))}toBase64(){return jS(),this._delegate.toBase64()}toUint8Array(){return BS(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(n){return GB(n,["next","error","complete"])}function GB(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{enableIndexedDbPersistence(e,t){return sB(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return oB(e._delegate)}clearIndexedDbPersistence(e){return aB(e._delegate)}}class aC{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof fo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ni("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){tB(this._delegate,e,t,r)}enableNetwork(){return uB(this._delegate)}disableNetwork(){return cB(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,FP("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return lB(this._delegate)}onSnapshotsInSync(e){return LB(this._delegate,e)}get app(){if(!this._appCompat)throw new ae("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new yu(this,$P(this._delegate,e))}catch(t){throw Fn(t,"collection()","Firestore.collection()")}}doc(e){try{return new Dr(this,Xp(this._delegate,e))}catch(t){throw Fn(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Mn(this,nB(this._delegate,e))}catch(t){throw Fn(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return BB(this._delegate,t=>e(new lC(this,t)))}batch(){return On(this._delegate),new uC(new FB(this._delegate,e=>vh(this._delegate,e)))}loadBundle(e){return dB(this._delegate,e)}namedQuery(e){return hB(this._delegate,e).then(t=>t?new Mn(this,t):null)}}class Km extends ew{constructor(e){super(),this.firestore=e}convertBytes(e){return new oC(new Vi(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Dr.forKey(t,this.firestore,null)}}function JB(n){KM(n)}class lC{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Km(e)}get(e){const t=pa(e);return this._delegate.get(t).then(r=>new qd(this._firestore,new gs(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=pa(e);return r?(nw("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=pa(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=pa(e);return this._delegate.delete(t),this}}class uC{constructor(e){this._delegate=e}set(e,t,r){const i=pa(e);return r?(nw("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=pa(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=pa(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Pa{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Ed(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Wd(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Pa.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(t);return o||(o=new Pa(e,new Km(e),t),i.set(t,o)),o}}Pa.INSTANCES=new WeakMap;class Dr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Km(e)}static forPath(e,t,r){if(e.length%2!==0)throw new ae("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Dr(t,new At(t._delegate,r,new _e(e)))}static forKey(e,t,r){return new Dr(t,new At(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new yu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new yu(this.firestore,$P(this._delegate,e))}catch(t){throw Fn(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=ke(e),e instanceof At?qP(this._delegate,e):!1}set(e,t){t=nw("DocumentReference.set",t);try{return t?FS(this._delegate,e,t):FS(this._delegate,e)}catch(r){throw Fn(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?US(this._delegate,e):US(this._delegate,e,t,...r)}catch(i){throw Fn(i,"updateDoc()","DocumentReference.update()")}}delete(){return DB(this._delegate)}onSnapshot(...e){const t=cC(e),r=dC(e,i=>new qd(this.firestore,new gs(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return sC(this._delegate,t,r)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=CB(this._delegate):(e==null?void 0:e.source)==="server"?t=kB(this._delegate):t=PB(this._delegate),t.then(r=>new qd(this.firestore,new gs(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Dr(this.firestore,e?this._delegate.withConverter(Pa.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Fn(n,e,t){return n.message=n.message.replace(e,t),n}function cC(n){for(const e of n)if(typeof e=="object"&&!nv(e))return e;return{}}function dC(n,e){var t,r;let i;return nv(n[0])?i=n[0]:nv(n[1])?i=n[1]:typeof n[0]=="function"?i={next:n[0],error:n[1],complete:n[2]}:i={next:n[1],error:n[2],complete:n[3]},{next:o=>{i.next&&i.next(e(o))},error:(t=i.error)===null||t===void 0?void 0:t.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class qd{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Dr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return iC(this._delegate,e._delegate)}}class Wd extends qd{data(e){const t=this._delegate.data(e);return this._delegate._converter||GM(t!==void 0),t}}class Mn{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Km(e)}where(e,t,r){try{return new Mn(this.firestore,Xs(this._delegate,_B(e,t,r)))}catch(i){throw Fn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Mn(this.firestore,Xs(this._delegate,vB(e,t)))}catch(r){throw Fn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Mn(this.firestore,Xs(this._delegate,wB(e)))}catch(t){throw Fn(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Mn(this.firestore,Xs(this._delegate,EB(e)))}catch(t){throw Fn(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Mn(this.firestore,Xs(this._delegate,IB(...e)))}catch(t){throw Fn(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Mn(this.firestore,Xs(this._delegate,TB(...e)))}catch(t){throw Fn(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Mn(this.firestore,Xs(this._delegate,SB(...e)))}catch(t){throw Fn(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Mn(this.firestore,Xs(this._delegate,RB(...e)))}catch(t){throw Fn(t,"endAt()","Query.endAt()")}}isEqual(e){return WP(this._delegate,e._delegate)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=OB(this._delegate):(e==null?void 0:e.source)==="server"?t=NB(this._delegate):t=xB(this._delegate),t.then(r=>new rv(this.firestore,new vo(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=cC(e),r=dC(e,i=>new rv(this.firestore,new vo(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return sC(this._delegate,t,r)}withConverter(e){return new Mn(this.firestore,e?this._delegate.withConverter(Pa.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class YB{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Wd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class rv{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Mn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Wd(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new YB(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Wd(this._firestore,r))})}isEqual(e){return iC(this._delegate,e._delegate)}}class yu extends Mn{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Dr(this.firestore,e):null}doc(e){try{return e===void 0?new Dr(this.firestore,Xp(this._delegate)):new Dr(this.firestore,Xp(this._delegate,e))}catch(t){throw Fn(t,"doc()","CollectionReference.doc()")}}add(e){return VB(this._delegate,e).then(t=>new Dr(this.firestore,t))}isEqual(e){return qP(this._delegate,e._delegate)}withConverter(e){return new yu(this.firestore,e?this._delegate.withConverter(Pa.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function pa(n){return Xe(n,At)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(...e){this._delegate=new _o(...e)}static documentId(){return new rw(Et.keyField().canonicalString())}isEqual(e){return e=ke(e),e instanceof _o?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{static serverTimestamp(){const e=zB();return e._methodName="FieldValue.serverTimestamp",new da(e)}static delete(){const e=jB();return e._methodName="FieldValue.delete",new da(e)}static arrayUnion(...e){const t=$B(...e);return t._methodName="FieldValue.arrayUnion",new da(t)}static arrayRemove(...e){const t=qB(...e);return t._methodName="FieldValue.arrayRemove",new da(t)}static increment(e){const t=WB(e);return t._methodName="FieldValue.increment",new da(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XB={Firestore:aC,GeoPoint:Fm,Timestamp:Tt,Blob:oC,Transaction:lC,WriteBatch:uC,DocumentReference:Dr,DocumentSnapshot:qd,Query:Mn,QueryDocumentSnapshot:Wd,QuerySnapshot:rv,CollectionReference:yu,FieldPath:rw,FieldValue:da,setLogLevel:JB,CACHE_SIZE_UNLIMITED:iB};function ZB(n,e){n.INTERNAL.registerComponent(new xi("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},XB)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ej(n){ZB(n,(e,t)=>new aC(e,t,new QB)),n.registerVersion(HB,KB)}ej(Ru);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj=2e3;async function nj(n,e,t){var r;const{BuildInfo:i}=Ca();ri(e.sessionId,"AuthEvent did not contain a session ID");const o=await aj(e.sessionId),l={};return nh()?l.ibi=i.packageName:th()?l.apn=i.packageName:pn(n,"operation-not-supported-in-this-environment"),i.displayName&&(l.appDisplayName=i.displayName),l.sessionId=o,O_(n,t,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,l)}async function rj(n){const{BuildInfo:e}=Ca(),t={};nh()?t.iosBundleId=e.packageName:th()?t.androidPackageName=e.packageName:pn(n,"operation-not-supported-in-this-environment"),await Fb(n,t)}function ij(n){const{cordova:e}=Ca();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,eV()?"_blank":"_system","location=yes"),t(i)})})}async function sj(n,e,t){const{cordova:r}=Ca();let i=()=>{};try{await new Promise((o,l)=>{let u=null;function d(){var g;o();const _=(g=r.plugins.browsertab)===null||g===void 0?void 0:g.close;typeof _=="function"&&_(),typeof(t==null?void 0:t.close)=="function"&&t.close()}function f(){u||(u=window.setTimeout(()=>{l(rn(n,"redirect-cancelled-by-user"))},tj))}function m(){(document==null?void 0:document.visibilityState)==="visible"&&f()}e.addPassiveListener(d),document.addEventListener("resume",f,!1),th()&&document.addEventListener("visibilitychange",m,!1),i=()=>{e.removePassiveListener(d),document.removeEventListener("resume",f,!1),document.removeEventListener("visibilitychange",m,!1),u&&window.clearTimeout(u)}})}finally{i()}}function oj(n){var e,t,r,i,o,l,u,d,f,m;const g=Ca();fe(typeof((e=g==null?void 0:g.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),fe(typeof((t=g==null?void 0:g.BuildInfo)===null||t===void 0?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),fe(typeof((o=(i=(r=g==null?void 0:g.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),fe(typeof((d=(u=(l=g==null?void 0:g.cordova)===null||l===void 0?void 0:l.plugins)===null||u===void 0?void 0:u.browsertab)===null||d===void 0?void 0:d.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),fe(typeof((m=(f=g==null?void 0:g.cordova)===null||f===void 0?void 0:f.InAppBrowser)===null||m===void 0?void 0:m.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function aj(n){const e=lj(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")}function lj(n){if(ri(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj=20;class cj extends Lb{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function dj(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:pj(),postBody:null,tenantId:n.tenantId,error:rn(n,"no-auth-event")}}function hj(n,e){return iv()._set(sv(n),e)}async function zS(n){const e=await iv()._get(sv(n));return e&&await iv()._remove(sv(n)),e}function fj(n,e){var t,r;const i=gj(e);if(i.includes("/__/auth/callback")){const o=vp(i),l=o.firebaseError?mj(decodeURIComponent(o.firebaseError)):null,u=(r=(t=l==null?void 0:l.code)===null||t===void 0?void 0:t.split("auth/"))===null||r===void 0?void 0:r[1],d=u?rn(u):null;return d?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:d,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:i,postBody:null}}return null}function pj(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<uj;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function iv(){return gr(vm)}function sv(n){return ga("authEvent",n.config.apiKey,n.name)}function mj(n){try{return JSON.parse(n)}catch{return null}}function gj(n){const e=vp(n),t=e.link?decodeURIComponent(e.link):void 0,r=vp(t).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return vp(i).link||i||r||t||n}function vp(n){if(!(n!=null&&n.includes("?")))return{};const[e,...t]=n.split("?");return ql(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj=500;class _j{constructor(){this._redirectPersistence=co,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Tm,this._overrideRedirectResult=Zv}async _initialize(e){const t=e._key();let r=this.eventManagers.get(t);return r||(r=new cj(e),this.eventManagers.set(t,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){pn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,r,i){oj(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),nM(),await this._originValidation(e);const l=dj(e,r,i);await hj(e,l);const u=await nj(e,l,t),d=await ij(u);return sj(e,o,d)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=rj(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:i,BuildInfo:o}=Ca(),l=setTimeout(async()=>{await zS(e),t.onEvent($S())},yj),u=async m=>{clearTimeout(l);const g=await zS(e);let _=null;g&&(m!=null&&m.url)&&(_=fj(g,m.url)),t.onEvent(_||$S())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,u);const d=i,f=`${o.packageName.toLowerCase()}://`;Ca().handleOpenURL=async m=>{if(m.toLowerCase().startsWith(f)&&u({url:m}),typeof d=="function")try{d(m)}catch(g){console.error(g)}}}}const vj=_j;function $S(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:rn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(n,e){Ct(n)._logFramework(e)}var Ej="@firebase/auth-compat",Ij="0.5.16";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj=1e3;function Id(){var n;return((n=self==null?void 0:self.location)===null||n===void 0?void 0:n.protocol)||null}function Sj(){return Id()==="http:"||Id()==="https:"}function hC(n=Pt()){return!!((Id()==="file:"||Id()==="ionic:"||Id()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function Rj(){return Ov()||xv()}function bj(){return CR()&&(document==null?void 0:document.documentMode)===11}function Aj(n=Pt()){return/Edge\/\d+/.test(n)}function Pj(n=Pt()){return bj()||Aj(n)}function fC(){try{const n=self.localStorage,e=sh();if(n)return n.setItem(e,"1"),n.removeItem(e),Pj()?bd():!0}catch{return iw()&&bd()}return!1}function iw(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function d_(){return(Sj()||PR()||hC())&&!Rj()&&fC()&&!iw()}function pC(){return hC()&&typeof document<"u"}async function Cj(){return pC()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},Tj);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function kj(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr={LOCAL:"local",NONE:"none",SESSION:"session"},zc=fe,mC="persistence";function xj(n,e){if(zc(Object.values(pr).includes(e),n,"invalid-persistence-type"),Ov()){zc(e!==pr.SESSION,n,"unsupported-persistence-type");return}if(xv()){zc(e===pr.NONE,n,"unsupported-persistence-type");return}if(iw()){zc(e===pr.NONE||e===pr.LOCAL&&bd(),n,"unsupported-persistence-type");return}zc(e===pr.NONE||fC(),n,"unsupported-persistence-type")}async function ov(n){await n._initializationPromise;const e=gC(),t=ga(mC,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistence())}function Oj(n,e){const t=gC();if(!t)return[];const r=ga(mC,n,e);switch(t.getItem(r)){case pr.NONE:return[nu];case pr.LOCAL:return[iu,co];case pr.SESSION:return[co];default:return[]}}function gC(){var n;try{return((n=kj())===null||n===void 0?void 0:n.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj=fe;class no{constructor(){this.browserResolver=gr(Ub),this.cordovaResolver=gr(vj),this.underlyingResolver=null,this._redirectPersistence=co,this._completeRedirectFn=Tm,this._overrideRedirectResult=Zv}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,r,i)}async _openRedirect(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,r,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return pC()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Nj(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await Cj();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(n){return n.unwrap()}function Dj(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(n){return _C(n)}function Lj(n,e){var t;const r=(t=e.customData)===null||t===void 0?void 0:t._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new Mj(n,yL(n,e))}else if(r){const i=_C(e),o=e;i&&(o.credential=i,o.tenantId=r.tenantId||void 0,o.email=r.email||void 0,o.phoneNumber=r.phoneNumber||void 0)}}function _C(n){const{_tokenResponse:e}=n instanceof Un?n.customData:n;if(!e)return null;if(!(n instanceof Un)&&"temporaryProof"in e&&"phoneNumber"in e)return wa.credentialFromResult(n);const t=e.providerId;if(!t||t===Vc.PASSWORD)return null;let r;switch(t){case Vc.GOOGLE:r=Ei;break;case Vc.FACEBOOK:r=wi;break;case Vc.GITHUB:r=Ii;break;case Vc.TWITTER:r=Ti;break;default:const{oauthIdToken:i,oauthAccessToken:o,oauthTokenSecret:l,pendingToken:u,nonce:d}=e;return!o&&!l&&!i&&!u?null:u?t.startsWith("saml.")?ru._create(t,u):Oi._fromParams({providerId:t,signInMethod:t,pendingToken:u,idToken:i,accessToken:o}):new Kl(t).credential({idToken:i,accessToken:o,rawNonce:d})}return n instanceof Un?r.credentialFromError(n):r.credentialFromResult(n)}function Xn(n,e){return e.catch(t=>{throw t instanceof Un&&Lj(n,t),t}).then(t=>{const r=t.operationType,i=t.user;return{operationType:r,credential:Vj(t),additionalUserInfo:pL(t),user:ls.getOrCreate(i)}})}async function av(n,e){const t=await e;return{verificationId:t.verificationId,confirm:r=>Xn(n,t.confirm(r))}}class Mj{constructor(e,t){this.resolver=t,this.auth=Dj(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Xn(yC(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this._delegate=e,this.multiFactor=wL(e)}static getOrCreate(e){return ls.USER_MAP.has(e)||ls.USER_MAP.set(e,new ls(e)),ls.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Xn(this.auth,vb(this._delegate,e))}async linkWithPhoneNumber(e,t){return av(this.auth,$L(this._delegate,e,t))}async linkWithPopup(e){return Xn(this.auth,XL(this._delegate,e,no))}async linkWithRedirect(e){return await ov(Ct(this.auth)),aM(this._delegate,e,no)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Xn(this.auth,wb(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return av(this.auth,qL(this._delegate,e,t))}reauthenticateWithPopup(e){return Xn(this.auth,YL(this._delegate,e,no))}async reauthenticateWithRedirect(e){return await ov(Ct(this.auth)),sM(this._delegate,e,no)}sendEmailVerification(e){return rL(this._delegate,e)}async unlink(e){return await WV(this._delegate,e),this}updateEmail(e){return aL(this._delegate,e)}updatePassword(e){return lL(this._delegate,e)}updatePhoneNumber(e){return WL(this._delegate,e)}updateProfile(e){return oL(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return iL(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ls.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=fe;let lv=class{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;$c(r,"invalid-api-key",{appName:e.name}),$c(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?no:void 0;this._delegate=t.initialize({options:{persistence:Fj(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(V2),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ls.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){db(this._delegate,e,t)}applyActionCode(e){return JV(this._delegate,e)}checkActionCode(e){return Eb(this._delegate,e)}confirmPasswordReset(e,t){return QV(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return Xn(this._delegate,Ib(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return nL(this._delegate,e)}isSignInWithEmailLink(e){return ZV(this._delegate,e)}async getRedirectResult(){$c(d_(),this._delegate,"operation-not-supported-in-this-environment");const e=await uM(this._delegate,no);return e?Xn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){wj(this._delegate,e)}onAuthStateChanged(e,t,r){const{next:i,error:o,complete:l}=qS(e,t,r);return this._delegate.onAuthStateChanged(i,o,l)}onIdTokenChanged(e,t,r){const{next:i,error:o,complete:l}=qS(e,t,r);return this._delegate.onIdTokenChanged(i,o,l)}sendSignInLinkToEmail(e,t){return XV(this._delegate,e,t)}sendPasswordResetEmail(e,t){return GV(this._delegate,e,t||void 0)}async setPersistence(e){xj(this._delegate,e);let t;switch(e){case pr.SESSION:t=co;break;case pr.LOCAL:t=await gr(iu)._isAvailable()?iu:vm;break;case pr.NONE:t=nu;break;default:return pn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Xn(this._delegate,qV(this._delegate))}signInWithCredential(e){return Xn(this._delegate,ym(this._delegate,e))}signInWithCustomToken(e){return Xn(this._delegate,KV(this._delegate,e))}signInWithEmailAndPassword(e,t){return Xn(this._delegate,Tb(this._delegate,e,t))}signInWithEmailLink(e,t){return Xn(this._delegate,eL(this._delegate,e,t))}signInWithPhoneNumber(e,t){return av(this._delegate,zL(this._delegate,e,t))}async signInWithPopup(e){return $c(d_(),this._delegate,"operation-not-supported-in-this-environment"),Xn(this._delegate,JL(this._delegate,e,no))}async signInWithRedirect(e){return $c(d_(),this._delegate,"operation-not-supported-in-this-environment"),await ov(this._delegate),rM(this._delegate,e,no)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return YV(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}};lv.Persistence=pr;function qS(n,e,t){let r=n;typeof n!="function"&&({next:r,error:e,complete:t}=n);const i=r;return{next:l=>i(l&&ls.getOrCreate(l)),error:e,complete:t}}function Fj(n,e){const t=Oj(n,e);if(typeof self<"u"&&!t.includes(iu)&&t.push(iu),typeof window<"u")for(const r of[vm,co])t.includes(r)||t.push(r);return t.includes(nu)||t.push(nu),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{static credential(e,t){return wa.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new wa(yC(Ru.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}sw.PHONE_SIGN_IN_METHOD=wa.PHONE_SIGN_IN_METHOD;sw.PROVIDER_ID=wa.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj=fe;class Bj{constructor(e,t,r=Ru.app()){var i;Uj((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new BL(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj="auth-compat";function zj(n){n.INTERNAL.registerComponent(new xi(jj,e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new lv(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Pl.EMAIL_SIGNIN,PASSWORD_RESET:Pl.PASSWORD_RESET,RECOVER_EMAIL:Pl.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Pl.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Pl.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Pl.VERIFY_EMAIL}},EmailAuthProvider:bo,FacebookAuthProvider:wi,GithubAuthProvider:Ii,GoogleAuthProvider:Ei,OAuthProvider:Kl,SAMLAuthProvider:Lp,PhoneAuthProvider:sw,PhoneMultiFactorGenerator:Bb,RecaptchaVerifier:Bj,TwitterAuthProvider:Ti,Auth:lv,AuthCredential:Au,Error:Un}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(Ej,Ij)}zj(Ru);const $j={apiKey:"AIzaSyCJ-Jfjy-brT4WZKT9JSsIxsyzXG5FGe8o",authDomain:"reb-7ceb2.firebaseapp.com",projectId:"reb-7ceb2",storageBucket:"reb-7ceb2.firebasestorage.app",messagingSenderId:"1040432014131",appId:"1:1040432014131:web:fd3a7e91b5583e4b9ad446"},vC=Ru.initializeApp($j),em=WM(vC),wC=vC.firestore(),qj=()=>{var r;const[{user:n,basket:e},t]=K.useContext(_s);return e==null||e.reduce((i,o)=>o.amount+i,0),B.jsxs("section",{className:rs.fixed,children:[B.jsxs("div",{className:rs.header_container,children:[B.jsxs("div",{className:rs.logo_container,children:[B.jsx(Si,{to:"/",children:B.jsx("img",{src:"https://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:"Amazon logo"})}),B.jsxs("div",{className:rs.delivery,children:[B.jsx("span",{children:B.jsx(LN,{})}),B.jsxs("div",{children:[B.jsx("p",{children:"Deliver to"}),B.jsx("span",{children:" ksa"})]})]})]}),B.jsxs("div",{className:rs.search,children:[B.jsx("select",{name:"",id:"",children:B.jsx("option",{value:"",children:"All"})}),B.jsx("input",{type:"text",name:"",id:"",placeholder:" search product"}),B.jsx(DN,{size:38})]}),B.jsx("div",{children:B.jsxs("div",{className:rs.order_container,children:[B.jsxs("a",{href:"",className:rs.language,children:[B.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0d/Flag_of_Saudi_Arabia.svg/1200px-Flag_of_Saudi_Arabia.svg.png",alt:""}),B.jsx("select",{name:"",id:"",children:B.jsx("option",{value:"",children:"EN"})})]}),B.jsx(Si,{to:!n&&"/auth",children:B.jsx("div",{children:B.jsx("div",{children:n?B.jsxs(B.Fragment,{children:[B.jsxs("p",{children:["Hello ",(r=n==null?void 0:n.email)==null?void 0:r.split("@")[0]]}),B.jsx("span",{onClick:()=>em.signOut(),children:"Sign Out"})]}):B.jsxs(B.Fragment,{children:[B.jsx("p",{children:"Hello , Sign In"}),B.jsx("span",{children:"Account & Lists"})]})})})}),B.jsxs(Si,{to:"/orders",children:[B.jsx("p",{children:"returns"}),B.jsx("span",{children:"& Orders"})]}),B.jsxs(Si,{to:"/cart",className:rs.cart,children:[B.jsx(VN,{size:35}),B.jsx("span",{children:e.length})]})]})})]}),B.jsx(KN,{})]})},ds=({children:n})=>B.jsxs(ze.Fragment,{children:[B.jsx(qj,{}),n]});ds.propTypes={children:je.node.isRequired};const Wj="_hero_img_zvz5l_3",Hj="_carousel_zvz5l_85",Kj={hero_img:Wj,carousel:Hj};var h_={},qc={},Yf={},Xf={},WS;function Gj(){return WS||(WS=1,function(n){(function(e,t){t(n,Io(),nR())})(Xf,function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=I;var i=l(t),o=l(r);function l(V){return V&&V.__esModule?V:{default:V}}var u=Object.assign||function(V){for(var U=1;U<arguments.length;U++){var q=arguments[U];for(var j in q)Object.prototype.hasOwnProperty.call(q,j)&&(V[j]=q[j])}return V};function d(V,U){var q={};for(var j in V)U.indexOf(j)>=0||Object.prototype.hasOwnProperty.call(V,j)&&(q[j]=V[j]);return q}function f(V,U){if(!(V instanceof U))throw new TypeError("Cannot call a class as a function")}var m=function(){function V(U,q){for(var j=0;j<q.length;j++){var W=q[j];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(U,W.key,W)}}return function(U,q,j){return q&&V(U.prototype,q),j&&V(U,j),U}}();function g(V,U){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:V}function _(V,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);V.prototype=Object.create(U&&U.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(V,U):V.__proto__=U)}var T=!1;function I(V){T=V}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){I(!0)}}))}catch{}function R(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return T?V:V.capture}function P(V){if("touches"in V){var U=V.touches[0],q=U.pageX,j=U.pageY;return{x:q,y:j}}var W=V.screenX,D=V.screenY;return{x:W,y:D}}var L=function(V){_(U,V);function U(){var q;f(this,U);for(var j=arguments.length,W=Array(j),D=0;D<j;D++)W[D]=arguments[D];var b=g(this,(q=U.__proto__||Object.getPrototypeOf(U)).call.apply(q,[this].concat(W)));return b._handleSwipeStart=b._handleSwipeStart.bind(b),b._handleSwipeMove=b._handleSwipeMove.bind(b),b._handleSwipeEnd=b._handleSwipeEnd.bind(b),b._onMouseDown=b._onMouseDown.bind(b),b._onMouseMove=b._onMouseMove.bind(b),b._onMouseUp=b._onMouseUp.bind(b),b._setSwiperRef=b._setSwiperRef.bind(b),b}return m(U,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,R({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,R({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(j){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(j))}},{key:"_onMouseMove",value:function(j){this.mouseDown&&this._handleSwipeMove(j)}},{key:"_onMouseUp",value:function(j){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(j)}},{key:"_handleSwipeStart",value:function(j){var W=P(j),D=W.x,b=W.y;this.moveStart={x:D,y:b},this.props.onSwipeStart(j)}},{key:"_handleSwipeMove",value:function(j){if(this.moveStart){var W=P(j),D=W.x,b=W.y,C=D-this.moveStart.x,E=b-this.moveStart.y;this.moving=!0;var O=this.props.onSwipeMove({x:C,y:E},j);O&&j.cancelable&&j.preventDefault(),this.movePosition={deltaX:C,deltaY:E}}}},{key:"_handleSwipeEnd",value:function(j){this.props.onSwipeEnd(j);var W=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-W?this.props.onSwipeLeft(1,j):this.movePosition.deltaX>W&&this.props.onSwipeRight(1,j),this.movePosition.deltaY<-W?this.props.onSwipeUp(1,j):this.movePosition.deltaY>W&&this.props.onSwipeDown(1,j)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(j){this.swiper=j,this.props.innerRef(j)}},{key:"render",value:function(){var j=this.props;j.tagName;var W=j.className,D=j.style,b=j.children;j.allowMouseEvents,j.onSwipeUp,j.onSwipeDown,j.onSwipeLeft,j.onSwipeRight,j.onSwipeStart,j.onSwipeMove,j.onSwipeEnd,j.innerRef,j.tolerance;var C=d(j,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return i.default.createElement(this.props.tagName,u({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:W,style:D},C),b)}}]),U}(t.Component);L.displayName="ReactSwipe",L.propTypes={tagName:o.default.string,className:o.default.string,style:o.default.object,children:o.default.node,allowMouseEvents:o.default.bool,onSwipeUp:o.default.func,onSwipeDown:o.default.func,onSwipeLeft:o.default.func,onSwipeRight:o.default.func,onSwipeStart:o.default.func,onSwipeMove:o.default.func,onSwipeEnd:o.default.func,innerRef:o.default.func,tolerance:o.default.number.isRequired},L.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=L})}(Xf)),Xf}var HS;function EC(){return HS||(HS=1,function(n){(function(e,t){t(n,Gj())})(Yf,function(e,t){Object.defineProperty(e,"__esModule",{value:!0});var r=i(t);function i(o){return o&&o.__esModule?o:{default:o}}e.default=r.default})}(Yf)),Yf}var Wc={},f_={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var KS;function Qj(){return KS||(KS=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",l=0;l<arguments.length;l++){var u=arguments[l];u&&(o=i(o,r(u)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var l="";for(var u in o)e.call(o,u)&&o[u]&&(l=i(l,u));return l}function i(o,l){return l?o?o+" "+l:o+l:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(f_)),f_.exports}var GS;function IC(){if(GS)return Wc;GS=1,Object.defineProperty(Wc,"__esModule",{value:!0}),Wc.default=void 0;var n=e(Qj());function e(i){return i&&i.__esModule?i:{default:i}}function t(i,o,l){return o in i?Object.defineProperty(i,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[o]=l,i}var r={ROOT:function(o){return(0,n.default)(t({"carousel-root":!0},o||"",!!o))},CAROUSEL:function(o){return(0,n.default)({carousel:!0,"carousel-slider":o})},WRAPPER:function(o,l){return(0,n.default)({"thumbs-wrapper":!o,"slider-wrapper":o,"axis-horizontal":l==="horizontal","axis-vertical":l!=="horizontal"})},SLIDER:function(o,l){return(0,n.default)({thumbs:!o,slider:o,animated:!l})},ITEM:function(o,l,u){return(0,n.default)({thumb:!o,slide:o,selected:l,previous:u})},ARROW_PREV:function(o){return(0,n.default)({"control-arrow control-prev":!0,"control-disabled":o})},ARROW_NEXT:function(o){return(0,n.default)({"control-arrow control-next":!0,"control-disabled":o})},DOT:function(o){return(0,n.default)({dot:!0,selected:o})}};return Wc.default=r,Wc}var Hc={},Kc={},QS;function Jj(){if(QS)return Kc;QS=1,Object.defineProperty(Kc,"__esModule",{value:!0}),Kc.outerWidth=void 0;var n=function(t){var r=t.offsetWidth,i=getComputedStyle(t);return r+=parseInt(i.marginLeft)+parseInt(i.marginRight),r};return Kc.outerWidth=n,Kc}var Gc={},JS;function ow(){if(JS)return Gc;JS=1,Object.defineProperty(Gc,"__esModule",{value:!0}),Gc.default=void 0;var n=function(t,r,i){var o=t===0?t:t+r,l=i==="horizontal"?[o,0,0]:[0,o,0],u="translate3d",d="("+l.join(",")+")";return u+d};return Gc.default=n,Gc}var Qc={},YS;function TC(){if(YS)return Qc;YS=1,Object.defineProperty(Qc,"__esModule",{value:!0}),Qc.default=void 0;var n=function(){return window};return Qc.default=n,Qc}var XS;function SC(){if(XS)return Hc;XS=1,Object.defineProperty(Hc,"__esModule",{value:!0}),Hc.default=void 0;var n=d(Io()),e=l(IC()),t=Jj(),r=l(ow()),i=l(EC()),o=l(TC());function l(b){return b&&b.__esModule?b:{default:b}}function u(){if(typeof WeakMap!="function")return null;var b=new WeakMap;return u=function(){return b},b}function d(b){if(b&&b.__esModule)return b;if(b===null||f(b)!=="object"&&typeof b!="function")return{default:b};var C=u();if(C&&C.has(b))return C.get(b);var E={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var k in b)if(Object.prototype.hasOwnProperty.call(b,k)){var x=O?Object.getOwnPropertyDescriptor(b,k):null;x&&(x.get||x.set)?Object.defineProperty(E,k,x):E[k]=b[k]}return E.default=b,C&&C.set(b,E),E}function f(b){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?f=function(E){return typeof E}:f=function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},f(b)}function m(){return m=Object.assign||function(b){for(var C=1;C<arguments.length;C++){var E=arguments[C];for(var O in E)Object.prototype.hasOwnProperty.call(E,O)&&(b[O]=E[O])}return b},m.apply(this,arguments)}function g(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}function _(b,C){for(var E=0;E<C.length;E++){var O=C[E];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(b,O.key,O)}}function T(b,C,E){return C&&_(b.prototype,C),b}function I(b,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),C&&R(b,C)}function R(b,C){return R=Object.setPrototypeOf||function(O,k){return O.__proto__=k,O},R(b,C)}function P(b){var C=U();return function(){var O=q(b),k;if(C){var x=q(this).constructor;k=Reflect.construct(O,arguments,x)}else k=O.apply(this,arguments);return L(this,k)}}function L(b,C){return C&&(f(C)==="object"||typeof C=="function")?C:V(b)}function V(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function q(b){return q=Object.setPrototypeOf?Object.getPrototypeOf:function(E){return E.__proto__||Object.getPrototypeOf(E)},q(b)}function j(b,C,E){return C in b?Object.defineProperty(b,C,{value:E,enumerable:!0,configurable:!0,writable:!0}):b[C]=E,b}var W=function(C){return C.hasOwnProperty("key")},D=function(b){I(E,b);var C=P(E);function E(O){var k;return g(this,E),k=C.call(this,O),j(V(k),"itemsWrapperRef",void 0),j(V(k),"itemsListRef",void 0),j(V(k),"thumbsRef",void 0),j(V(k),"setItemsWrapperRef",function(x){k.itemsWrapperRef=x}),j(V(k),"setItemsListRef",function(x){k.itemsListRef=x}),j(V(k),"setThumbsRef",function(x,ee){k.thumbsRef||(k.thumbsRef=[]),k.thumbsRef[ee]=x}),j(V(k),"updateSizes",function(){if(!(!k.props.children||!k.itemsWrapperRef||!k.thumbsRef)){var x=n.Children.count(k.props.children),ee=k.itemsWrapperRef.clientWidth,M=k.props.thumbWidth?k.props.thumbWidth:(0,t.outerWidth)(k.thumbsRef[0]),me=Math.floor(ee/M),oe=me<x,X=oe?x-me:0;k.setState(function(pe,de){return{itemSize:M,visibleItems:me,firstItem:oe?k.getFirstItem(de.selectedItem):0,lastPosition:X,showArrows:oe}})}}),j(V(k),"handleClickItem",function(x,ee,M){if(!W(M)||M.key==="Enter"){var me=k.props.onSelectItem;typeof me=="function"&&me(x,ee)}}),j(V(k),"onSwipeStart",function(){k.setState({swiping:!0})}),j(V(k),"onSwipeEnd",function(){k.setState({swiping:!1})}),j(V(k),"onSwipeMove",function(x){var ee=x.x;if(!k.state.itemSize||!k.itemsWrapperRef||!k.state.visibleItems)return!1;var M=0,me=n.Children.count(k.props.children),oe=-(k.state.firstItem*100)/k.state.visibleItems,X=Math.max(me-k.state.visibleItems,0),pe=-X*100/k.state.visibleItems;oe===M&&ee>0&&(ee=0),oe===pe&&ee<0&&(ee=0);var de=k.itemsWrapperRef.clientWidth,$=oe+100/(de/ee);return k.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(ie){k.itemsListRef.style[ie]=(0,r.default)($,"%",k.props.axis)}),!0}),j(V(k),"slideRight",function(x){k.moveTo(k.state.firstItem-(typeof x=="number"?x:1))}),j(V(k),"slideLeft",function(x){k.moveTo(k.state.firstItem+(typeof x=="number"?x:1))}),j(V(k),"moveTo",function(x){x=x<0?0:x,x=x>=k.state.lastPosition?k.state.lastPosition:x,k.setState({firstItem:x})}),k.state={selectedItem:O.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},k}return T(E,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(k){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==k.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(k){var x=k;return k>=this.state.lastPosition&&(x=this.state.lastPosition),k<this.state.firstItem+this.state.visibleItems&&(x=this.state.firstItem),k<this.state.firstItem&&(x=k),x}},{key:"renderItems",value:function(){var k=this;return this.props.children.map(function(x,ee){var M=e.default.ITEM(!1,ee===k.state.selectedItem),me={key:ee,ref:function(X){return k.setThumbsRef(X,ee)},className:M,onClick:k.handleClickItem.bind(k,ee,k.props.children[ee]),onKeyDown:k.handleClickItem.bind(k,ee,k.props.children[ee]),"aria-label":"".concat(k.props.labels.item," ").concat(ee+1),style:{width:k.props.thumbWidth}};return n.default.createElement("li",m({},me,{role:"button",tabIndex:0}),x)})}},{key:"render",value:function(){var k=this;if(!this.props.children)return null;var x=n.Children.count(this.props.children)>1,ee=this.state.showArrows&&this.state.firstItem>0,M=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,me={},oe=-this.state.firstItem*(this.state.itemSize||0),X=(0,r.default)(oe,"px",this.props.axis),pe=this.props.transitionTime+"ms";return me={WebkitTransform:X,MozTransform:X,MsTransform:X,OTransform:X,transform:X,msTransform:X,WebkitTransitionDuration:pe,MozTransitionDuration:pe,MsTransitionDuration:pe,OTransitionDuration:pe,transitionDuration:pe,msTransitionDuration:pe},n.default.createElement("div",{className:e.default.CAROUSEL(!1)},n.default.createElement("div",{className:e.default.WRAPPER(!1),ref:this.setItemsWrapperRef},n.default.createElement("button",{type:"button",className:e.default.ARROW_PREV(!ee),onClick:function(){return k.slideRight()},"aria-label":this.props.labels.leftArrow}),x?n.default.createElement(i.default,{tagName:"ul",className:e.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:me,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):n.default.createElement("ul",{className:e.default.SLIDER(!1,this.state.swiping),ref:function($){return k.setItemsListRef($)},style:me},this.renderItems()),n.default.createElement("button",{type:"button",className:e.default.ARROW_NEXT(!M),onClick:function(){return k.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),E}(n.Component);return Hc.default=D,j(D,"displayName","Thumbs"),j(D,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350}),Hc}var Jc={},ZS;function Yj(){if(ZS)return Jc;ZS=1,Object.defineProperty(Jc,"__esModule",{value:!0}),Jc.default=void 0;var n=function(){return document};return Jc.default=n,Jc}var hr={},e1;function RC(){if(e1)return hr;e1=1,Object.defineProperty(hr,"__esModule",{value:!0}),hr.setPosition=hr.getPosition=hr.isKeyboardEvent=hr.defaultStatusFormatter=hr.noop=void 0;var n=Io(),e=t(ow());function t(d){return d&&d.__esModule?d:{default:d}}var r=function(){};hr.noop=r;var i=function(f,m){return"".concat(f," of ").concat(m)};hr.defaultStatusFormatter=i;var o=function(f){return f?f.hasOwnProperty("key"):!1};hr.isKeyboardEvent=o;var l=function(f,m){if(m.infiniteLoop&&++f,f===0)return 0;var g=n.Children.count(m.children);if(m.centerMode&&m.axis==="horizontal"){var _=-f*m.centerSlidePercentage,T=g-1;return f&&(f!==T||m.infiniteLoop)?_+=(100-m.centerSlidePercentage)/2:f===T&&(_+=100-m.centerSlidePercentage),_}return-f*100};hr.getPosition=l;var u=function(f,m){var g={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(_){g[_]=(0,e.default)(f,"%",m)}),g};return hr.setPosition=u,hr}var ei={},t1;function Xj(){if(t1)return ei;t1=1,Object.defineProperty(ei,"__esModule",{value:!0}),ei.fadeAnimationHandler=ei.slideStopSwipingHandler=ei.slideSwipeAnimationHandler=ei.slideAnimationHandler=void 0;var n=Io(),e=r(ow()),t=RC();function r(g){return g&&g.__esModule?g:{default:g}}function i(g,_){var T=Object.keys(g);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(g);_&&(I=I.filter(function(R){return Object.getOwnPropertyDescriptor(g,R).enumerable})),T.push.apply(T,I)}return T}function o(g){for(var _=1;_<arguments.length;_++){var T=arguments[_]!=null?arguments[_]:{};_%2?i(Object(T),!0).forEach(function(I){l(g,I,T[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(T)):i(Object(T)).forEach(function(I){Object.defineProperty(g,I,Object.getOwnPropertyDescriptor(T,I))})}return g}function l(g,_,T){return _ in g?Object.defineProperty(g,_,{value:T,enumerable:!0,configurable:!0,writable:!0}):g[_]=T,g}var u=function(_,T){var I={},R=T.selectedItem,P=R,L=n.Children.count(_.children)-1,V=_.infiniteLoop&&(R<0||R>L);if(V)return P<0?_.centerMode&&_.centerSlidePercentage&&_.axis==="horizontal"?I.itemListStyle=(0,t.setPosition)(-(L+2)*_.centerSlidePercentage-(100-_.centerSlidePercentage)/2,_.axis):I.itemListStyle=(0,t.setPosition)(-(L+2)*100,_.axis):P>L&&(I.itemListStyle=(0,t.setPosition)(0,_.axis)),I;var U=(0,t.getPosition)(R,_),q=(0,e.default)(U,"%",_.axis),j=_.transitionTime+"ms";return I.itemListStyle={WebkitTransform:q,msTransform:q,OTransform:q,transform:q},T.swiping||(I.itemListStyle=o(o({},I.itemListStyle),{},{WebkitTransitionDuration:j,MozTransitionDuration:j,OTransitionDuration:j,transitionDuration:j,msTransitionDuration:j})),I};ei.slideAnimationHandler=u;var d=function(_,T,I,R){var P={},L=T.axis==="horizontal",V=n.Children.count(T.children),U=0,q=(0,t.getPosition)(I.selectedItem,T),j=T.infiniteLoop?(0,t.getPosition)(V-1,T)-100:(0,t.getPosition)(V-1,T),W=L?_.x:_.y,D=W;q===U&&W>0&&(D=0),q===j&&W<0&&(D=0);var b=q+100/(I.itemSize/D),C=Math.abs(W)>T.swipeScrollTolerance;return T.infiniteLoop&&C&&(I.selectedItem===0&&b>-100?b-=V*100:I.selectedItem===V-1&&b<-V*100&&(b+=V*100)),(!T.preventMovementUntilSwipeScrollTolerance||C||I.swipeMovementStarted)&&(I.swipeMovementStarted||R({swipeMovementStarted:!0}),P.itemListStyle=(0,t.setPosition)(b,T.axis)),C&&!I.cancelClick&&R({cancelClick:!0}),P};ei.slideSwipeAnimationHandler=d;var f=function(_,T){var I=(0,t.getPosition)(T.selectedItem,_),R=(0,t.setPosition)(I,_.axis);return{itemListStyle:R}};ei.slideStopSwipingHandler=f;var m=function(_,T){var I=_.transitionTime+"ms",R="ease-in-out",P={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:R,msTransitionTimingFunction:R,MozTransitionTimingFunction:R,WebkitTransitionTimingFunction:R,OTransitionTimingFunction:R};return T.swiping||(P=o(o({},P),{},{WebkitTransitionDuration:I,MozTransitionDuration:I,OTransitionDuration:I,transitionDuration:I,msTransitionDuration:I})),{slideStyle:P,selectedStyle:o(o({},P),{},{opacity:1,position:"relative"}),prevStyle:o({},P)}};return ei.fadeAnimationHandler=m,ei}var n1;function Zj(){if(n1)return qc;n1=1,Object.defineProperty(qc,"__esModule",{value:!0}),qc.default=void 0;var n=m(Io()),e=d(EC()),t=d(IC()),r=d(SC()),i=d(Yj()),o=d(TC()),l=RC(),u=Xj();function d(O){return O&&O.__esModule?O:{default:O}}function f(){if(typeof WeakMap!="function")return null;var O=new WeakMap;return f=function(){return O},O}function m(O){if(O&&O.__esModule)return O;if(O===null||g(O)!=="object"&&typeof O!="function")return{default:O};var k=f();if(k&&k.has(O))return k.get(O);var x={},ee=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var M in O)if(Object.prototype.hasOwnProperty.call(O,M)){var me=ee?Object.getOwnPropertyDescriptor(O,M):null;me&&(me.get||me.set)?Object.defineProperty(x,M,me):x[M]=O[M]}return x.default=O,k&&k.set(O,x),x}function g(O){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?g=function(x){return typeof x}:g=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},g(O)}function _(){return _=Object.assign||function(O){for(var k=1;k<arguments.length;k++){var x=arguments[k];for(var ee in x)Object.prototype.hasOwnProperty.call(x,ee)&&(O[ee]=x[ee])}return O},_.apply(this,arguments)}function T(O,k){var x=Object.keys(O);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(O);k&&(ee=ee.filter(function(M){return Object.getOwnPropertyDescriptor(O,M).enumerable})),x.push.apply(x,ee)}return x}function I(O){for(var k=1;k<arguments.length;k++){var x=arguments[k]!=null?arguments[k]:{};k%2?T(Object(x),!0).forEach(function(ee){C(O,ee,x[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(x)):T(Object(x)).forEach(function(ee){Object.defineProperty(O,ee,Object.getOwnPropertyDescriptor(x,ee))})}return O}function R(O,k){if(!(O instanceof k))throw new TypeError("Cannot call a class as a function")}function P(O,k){for(var x=0;x<k.length;x++){var ee=k[x];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(O,ee.key,ee)}}function L(O,k,x){return k&&P(O.prototype,k),O}function V(O,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(k&&k.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),k&&U(O,k)}function U(O,k){return U=Object.setPrototypeOf||function(ee,M){return ee.__proto__=M,ee},U(O,k)}function q(O){var k=D();return function(){var ee=b(O),M;if(k){var me=b(this).constructor;M=Reflect.construct(ee,arguments,me)}else M=ee.apply(this,arguments);return j(this,M)}}function j(O,k){return k&&(g(k)==="object"||typeof k=="function")?k:W(O)}function W(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function D(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function b(O){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},b(O)}function C(O,k,x){return k in O?Object.defineProperty(O,k,{value:x,enumerable:!0,configurable:!0,writable:!0}):O[k]=x,O}var E=function(O){V(x,O);var k=q(x);function x(ee){var M;R(this,x),M=k.call(this,ee),C(W(M),"thumbsRef",void 0),C(W(M),"carouselWrapperRef",void 0),C(W(M),"listRef",void 0),C(W(M),"itemsRef",void 0),C(W(M),"timer",void 0),C(W(M),"animationHandler",void 0),C(W(M),"setThumbsRef",function(oe){M.thumbsRef=oe}),C(W(M),"setCarouselWrapperRef",function(oe){M.carouselWrapperRef=oe}),C(W(M),"setListRef",function(oe){M.listRef=oe}),C(W(M),"setItemsRef",function(oe,X){M.itemsRef||(M.itemsRef=[]),M.itemsRef[X]=oe}),C(W(M),"autoPlay",function(){n.Children.count(M.props.children)<=1||(M.clearAutoPlay(),M.props.autoPlay&&(M.timer=setTimeout(function(){M.increment()},M.props.interval)))}),C(W(M),"clearAutoPlay",function(){M.timer&&clearTimeout(M.timer)}),C(W(M),"resetAutoPlay",function(){M.clearAutoPlay(),M.autoPlay()}),C(W(M),"stopOnHover",function(){M.setState({isMouseEntered:!0},M.clearAutoPlay)}),C(W(M),"startOnLeave",function(){M.setState({isMouseEntered:!1},M.autoPlay)}),C(W(M),"isFocusWithinTheCarousel",function(){return M.carouselWrapperRef?!!((0,i.default)().activeElement===M.carouselWrapperRef||M.carouselWrapperRef.contains((0,i.default)().activeElement)):!1}),C(W(M),"navigateWithKeyboard",function(oe){if(M.isFocusWithinTheCarousel()){var X=M.props.axis,pe=X==="horizontal",de={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},$=pe?de.ArrowRight:de.ArrowDown,ie=pe?de.ArrowLeft:de.ArrowUp;$===oe.keyCode?M.increment():ie===oe.keyCode&&M.decrement()}}),C(W(M),"updateSizes",function(){if(!(!M.state.initialized||!M.itemsRef||M.itemsRef.length===0)){var oe=M.props.axis==="horizontal",X=M.itemsRef[0];if(X){var pe=oe?X.clientWidth:X.clientHeight;M.setState({itemSize:pe}),M.thumbsRef&&M.thumbsRef.updateSizes()}}}),C(W(M),"setMountState",function(){M.setState({hasMount:!0}),M.updateSizes()}),C(W(M),"handleClickItem",function(oe,X){if(n.Children.count(M.props.children)!==0){if(M.state.cancelClick){M.setState({cancelClick:!1});return}M.props.onClickItem(oe,X),oe!==M.state.selectedItem&&M.setState({selectedItem:oe})}}),C(W(M),"handleOnChange",function(oe,X){n.Children.count(M.props.children)<=1||M.props.onChange(oe,X)}),C(W(M),"handleClickThumb",function(oe,X){M.props.onClickThumb(oe,X),M.moveTo(oe)}),C(W(M),"onSwipeStart",function(oe){M.setState({swiping:!0}),M.props.onSwipeStart(oe)}),C(W(M),"onSwipeEnd",function(oe){M.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),M.props.onSwipeEnd(oe),M.clearAutoPlay(),M.state.autoPlay&&M.autoPlay()}),C(W(M),"onSwipeMove",function(oe,X){M.props.onSwipeMove(X);var pe=M.props.swipeAnimationHandler(oe,M.props,M.state,M.setState.bind(W(M)));return M.setState(I({},pe)),!!Object.keys(pe).length}),C(W(M),"decrement",function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;M.moveTo(M.state.selectedItem-(typeof oe=="number"?oe:1))}),C(W(M),"increment",function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;M.moveTo(M.state.selectedItem+(typeof oe=="number"?oe:1))}),C(W(M),"moveTo",function(oe){if(typeof oe=="number"){var X=n.Children.count(M.props.children)-1;oe<0&&(oe=M.props.infiniteLoop?X:0),oe>X&&(oe=M.props.infiniteLoop?0:X),M.selectItem({selectedItem:oe}),M.state.autoPlay&&M.state.isMouseEntered===!1&&M.resetAutoPlay()}}),C(W(M),"onClickNext",function(){M.increment(1)}),C(W(M),"onClickPrev",function(){M.decrement(1)}),C(W(M),"onSwipeForward",function(){M.increment(1),M.props.emulateTouch&&M.setState({cancelClick:!0})}),C(W(M),"onSwipeBackwards",function(){M.decrement(1),M.props.emulateTouch&&M.setState({cancelClick:!0})}),C(W(M),"changeItem",function(oe){return function(X){(!(0,l.isKeyboardEvent)(X)||X.key==="Enter")&&M.moveTo(oe)}}),C(W(M),"selectItem",function(oe){M.setState(I({previousItem:M.state.selectedItem},oe),function(){M.setState(M.animationHandler(M.props,M.state))}),M.handleOnChange(oe.selectedItem,n.Children.toArray(M.props.children)[oe.selectedItem])}),C(W(M),"getInitialImage",function(){var oe=M.props.selectedItem,X=M.itemsRef&&M.itemsRef[oe],pe=X&&X.getElementsByTagName("img")||[];return pe[0]}),C(W(M),"getVariableItemHeight",function(oe){var X=M.itemsRef&&M.itemsRef[oe];if(M.state.hasMount&&X&&X.children.length){var pe=X.children[0].getElementsByTagName("img")||[];if(pe.length>0){var de=pe[0];if(!de.complete){var $=function Ce(){M.forceUpdate(),de.removeEventListener("load",Ce)};de.addEventListener("load",$)}}var ie=pe[0]||X.children[0],Te=ie.clientHeight;return Te>0?Te:null}return null});var me={initialized:!1,previousItem:ee.selectedItem,selectedItem:ee.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:ee.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return M.animationHandler=typeof ee.animationHandler=="function"&&ee.animationHandler||ee.animationHandler==="fade"&&u.fadeAnimationHandler||u.slideAnimationHandler,M.state=I(I({},me),M.animationHandler(ee,me)),M}return L(x,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(M,me){!M.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!M.autoFocus&&this.props.autoFocus&&this.forceFocus(),me.swiping&&!this.state.swiping&&this.setState(I({},this.props.stopSwipingHandler(this.props,this.state))),(M.selectedItem!==this.props.selectedItem||M.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),M.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var M=this;this.bindEvents(),this.state.autoPlay&&n.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var me=M.getInitialImage();me&&!me.complete?me.addEventListener("load",M.setMountState):M.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var M=this.carouselWrapperRef;this.props.stopOnHover&&M&&(M.addEventListener("mouseenter",this.stopOnHover),M.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var M=this.carouselWrapperRef;this.props.stopOnHover&&M&&(M.removeEventListener("mouseenter",this.stopOnHover),M.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,i.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var M=this.getInitialImage();M&&M.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,i.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var M;(M=this.carouselWrapperRef)===null||M===void 0||M.focus()}},{key:"renderItems",value:function(M){var me=this;return this.props.children?n.Children.map(this.props.children,function(oe,X){var pe=X===me.state.selectedItem,de=X===me.state.previousItem,$=pe&&me.state.selectedStyle||de&&me.state.prevStyle||me.state.slideStyle||{};me.props.centerMode&&me.props.axis==="horizontal"&&($=I(I({},$),{},{minWidth:me.props.centerSlidePercentage+"%"})),me.state.swiping&&me.state.swipeMovementStarted&&($=I(I({},$),{},{pointerEvents:"none"}));var ie={ref:function(Ce){return me.setItemsRef(Ce,X)},key:"itemKey"+X+(M?"clone":""),className:t.default.ITEM(!0,X===me.state.selectedItem,X===me.state.previousItem),onClick:me.handleClickItem.bind(me,X,oe),style:$};return n.default.createElement("li",ie,me.props.renderItem(oe,{isSelected:X===me.state.selectedItem,isPrevious:X===me.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var M=this,me=this.props,oe=me.showIndicators,X=me.labels,pe=me.renderIndicator,de=me.children;return oe?n.default.createElement("ul",{className:"control-dots"},n.Children.map(de,function($,ie){return pe&&pe(M.changeItem(ie),ie===M.state.selectedItem,ie,X.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?n.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,n.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||n.Children.count(this.props.children)===0?null:n.default.createElement(r.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var M=this;if(!this.props.children||n.Children.count(this.props.children)===0)return null;var me=this.props.swipeable&&n.Children.count(this.props.children)>1,oe=this.props.axis==="horizontal",X=this.props.showArrows&&n.Children.count(this.props.children)>1,pe=X&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,de=X&&(this.state.selectedItem<n.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,$=this.renderItems(!0),ie=$.shift(),Te=$.pop(),Ce={className:t.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},Ve={};if(oe){if(Ce.onSwipeLeft=this.onSwipeForward,Ce.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var Fe=this.getVariableItemHeight(this.state.selectedItem);Ve.height=Fe||"auto"}}else Ce.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,Ce.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,Ce.style=I(I({},Ce.style),{},{height:this.state.itemSize}),Ve.height=this.state.itemSize;return n.default.createElement("div",{"aria-label":this.props.ariaLabel,className:t.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},n.default.createElement("div",{className:t.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,pe,this.props.labels.leftArrow),n.default.createElement("div",{className:t.default.WRAPPER(!0,this.props.axis),style:Ve},me?n.default.createElement(e.default,_({tagName:"ul",innerRef:this.setListRef},Ce,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&Te,this.renderItems(),this.props.infiniteLoop&&ie):n.default.createElement("ul",{className:t.default.SLIDER(!0,this.state.swiping),ref:function(We){return M.setListRef(We)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&Te,this.renderItems(),this.props.infiniteLoop&&ie)),this.props.renderArrowNext(this.onClickNext,de,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),x}(n.default.Component);return qc.default=E,C(E,"displayName","Carousel"),C(E,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:l.noop,onClickThumb:l.noop,onChange:l.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(k,x,ee){return n.default.createElement("button",{type:"button","aria-label":ee,className:t.default.ARROW_PREV(!x),onClick:k})},renderArrowNext:function(k,x,ee){return n.default.createElement("button",{type:"button","aria-label":ee,className:t.default.ARROW_NEXT(!x),onClick:k})},renderIndicator:function(k,x,ee,M){return n.default.createElement("li",{className:t.default.DOT(x),onClick:k,onKeyDown:k,value:ee,key:ee,role:"button",tabIndex:0,"aria-label":"".concat(M," ").concat(ee+1)})},renderItem:function(k){return k},renderThumbs:function(k){var x=n.Children.map(k,function(ee){var M=ee;if(ee.type!=="img"&&(M=n.Children.toArray(ee.props.children).find(function(me){return me.type==="img"})),!!M)return M});return x.filter(function(ee){return ee}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):x},statusFormatter:l.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:u.slideSwipeAnimationHandler,stopSwipingHandler:u.slideStopSwipingHandler}),qc}var r1={},i1;function e5(){return i1||(i1=1),r1}var s1;function t5(){return s1||(s1=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(n,"CarouselProps",{enumerable:!0,get:function(){return t.CarouselProps}}),Object.defineProperty(n,"Thumbs",{enumerable:!0,get:function(){return r.default}});var e=i(Zj()),t=e5(),r=i(SC());function i(o){return o&&o.__esModule?o:{default:o}}}(h_)),h_}var n5=t5();const r5="/assets/10001%20(1)-Cpb4bvy9.jpg",i5="/assets/10002%20(1)-CJtHwW7L.jpg",s5="/assets/10003%20(1)-BDcxK7H6.jpg",o5="/assets/10004%20(1)-Fp0oaH3y.jpg",a5="/assets/10005%20(1)-BRftKkGe.jpg",l5=[r5,i5,s5,o5,a5];function u5(){return B.jsxs("div",{children:[B.jsx(n5.Carousel,{autoPlay:!0,infiniteLoop:!0,showIndicators:!1,showThumbs:!1,children:l5.map((n,e)=>B.jsx("img",{src:n,alt:`carousel image ${e}`},e))}),B.jsx("div",{className:Kj.hero__img})]})}const c5=[{title:"Electronics",name:"electronics",imgLink:"https://images-na.ssl-images-amazon.com/images/G/01/US-hq/2024/img/Events/XCM_CUTTLE_1794506_4218865_400x400_2X_en_US_ENTB._CB543173343_.jpg"},{title:"Discover Fashion trends",name:"women's clothing",imgLink:"https://m.media-amazon.com/images/I/71Ok6oJqweL.AC_UL320.jpg"},{title:"Men's Clothing",name:"men's clothing",imgLink:"https://m.media-amazon.com/images/I/712iPqGUc4L.AC_SX569.jpg"},{title:"Jewelery",name:"jewelery",imgLink:"https://m.media-amazon.com/images/I/71r7eWuCsaL.AC_UL480_FMwebp_AL65_.jpg"}],d5="_category_1a2u0_5",h5="_category_container_1a2u0_67",bC={category:d5,category_container:h5};function f5({data:n}){return B.jsx("div",{className:bC.category,children:B.jsxs(Si,{to:`/category/${n.name}`,children:[B.jsx("span",{children:B.jsx("h2",{children:n==null?void 0:n.title})}),B.jsx("img",{src:n==null?void 0:n.imgLink,alt:n.name}),B.jsx("p",{children:"Shop now"})]})})}function p5(){return B.jsx("section",{className:bC.category_container,children:c5.map(n=>B.jsx(f5,{data:n},n.name))})}function AC(n,e){return function(){return n.apply(e,arguments)}}const{toString:m5}=Object.prototype,{getPrototypeOf:aw}=Object,Gm=(n=>e=>{const t=m5.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ii=n=>(n=n.toLowerCase(),e=>Gm(e)===n),Qm=n=>e=>typeof e===n,{isArray:Mu}=Array,Hd=Qm("undefined");function g5(n){return n!==null&&!Hd(n)&&n.constructor!==null&&!Hd(n.constructor)&&yr(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const PC=ii("ArrayBuffer");function y5(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&PC(n.buffer),e}const _5=Qm("string"),yr=Qm("function"),CC=Qm("number"),Jm=n=>n!==null&&typeof n=="object",v5=n=>n===!0||n===!1,wp=n=>{if(Gm(n)!=="object")return!1;const e=aw(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},w5=ii("Date"),E5=ii("File"),I5=ii("Blob"),T5=ii("FileList"),S5=n=>Jm(n)&&yr(n.pipe),R5=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||yr(n.append)&&((e=Gm(n))==="formdata"||e==="object"&&yr(n.toString)&&n.toString()==="[object FormData]"))},b5=ii("URLSearchParams"),[A5,P5,C5,k5]=["ReadableStream","Request","Response","Headers"].map(ii),x5=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wh(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),Mu(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const o=t?Object.getOwnPropertyNames(n):Object.keys(n),l=o.length;let u;for(r=0;r<l;r++)u=o[r],e.call(null,n[u],u,n)}}function kC(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const ma=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,xC=n=>!Hd(n)&&n!==ma;function uv(){const{caseless:n}=xC(this)&&this||{},e={},t=(r,i)=>{const o=n&&kC(e,i)||i;wp(e[o])&&wp(r)?e[o]=uv(e[o],r):wp(r)?e[o]=uv({},r):Mu(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&wh(arguments[r],t);return e}const O5=(n,e,t,{allOwnKeys:r}={})=>(wh(e,(i,o)=>{t&&yr(i)?n[o]=AC(i,t):n[o]=i},{allOwnKeys:r}),n),N5=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),D5=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},V5=(n,e,t,r)=>{let i,o,l;const u={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),o=i.length;o-- >0;)l=i[o],(!r||r(l,n,e))&&!u[l]&&(e[l]=n[l],u[l]=!0);n=t!==!1&&aw(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},L5=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},M5=n=>{if(!n)return null;if(Mu(n))return n;let e=n.length;if(!CC(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},F5=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&aw(Uint8Array)),U5=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(n,o[0],o[1])}},B5=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},j5=ii("HTMLFormElement"),z5=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),o1=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),$5=ii("RegExp"),OC=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};wh(t,(i,o)=>{let l;(l=e(i,o,n))!==!1&&(r[o]=l||i)}),Object.defineProperties(n,r)},q5=n=>{OC(n,(e,t)=>{if(yr(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(yr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},W5=(n,e)=>{const t={},r=i=>{i.forEach(o=>{t[o]=!0})};return Mu(n)?r(n):r(String(n).split(e)),t},H5=()=>{},K5=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,p_="abcdefghijklmnopqrstuvwxyz",a1="0123456789",NC={DIGIT:a1,ALPHA:p_,ALPHA_DIGIT:p_+p_.toUpperCase()+a1},G5=(n=16,e=NC.ALPHA_DIGIT)=>{let t="";const{length:r}=e;for(;n--;)t+=e[Math.random()*r|0];return t};function Q5(n){return!!(n&&yr(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const J5=n=>{const e=new Array(10),t=(r,i)=>{if(Jm(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=Mu(r)?[]:{};return wh(r,(l,u)=>{const d=t(l,i+1);!Hd(d)&&(o[u]=d)}),e[i]=void 0,o}}return r};return t(n,0)},Y5=ii("AsyncFunction"),X5=n=>n&&(Jm(n)||yr(n))&&yr(n.then)&&yr(n.catch),DC=((n,e)=>n?setImmediate:e?((t,r)=>(ma.addEventListener("message",({source:i,data:o})=>{i===ma&&o===t&&r.length&&r.shift()()},!1),i=>{r.push(i),ma.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",yr(ma.postMessage)),Z5=typeof queueMicrotask<"u"?queueMicrotask.bind(ma):typeof process<"u"&&process.nextTick||DC,re={isArray:Mu,isArrayBuffer:PC,isBuffer:g5,isFormData:R5,isArrayBufferView:y5,isString:_5,isNumber:CC,isBoolean:v5,isObject:Jm,isPlainObject:wp,isReadableStream:A5,isRequest:P5,isResponse:C5,isHeaders:k5,isUndefined:Hd,isDate:w5,isFile:E5,isBlob:I5,isRegExp:$5,isFunction:yr,isStream:S5,isURLSearchParams:b5,isTypedArray:F5,isFileList:T5,forEach:wh,merge:uv,extend:O5,trim:x5,stripBOM:N5,inherits:D5,toFlatObject:V5,kindOf:Gm,kindOfTest:ii,endsWith:L5,toArray:M5,forEachEntry:U5,matchAll:B5,isHTMLForm:j5,hasOwnProperty:o1,hasOwnProp:o1,reduceDescriptors:OC,freezeMethods:q5,toObjectSet:W5,toCamelCase:z5,noop:H5,toFiniteNumber:K5,findKey:kC,global:ma,isContextDefined:xC,ALPHABET:NC,generateString:G5,isSpecCompliantForm:Q5,toJSONObject:J5,isAsyncFn:Y5,isThenable:X5,setImmediate:DC,asap:Z5};function Le(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}re.inherits(Le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:re.toJSONObject(this.config),code:this.code,status:this.status}}});const VC=Le.prototype,LC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{LC[n]={value:n}});Object.defineProperties(Le,LC);Object.defineProperty(VC,"isAxiosError",{value:!0});Le.from=(n,e,t,r,i,o)=>{const l=Object.create(VC);return re.toFlatObject(n,l,function(d){return d!==Error.prototype},u=>u!=="isAxiosError"),Le.call(l,n.message,e,t,r,i),l.cause=n,l.name=n.name,o&&Object.assign(l,o),l};const e3=null;function cv(n){return re.isPlainObject(n)||re.isArray(n)}function MC(n){return re.endsWith(n,"[]")?n.slice(0,-2):n}function l1(n,e,t){return n?n.concat(e).map(function(i,o){return i=MC(i),!t&&o?"["+i+"]":i}).join(t?".":""):e}function t3(n){return re.isArray(n)&&!n.some(cv)}const n3=re.toFlatObject(re,{},null,function(e){return/^is[A-Z]/.test(e)});function Ym(n,e,t){if(!re.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=re.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,P){return!re.isUndefined(P[R])});const r=t.metaTokens,i=t.visitor||m,o=t.dots,l=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&re.isSpecCompliantForm(e);if(!re.isFunction(i))throw new TypeError("visitor must be a function");function f(I){if(I===null)return"";if(re.isDate(I))return I.toISOString();if(!d&&re.isBlob(I))throw new Le("Blob is not supported. Use a Buffer instead.");return re.isArrayBuffer(I)||re.isTypedArray(I)?d&&typeof Blob=="function"?new Blob([I]):Buffer.from(I):I}function m(I,R,P){let L=I;if(I&&!P&&typeof I=="object"){if(re.endsWith(R,"{}"))R=r?R:R.slice(0,-2),I=JSON.stringify(I);else if(re.isArray(I)&&t3(I)||(re.isFileList(I)||re.endsWith(R,"[]"))&&(L=re.toArray(I)))return R=MC(R),L.forEach(function(U,q){!(re.isUndefined(U)||U===null)&&e.append(l===!0?l1([R],q,o):l===null?R:R+"[]",f(U))}),!1}return cv(I)?!0:(e.append(l1(P,R,o),f(I)),!1)}const g=[],_=Object.assign(n3,{defaultVisitor:m,convertValue:f,isVisitable:cv});function T(I,R){if(!re.isUndefined(I)){if(g.indexOf(I)!==-1)throw Error("Circular reference detected in "+R.join("."));g.push(I),re.forEach(I,function(L,V){(!(re.isUndefined(L)||L===null)&&i.call(e,L,re.isString(V)?V.trim():V,R,_))===!0&&T(L,R?R.concat(V):[V])}),g.pop()}}if(!re.isObject(n))throw new TypeError("data must be an object");return T(n),e}function u1(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function lw(n,e){this._pairs=[],n&&Ym(n,this,e)}const FC=lw.prototype;FC.append=function(e,t){this._pairs.push([e,t])};FC.toString=function(e){const t=e?function(r){return e.call(this,r,u1)}:u1;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function r3(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function UC(n,e,t){if(!e)return n;const r=t&&t.encode||r3;re.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let o;if(i?o=i(e,t):o=re.isURLSearchParams(e)?e.toString():new lw(e,t).toString(r),o){const l=n.indexOf("#");l!==-1&&(n=n.slice(0,l)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class c1{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){re.forEach(this.handlers,function(r){r!==null&&e(r)})}}const BC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},i3=typeof URLSearchParams<"u"?URLSearchParams:lw,s3=typeof FormData<"u"?FormData:null,o3=typeof Blob<"u"?Blob:null,a3={isBrowser:!0,classes:{URLSearchParams:i3,FormData:s3,Blob:o3},protocols:["http","https","file","blob","url","data"]},uw=typeof window<"u"&&typeof document<"u",dv=typeof navigator=="object"&&navigator||void 0,l3=uw&&(!dv||["ReactNative","NativeScript","NS"].indexOf(dv.product)<0),u3=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",c3=uw&&window.location.href||"http://localhost",d3=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:uw,hasStandardBrowserEnv:l3,hasStandardBrowserWebWorkerEnv:u3,navigator:dv,origin:c3},Symbol.toStringTag,{value:"Module"})),kn={...d3,...a3};function h3(n,e){return Ym(n,new kn.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,o){return kn.isNode&&re.isBuffer(t)?(this.append(r,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function f3(n){return re.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function p3(n){const e={},t=Object.keys(n);let r;const i=t.length;let o;for(r=0;r<i;r++)o=t[r],e[o]=n[o];return e}function jC(n){function e(t,r,i,o){let l=t[o++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=o>=t.length;return l=!l&&re.isArray(i)?i.length:l,d?(re.hasOwnProp(i,l)?i[l]=[i[l],r]:i[l]=r,!u):((!i[l]||!re.isObject(i[l]))&&(i[l]=[]),e(t,r,i[l],o)&&re.isArray(i[l])&&(i[l]=p3(i[l])),!u)}if(re.isFormData(n)&&re.isFunction(n.entries)){const t={};return re.forEachEntry(n,(r,i)=>{e(f3(r),i,t,0)}),t}return null}function m3(n,e,t){if(re.isString(n))try{return(e||JSON.parse)(n),re.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(n)}const Eh={transitional:BC,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,o=re.isObject(e);if(o&&re.isHTMLForm(e)&&(e=new FormData(e)),re.isFormData(e))return i?JSON.stringify(jC(e)):e;if(re.isArrayBuffer(e)||re.isBuffer(e)||re.isStream(e)||re.isFile(e)||re.isBlob(e)||re.isReadableStream(e))return e;if(re.isArrayBufferView(e))return e.buffer;if(re.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return h3(e,this.formSerializer).toString();if((u=re.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Ym(u?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),m3(e)):e}],transformResponse:[function(e){const t=this.transitional||Eh.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(re.isResponse(e)||re.isReadableStream(e))return e;if(e&&re.isString(e)&&(r&&!this.responseType||i)){const l=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(u){if(l)throw u.name==="SyntaxError"?Le.from(u,Le.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:kn.classes.FormData,Blob:kn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};re.forEach(["delete","get","head","post","put","patch"],n=>{Eh.headers[n]={}});const g3=re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),y3=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(l){i=l.indexOf(":"),t=l.substring(0,i).trim().toLowerCase(),r=l.substring(i+1).trim(),!(!t||e[t]&&g3[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},d1=Symbol("internals");function Yc(n){return n&&String(n).trim().toLowerCase()}function Ep(n){return n===!1||n==null?n:re.isArray(n)?n.map(Ep):String(n)}function _3(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const v3=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function m_(n,e,t,r,i){if(re.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!re.isString(e)){if(re.isString(r))return e.indexOf(r)!==-1;if(re.isRegExp(r))return r.test(e)}}function w3(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function E3(n,e){const t=re.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,o,l){return this[r].call(this,e,i,o,l)},configurable:!0})})}class nr{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function o(u,d,f){const m=Yc(d);if(!m)throw new Error("header name must be a non-empty string");const g=re.findKey(i,m);(!g||i[g]===void 0||f===!0||f===void 0&&i[g]!==!1)&&(i[g||d]=Ep(u))}const l=(u,d)=>re.forEach(u,(f,m)=>o(f,m,d));if(re.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(re.isString(e)&&(e=e.trim())&&!v3(e))l(y3(e),t);else if(re.isHeaders(e))for(const[u,d]of e.entries())o(d,u,r);else e!=null&&o(t,e,r);return this}get(e,t){if(e=Yc(e),e){const r=re.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return _3(i);if(re.isFunction(t))return t.call(this,i,r);if(re.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Yc(e),e){const r=re.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||m_(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function o(l){if(l=Yc(l),l){const u=re.findKey(r,l);u&&(!t||m_(r,r[u],u,t))&&(delete r[u],i=!0)}}return re.isArray(e)?e.forEach(o):o(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const o=t[r];(!e||m_(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const t=this,r={};return re.forEach(this,(i,o)=>{const l=re.findKey(r,o);if(l){t[l]=Ep(i),delete t[o];return}const u=e?w3(o):String(o).trim();u!==o&&delete t[o],t[u]=Ep(i),r[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return re.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&re.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[d1]=this[d1]={accessors:{}}).accessors,i=this.prototype;function o(l){const u=Yc(l);r[u]||(E3(i,l),r[u]=!0)}return re.isArray(e)?e.forEach(o):o(e),this}}nr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);re.reduceDescriptors(nr.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});re.freezeMethods(nr);function g_(n,e){const t=this||Eh,r=e||t,i=nr.from(r.headers);let o=r.data;return re.forEach(n,function(u){o=u.call(t,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function zC(n){return!!(n&&n.__CANCEL__)}function Fu(n,e,t){Le.call(this,n??"canceled",Le.ERR_CANCELED,e,t),this.name="CanceledError"}re.inherits(Fu,Le,{__CANCEL__:!0});function $C(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Le("Request failed with status code "+t.status,[Le.ERR_BAD_REQUEST,Le.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function I3(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function T3(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,o=0,l;return e=e!==void 0?e:1e3,function(d){const f=Date.now(),m=r[o];l||(l=f),t[i]=d,r[i]=f;let g=o,_=0;for(;g!==i;)_+=t[g++],g=g%n;if(i=(i+1)%n,i===o&&(o=(o+1)%n),f-l<e)return;const T=m&&f-m;return T?Math.round(_*1e3/T):void 0}}function S3(n,e){let t=0,r=1e3/e,i,o;const l=(f,m=Date.now())=>{t=m,i=null,o&&(clearTimeout(o),o=null),n.apply(null,f)};return[(...f)=>{const m=Date.now(),g=m-t;g>=r?l(f,m):(i=f,o||(o=setTimeout(()=>{o=null,l(i)},r-g)))},()=>i&&l(i)]}const tm=(n,e,t=3)=>{let r=0;const i=T3(50,250);return S3(o=>{const l=o.loaded,u=o.lengthComputable?o.total:void 0,d=l-r,f=i(d),m=l<=u;r=l;const g={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:f||void 0,estimated:f&&u&&m?(u-l)/f:void 0,event:o,lengthComputable:u!=null,[e?"download":"upload"]:!0};n(g)},t)},h1=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},f1=n=>(...e)=>re.asap(()=>n(...e)),R3=kn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,kn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(kn.origin),kn.navigator&&/(msie|trident)/i.test(kn.navigator.userAgent)):()=>!0,b3=kn.hasStandardBrowserEnv?{write(n,e,t,r,i,o){const l=[n+"="+encodeURIComponent(e)];re.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),re.isString(r)&&l.push("path="+r),re.isString(i)&&l.push("domain="+i),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function A3(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function P3(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function qC(n,e){return n&&!A3(e)?P3(n,e):e}const p1=n=>n instanceof nr?{...n}:n;function ka(n,e){e=e||{};const t={};function r(f,m,g,_){return re.isPlainObject(f)&&re.isPlainObject(m)?re.merge.call({caseless:_},f,m):re.isPlainObject(m)?re.merge({},m):re.isArray(m)?m.slice():m}function i(f,m,g,_){if(re.isUndefined(m)){if(!re.isUndefined(f))return r(void 0,f,g,_)}else return r(f,m,g,_)}function o(f,m){if(!re.isUndefined(m))return r(void 0,m)}function l(f,m){if(re.isUndefined(m)){if(!re.isUndefined(f))return r(void 0,f)}else return r(void 0,m)}function u(f,m,g){if(g in e)return r(f,m);if(g in n)return r(void 0,f)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(f,m,g)=>i(p1(f),p1(m),g,!0)};return re.forEach(Object.keys(Object.assign({},n,e)),function(m){const g=d[m]||i,_=g(n[m],e[m],m);re.isUndefined(_)&&g!==u||(t[m]=_)}),t}const WC=n=>{const e=ka({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:l,auth:u}=e;e.headers=l=nr.from(l),e.url=UC(qC(e.baseURL,e.url),n.params,n.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let d;if(re.isFormData(t)){if(kn.hasStandardBrowserEnv||kn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[f,...m]=d?d.split(";").map(g=>g.trim()).filter(Boolean):[];l.setContentType([f||"multipart/form-data",...m].join("; "))}}if(kn.hasStandardBrowserEnv&&(r&&re.isFunction(r)&&(r=r(e)),r||r!==!1&&R3(e.url))){const f=i&&o&&b3.read(o);f&&l.set(i,f)}return e},C3=typeof XMLHttpRequest<"u",k3=C3&&function(n){return new Promise(function(t,r){const i=WC(n);let o=i.data;const l=nr.from(i.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:f}=i,m,g,_,T,I;function R(){T&&T(),I&&I(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let P=new XMLHttpRequest;P.open(i.method.toUpperCase(),i.url,!0),P.timeout=i.timeout;function L(){if(!P)return;const U=nr.from("getAllResponseHeaders"in P&&P.getAllResponseHeaders()),j={data:!u||u==="text"||u==="json"?P.responseText:P.response,status:P.status,statusText:P.statusText,headers:U,config:n,request:P};$C(function(D){t(D),R()},function(D){r(D),R()},j),P=null}"onloadend"in P?P.onloadend=L:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(L)},P.onabort=function(){P&&(r(new Le("Request aborted",Le.ECONNABORTED,n,P)),P=null)},P.onerror=function(){r(new Le("Network Error",Le.ERR_NETWORK,n,P)),P=null},P.ontimeout=function(){let q=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const j=i.transitional||BC;i.timeoutErrorMessage&&(q=i.timeoutErrorMessage),r(new Le(q,j.clarifyTimeoutError?Le.ETIMEDOUT:Le.ECONNABORTED,n,P)),P=null},o===void 0&&l.setContentType(null),"setRequestHeader"in P&&re.forEach(l.toJSON(),function(q,j){P.setRequestHeader(j,q)}),re.isUndefined(i.withCredentials)||(P.withCredentials=!!i.withCredentials),u&&u!=="json"&&(P.responseType=i.responseType),f&&([_,I]=tm(f,!0),P.addEventListener("progress",_)),d&&P.upload&&([g,T]=tm(d),P.upload.addEventListener("progress",g),P.upload.addEventListener("loadend",T)),(i.cancelToken||i.signal)&&(m=U=>{P&&(r(!U||U.type?new Fu(null,n,P):U),P.abort(),P=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const V=I3(i.url);if(V&&kn.protocols.indexOf(V)===-1){r(new Le("Unsupported protocol "+V+":",Le.ERR_BAD_REQUEST,n));return}P.send(o||null)})},x3=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const o=function(f){if(!i){i=!0,u();const m=f instanceof Error?f:this.reason;r.abort(m instanceof Le?m:new Fu(m instanceof Error?m.message:m))}};let l=e&&setTimeout(()=>{l=null,o(new Le(`timeout ${e} of ms exceeded`,Le.ETIMEDOUT))},e);const u=()=>{n&&(l&&clearTimeout(l),l=null,n.forEach(f=>{f.unsubscribe?f.unsubscribe(o):f.removeEventListener("abort",o)}),n=null)};n.forEach(f=>f.addEventListener("abort",o));const{signal:d}=r;return d.unsubscribe=()=>re.asap(u),d}},O3=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},N3=async function*(n,e){for await(const t of D3(n))yield*O3(t,e)},D3=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},m1=(n,e,t,r)=>{const i=N3(n,e);let o=0,l,u=d=>{l||(l=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:f,value:m}=await i.next();if(f){u(),d.close();return}let g=m.byteLength;if(t){let _=o+=g;t(_)}d.enqueue(new Uint8Array(m))}catch(f){throw u(f),f}},cancel(d){return u(d),i.return()}},{highWaterMark:2})},Xm=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",HC=Xm&&typeof ReadableStream=="function",V3=Xm&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),KC=(n,...e)=>{try{return!!n(...e)}catch{return!1}},L3=HC&&KC(()=>{let n=!1;const e=new Request(kn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),g1=64*1024,hv=HC&&KC(()=>re.isReadableStream(new Response("").body)),nm={stream:hv&&(n=>n.body)};Xm&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!nm[e]&&(nm[e]=re.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new Le(`Response type '${e}' is not supported`,Le.ERR_NOT_SUPPORT,r)})})})(new Response);const M3=async n=>{if(n==null)return 0;if(re.isBlob(n))return n.size;if(re.isSpecCompliantForm(n))return(await new Request(kn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(re.isArrayBufferView(n)||re.isArrayBuffer(n))return n.byteLength;if(re.isURLSearchParams(n)&&(n=n+""),re.isString(n))return(await V3(n)).byteLength},F3=async(n,e)=>{const t=re.toFiniteNumber(n.getContentLength());return t??M3(e)},U3=Xm&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:o,timeout:l,onDownloadProgress:u,onUploadProgress:d,responseType:f,headers:m,withCredentials:g="same-origin",fetchOptions:_}=WC(n);f=f?(f+"").toLowerCase():"text";let T=x3([i,o&&o.toAbortSignal()],l),I;const R=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let P;try{if(d&&L3&&t!=="get"&&t!=="head"&&(P=await F3(m,r))!==0){let j=new Request(e,{method:"POST",body:r,duplex:"half"}),W;if(re.isFormData(r)&&(W=j.headers.get("content-type"))&&m.setContentType(W),j.body){const[D,b]=h1(P,tm(f1(d)));r=m1(j.body,g1,D,b)}}re.isString(g)||(g=g?"include":"omit");const L="credentials"in Request.prototype;I=new Request(e,{..._,signal:T,method:t.toUpperCase(),headers:m.normalize().toJSON(),body:r,duplex:"half",credentials:L?g:void 0});let V=await fetch(I);const U=hv&&(f==="stream"||f==="response");if(hv&&(u||U&&R)){const j={};["status","statusText","headers"].forEach(C=>{j[C]=V[C]});const W=re.toFiniteNumber(V.headers.get("content-length")),[D,b]=u&&h1(W,tm(f1(u),!0))||[];V=new Response(m1(V.body,g1,D,()=>{b&&b(),R&&R()}),j)}f=f||"text";let q=await nm[re.findKey(nm,f)||"text"](V,n);return!U&&R&&R(),await new Promise((j,W)=>{$C(j,W,{data:q,headers:nr.from(V.headers),status:V.status,statusText:V.statusText,config:n,request:I})})}catch(L){throw R&&R(),L&&L.name==="TypeError"&&/fetch/i.test(L.message)?Object.assign(new Le("Network Error",Le.ERR_NETWORK,n,I),{cause:L.cause||L}):Le.from(L,L&&L.code,n,I)}}),fv={http:e3,xhr:k3,fetch:U3};re.forEach(fv,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const y1=n=>`- ${n}`,B3=n=>re.isFunction(n)||n===null||n===!1,GC={getAdapter:n=>{n=re.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let o=0;o<e;o++){t=n[o];let l;if(r=t,!B3(t)&&(r=fv[(l=String(t)).toLowerCase()],r===void 0))throw new Le(`Unknown adapter '${l}'`);if(r)break;i[l||"#"+o]=r}if(!r){const o=Object.entries(i).map(([u,d])=>`adapter ${u} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=e?o.length>1?`since :
`+o.map(y1).join(`
`):" "+y1(o[0]):"as no adapter specified";throw new Le("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:fv};function y_(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Fu(null,n)}function _1(n){return y_(n),n.headers=nr.from(n.headers),n.data=g_.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),GC.getAdapter(n.adapter||Eh.adapter)(n).then(function(r){return y_(n),r.data=g_.call(n,n.transformResponse,r),r.headers=nr.from(r.headers),r},function(r){return zC(r)||(y_(n),r&&r.response&&(r.response.data=g_.call(n,n.transformResponse,r.response),r.response.headers=nr.from(r.response.headers))),Promise.reject(r)})}const QC="1.7.9",Zm={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Zm[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const v1={};Zm.transitional=function(e,t,r){function i(o,l){return"[Axios v"+QC+"] Transitional option '"+o+"'"+l+(r?". "+r:"")}return(o,l,u)=>{if(e===!1)throw new Le(i(l," has been removed"+(t?" in "+t:"")),Le.ERR_DEPRECATED);return t&&!v1[l]&&(v1[l]=!0,console.warn(i(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,l,u):!0}};Zm.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function j3(n,e,t){if(typeof n!="object")throw new Le("options must be an object",Le.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const o=r[i],l=e[o];if(l){const u=n[o],d=u===void 0||l(u,o,n);if(d!==!0)throw new Le("option "+o+" must be "+d,Le.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Le("Unknown option "+o,Le.ERR_BAD_OPTION)}}const Ip={assertOptions:j3,validators:Zm},gi=Ip.validators;class va{constructor(e){this.defaults=e,this.interceptors={request:new c1,response:new c1}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ka(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:o}=t;r!==void 0&&Ip.assertOptions(r,{silentJSONParsing:gi.transitional(gi.boolean),forcedJSONParsing:gi.transitional(gi.boolean),clarifyTimeoutError:gi.transitional(gi.boolean)},!1),i!=null&&(re.isFunction(i)?t.paramsSerializer={serialize:i}:Ip.assertOptions(i,{encode:gi.function,serialize:gi.function},!0)),Ip.assertOptions(t,{baseUrl:gi.spelling("baseURL"),withXsrfToken:gi.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=o&&re.merge(o.common,o[t.method]);o&&re.forEach(["delete","get","head","post","put","patch","common"],I=>{delete o[I]}),t.headers=nr.concat(l,o);const u=[];let d=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(t)===!1||(d=d&&R.synchronous,u.unshift(R.fulfilled,R.rejected))});const f=[];this.interceptors.response.forEach(function(R){f.push(R.fulfilled,R.rejected)});let m,g=0,_;if(!d){const I=[_1.bind(this),void 0];for(I.unshift.apply(I,u),I.push.apply(I,f),_=I.length,m=Promise.resolve(t);g<_;)m=m.then(I[g++],I[g++]);return m}_=u.length;let T=t;for(g=0;g<_;){const I=u[g++],R=u[g++];try{T=I(T)}catch(P){R.call(this,P);break}}try{m=_1.call(this,T)}catch(I){return Promise.reject(I)}for(g=0,_=f.length;g<_;)m=m.then(f[g++],f[g++]);return m}getUri(e){e=ka(this.defaults,e);const t=qC(e.baseURL,e.url);return UC(t,e.params,e.paramsSerializer)}}re.forEach(["delete","get","head","options"],function(e){va.prototype[e]=function(t,r){return this.request(ka(r||{},{method:e,url:t,data:(r||{}).data}))}});re.forEach(["post","put","patch"],function(e){function t(r){return function(o,l,u){return this.request(ka(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}va.prototype[e]=t(),va.prototype[e+"Form"]=t(!0)});class cw{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const l=new Promise(u=>{r.subscribe(u),o=u}).then(i);return l.cancel=function(){r.unsubscribe(o)},l},e(function(o,l,u){r.reason||(r.reason=new Fu(o,l,u),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new cw(function(i){e=i}),cancel:e}}}function z3(n){return function(t){return n.apply(null,t)}}function $3(n){return re.isObject(n)&&n.isAxiosError===!0}const pv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(pv).forEach(([n,e])=>{pv[e]=n});function JC(n){const e=new va(n),t=AC(va.prototype.request,e);return re.extend(t,va.prototype,e,{allOwnKeys:!0}),re.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return JC(ka(n,i))},t}const kt=JC(Eh);kt.Axios=va;kt.CanceledError=Fu;kt.CancelToken=cw;kt.isCancel=zC;kt.VERSION=QC;kt.toFormData=Ym;kt.AxiosError=Le;kt.Cancel=kt.CanceledError;kt.all=function(e){return Promise.all(e)};kt.spread=z3;kt.isAxiosError=$3;kt.mergeConfig=ka;kt.AxiosHeaders=nr;kt.formToJSON=n=>jC(re.isHTMLForm(n)?new FormData(n):n);kt.getAdapter=GC.getAdapter;kt.HttpStatusCode=pv;kt.default=kt;function YC(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=YC(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Td(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=YC(n))&&(r&&(r+=" "),r+=e);return r}function XC(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}const q3={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function ZC(n,e,t=void 0){const r={};for(const i in n){const o=n[i];let l="",u=!0;for(let d=0;d<o.length;d+=1){const f=o[d];f&&(l+=(u===!0?"":" ")+e(f),u=!1,t&&t[f]&&(l+=" "+t[f]))}r[i]=l}return r}const W3=K.createContext(),H3=()=>K.useContext(W3)??!1;function w1(n){try{return n.matches(":focus-visible")}catch{}return!1}function is(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function ek(n){if(K.isValidElement(n)||!is(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=ek(n[t])}),e}function _r(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return is(n)&&is(e)&&Object.keys(e).forEach(i=>{K.isValidElement(e[i])?r[i]=e[i]:is(e[i])&&Object.prototype.hasOwnProperty.call(n,i)&&is(n[i])?r[i]=_r(n[i],e[i],t):t.clone?r[i]=is(e[i])?ek(e[i]):e[i]:r[i]=e[i]}),r}function xa(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}function wo(n){if(typeof n!="string")throw new Error(xa(7));return n.charAt(0).toUpperCase()+n.slice(1)}function K3(n,e){typeof n=="function"?n(e):n&&(n.current=e)}let E1=0;function G3(n){const[e,t]=K.useState(n),r=n||e;return K.useEffect(()=>{e==null&&(E1+=1,t(`mui-${E1}`))},[e]),r}const Q3={...S_},I1=Q3.useId;function tk(n){if(I1!==void 0){const e=I1();return n??e}return G3(n)}function J3({controlled:n,default:e,name:t,state:r="value"}){const{current:i}=K.useRef(n!==void 0),[o,l]=K.useState(e),u=i?n:o,d=K.useCallback(f=>{i||l(f)},[]);return[u,d]}function Y3(...n){return K.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{K3(t,e)})},n)}function mv(n,e){const t={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const i=r;if(i==="components"||i==="slots")t[i]={...n[i],...t[i]};else if(i==="componentsProps"||i==="slotProps"){const o=n[i],l=e[i];if(!l)t[i]=o||{};else if(!o)t[i]=l;else{t[i]={...l};for(const u in o)if(Object.prototype.hasOwnProperty.call(o,u)){const d=u;t[i][d]=mv(o[d],l[d])}}}else t[i]===void 0&&(t[i]=n[i])}return t}const T1=n=>n,X3=()=>{let n=T1;return{configure(e){n=e},generate(e){return n(e)},reset(){n=T1}}},Z3=X3(),ez={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function dw(n,e,t="Mui"){const r=ez[e];return r?`${t}-${r}`:`${Z3.generate(n)}-${e}`}function nk(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=dw(n,i,t)}),r}function Sd(n,e){return e?_r(n,e,{clone:!1}):n}function tz(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var l,u;const o=/min-width:\s*([0-9.]+)/;return+(((l=r.match(o))==null?void 0:l[1])||0)-+(((u=i.match(o))==null?void 0:u[1])||0)});return t.length?t.reduce((r,i)=>{const o=e[i];return delete r[i],r[i]=o,r},{...e}):e}function nz(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function rz(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,i]=t,o=Number.isNaN(+r)?r||0:+r;return n.containerQueries(i).up(o)}function iz(n){const e=(o,l)=>o.replace("@media",l?`@container ${l}`:"@container");function t(o,l){o.up=(...u)=>e(n.breakpoints.up(...u),l),o.down=(...u)=>e(n.breakpoints.down(...u),l),o.between=(...u)=>e(n.breakpoints.between(...u),l),o.only=(...u)=>e(n.breakpoints.only(...u),l),o.not=(...u)=>{const d=e(n.breakpoints.not(...u),l);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const r={},i=o=>(t(r,o),r);return t(i),{...n,containerQueries:i}}const eg={xs:0,sm:600,md:900,lg:1200,xl:1536},S1={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${eg[n]}px)`},sz={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:eg[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function ys(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const o=r.breakpoints||S1;return e.reduce((l,u,d)=>(l[o.up(o.keys[d])]=t(e[d]),l),{})}if(typeof e=="object"){const o=r.breakpoints||S1;return Object.keys(e).reduce((l,u)=>{if(nz(o.keys,u)){const d=rz(r.containerQueries?r:sz,u);d&&(l[d]=t(e[u],u))}else if(Object.keys(o.values||eg).includes(u)){const d=o.up(u);l[d]=t(e[u],u)}else{const d=u;l[d]=e[d]}return l},{})}return t(e)}function oz(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((r,i)=>{const o=n.up(i);return r[o]={},r},{}))||{}}function az(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function tg(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function rm(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=tg(n,t)||r,e&&(i=e(i,r,n)),i}function $t(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,o=l=>{if(l[e]==null)return null;const u=l[e],d=l.theme,f=tg(d,r)||{};return ys(l,u,g=>{let _=rm(f,i,g);return g===_&&typeof g=="string"&&(_=rm(f,i,`${e}${g==="default"?"":wo(g)}`,g)),t===!1?_:{[t]:_}})};return o.propTypes={},o.filterProps=[e],o}function lz(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const uz={m:"margin",p:"padding"},cz={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},R1={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},dz=lz(n=>{if(n.length>2)if(R1[n])n=R1[n];else return[n];const[e,t]=n.split(""),r=uz[e],i=cz[t]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),hw=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],fw=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...hw,...fw];function Ih(n,e,t,r){const i=tg(n,e,!0)??t;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const l=Math.abs(o),u=i[l];return o>=0?u:typeof u=="number"?-u:`-${u}`}:typeof i=="function"?i:()=>{}}function pw(n){return Ih(n,"spacing",8)}function Th(n,e){return typeof e=="string"||e==null?e:n(e)}function hz(n,e){return t=>n.reduce((r,i)=>(r[i]=Th(e,t),r),{})}function fz(n,e,t,r){if(!e.includes(t))return null;const i=dz(t),o=hz(i,r),l=n[t];return ys(n,l,o)}function rk(n,e){const t=pw(n.theme);return Object.keys(n).map(r=>fz(n,e,r,t)).reduce(Sd,{})}function Ot(n){return rk(n,hw)}Ot.propTypes={};Ot.filterProps=hw;function Nt(n){return rk(n,fw)}Nt.propTypes={};Nt.filterProps=fw;function ng(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),t=r=>Object.keys(r).reduce((i,o)=>e[o]?Sd(i,e[o](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function Nr(n){return typeof n!="number"?n:`${n}px solid`}function Mr(n,e){return $t({prop:n,themeKey:"borders",transform:e})}const pz=Mr("border",Nr),mz=Mr("borderTop",Nr),gz=Mr("borderRight",Nr),yz=Mr("borderBottom",Nr),_z=Mr("borderLeft",Nr),vz=Mr("borderColor"),wz=Mr("borderTopColor"),Ez=Mr("borderRightColor"),Iz=Mr("borderBottomColor"),Tz=Mr("borderLeftColor"),Sz=Mr("outline",Nr),Rz=Mr("outlineColor"),rg=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=Ih(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:Th(e,r)});return ys(n,n.borderRadius,t)}return null};rg.propTypes={};rg.filterProps=["borderRadius"];ng(pz,mz,gz,yz,_z,vz,wz,Ez,Iz,Tz,rg,Sz,Rz);const ig=n=>{if(n.gap!==void 0&&n.gap!==null){const e=Ih(n.theme,"spacing",8),t=r=>({gap:Th(e,r)});return ys(n,n.gap,t)}return null};ig.propTypes={};ig.filterProps=["gap"];const sg=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=Ih(n.theme,"spacing",8),t=r=>({columnGap:Th(e,r)});return ys(n,n.columnGap,t)}return null};sg.propTypes={};sg.filterProps=["columnGap"];const og=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=Ih(n.theme,"spacing",8),t=r=>({rowGap:Th(e,r)});return ys(n,n.rowGap,t)}return null};og.propTypes={};og.filterProps=["rowGap"];const bz=$t({prop:"gridColumn"}),Az=$t({prop:"gridRow"}),Pz=$t({prop:"gridAutoFlow"}),Cz=$t({prop:"gridAutoColumns"}),kz=$t({prop:"gridAutoRows"}),xz=$t({prop:"gridTemplateColumns"}),Oz=$t({prop:"gridTemplateRows"}),Nz=$t({prop:"gridTemplateAreas"}),Dz=$t({prop:"gridArea"});ng(ig,sg,og,bz,Az,Pz,Cz,kz,xz,Oz,Nz,Dz);function Yl(n,e){return e==="grey"?e:n}const Vz=$t({prop:"color",themeKey:"palette",transform:Yl}),Lz=$t({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Yl}),Mz=$t({prop:"backgroundColor",themeKey:"palette",transform:Yl});ng(Vz,Lz,Mz);function mr(n){return n<=1&&n!==0?`${n*100}%`:n}const Fz=$t({prop:"width",transform:mr}),mw=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var i,o,l,u,d;const r=((l=(o=(i=n.theme)==null?void 0:i.breakpoints)==null?void 0:o.values)==null?void 0:l[t])||eg[t];return r?((d=(u=n.theme)==null?void 0:u.breakpoints)==null?void 0:d.unit)!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:mr(t)}};return ys(n,n.maxWidth,e)}return null};mw.filterProps=["maxWidth"];const Uz=$t({prop:"minWidth",transform:mr}),Bz=$t({prop:"height",transform:mr}),jz=$t({prop:"maxHeight",transform:mr}),zz=$t({prop:"minHeight",transform:mr});$t({prop:"size",cssProperty:"width",transform:mr});$t({prop:"size",cssProperty:"height",transform:mr});const $z=$t({prop:"boxSizing"});ng(Fz,mw,Uz,Bz,jz,zz,$z);const ag={border:{themeKey:"borders",transform:Nr},borderTop:{themeKey:"borders",transform:Nr},borderRight:{themeKey:"borders",transform:Nr},borderBottom:{themeKey:"borders",transform:Nr},borderLeft:{themeKey:"borders",transform:Nr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Nr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:rg},color:{themeKey:"palette",transform:Yl},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Yl},backgroundColor:{themeKey:"palette",transform:Yl},p:{style:Nt},pt:{style:Nt},pr:{style:Nt},pb:{style:Nt},pl:{style:Nt},px:{style:Nt},py:{style:Nt},padding:{style:Nt},paddingTop:{style:Nt},paddingRight:{style:Nt},paddingBottom:{style:Nt},paddingLeft:{style:Nt},paddingX:{style:Nt},paddingY:{style:Nt},paddingInline:{style:Nt},paddingInlineStart:{style:Nt},paddingInlineEnd:{style:Nt},paddingBlock:{style:Nt},paddingBlockStart:{style:Nt},paddingBlockEnd:{style:Nt},m:{style:Ot},mt:{style:Ot},mr:{style:Ot},mb:{style:Ot},ml:{style:Ot},mx:{style:Ot},my:{style:Ot},margin:{style:Ot},marginTop:{style:Ot},marginRight:{style:Ot},marginBottom:{style:Ot},marginLeft:{style:Ot},marginX:{style:Ot},marginY:{style:Ot},marginInline:{style:Ot},marginInlineStart:{style:Ot},marginInlineEnd:{style:Ot},marginBlock:{style:Ot},marginBlockStart:{style:Ot},marginBlockEnd:{style:Ot},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:ig},rowGap:{style:og},columnGap:{style:sg},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:mr},maxWidth:{style:mw},minWidth:{transform:mr},height:{transform:mr},maxHeight:{transform:mr},minHeight:{transform:mr},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function qz(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function Wz(n,e){return typeof n=="function"?n(e):n}function Hz(){function n(t,r,i,o){const l={[t]:r,theme:i},u=o[t];if(!u)return{[t]:r};const{cssProperty:d=t,themeKey:f,transform:m,style:g}=u;if(r==null)return null;if(f==="typography"&&r==="inherit")return{[t]:r};const _=tg(i,f)||{};return g?g(l):ys(l,r,I=>{let R=rm(_,m,I);return I===R&&typeof I=="string"&&(R=rm(_,m,`${t}${I==="default"?"":wo(I)}`,I)),d===!1?R:{[d]:R}})}function e(t){const{sx:r,theme:i={}}=t||{};if(!r)return null;const o=i.unstable_sxConfig??ag;function l(u){let d=u;if(typeof u=="function")d=u(i);else if(typeof u!="object")return u;if(!d)return null;const f=oz(i.breakpoints),m=Object.keys(f);let g=f;return Object.keys(d).forEach(_=>{const T=Wz(d[_],i);if(T!=null)if(typeof T=="object")if(o[_])g=Sd(g,n(_,T,i,o));else{const I=ys({theme:i},T,R=>({[_]:R}));qz(I,T)?g[_]=e({sx:T,theme:i}):g=Sd(g,I)}else g=Sd(g,n(_,T,i,o))}),tz(i,az(m,g))}return Array.isArray(r)?r.map(l):l(r)}return e}const _u=Hz();_u.filterProps=["sx"];function gv(){return gv=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},gv.apply(null,arguments)}function ik(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var Kz=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Gz=ik(function(n){return Kz.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),Qz=!1;function Jz(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function Yz(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Xz=function(){function n(t){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!Qz:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Yz(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=Jz(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n}(),Pn="-ms-",im="-moz-",Ze="-webkit-",sk="comm",gw="rule",yw="decl",Zz="@import",ok="@keyframes",e$="@layer",t$=Math.abs,lg=String.fromCharCode,n$=Object.assign;function r$(n,e){return wn(n,0)^45?(((e<<2^wn(n,0))<<2^wn(n,1))<<2^wn(n,2))<<2^wn(n,3):0}function ak(n){return n.trim()}function i$(n,e){return(n=e.exec(n))?n[0]:n}function et(n,e,t){return n.replace(e,t)}function yv(n,e){return n.indexOf(e)}function wn(n,e){return n.charCodeAt(e)|0}function Kd(n,e,t){return n.slice(e,t)}function _i(n){return n.length}function _w(n){return n.length}function Zf(n,e){return e.push(n),n}function s$(n,e){return n.map(e).join("")}var ug=1,vu=1,lk=0,rr=0,Gt=0,Uu="";function cg(n,e,t,r,i,o,l){return{value:n,root:e,parent:t,type:r,props:i,children:o,line:ug,column:vu,length:l,return:""}}function Xc(n,e){return n$(cg("",null,null,"",null,null,0),n,{length:-n.length},e)}function o$(){return Gt}function a$(){return Gt=rr>0?wn(Uu,--rr):0,vu--,Gt===10&&(vu=1,ug--),Gt}function vr(){return Gt=rr<lk?wn(Uu,rr++):0,vu++,Gt===10&&(vu=1,ug++),Gt}function ki(){return wn(Uu,rr)}function Tp(){return rr}function Sh(n,e){return Kd(Uu,n,e)}function Gd(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function uk(n){return ug=vu=1,lk=_i(Uu=n),rr=0,[]}function ck(n){return Uu="",n}function Sp(n){return ak(Sh(rr-1,_v(n===91?n+2:n===40?n+1:n)))}function l$(n){for(;(Gt=ki())&&Gt<33;)vr();return Gd(n)>2||Gd(Gt)>3?"":" "}function u$(n,e){for(;--e&&vr()&&!(Gt<48||Gt>102||Gt>57&&Gt<65||Gt>70&&Gt<97););return Sh(n,Tp()+(e<6&&ki()==32&&vr()==32))}function _v(n){for(;vr();)switch(Gt){case n:return rr;case 34:case 39:n!==34&&n!==39&&_v(Gt);break;case 40:n===41&&_v(n);break;case 92:vr();break}return rr}function c$(n,e){for(;vr()&&n+Gt!==57;)if(n+Gt===84&&ki()===47)break;return"/*"+Sh(e,rr-1)+"*"+lg(n===47?n:vr())}function d$(n){for(;!Gd(ki());)vr();return Sh(n,rr)}function h$(n){return ck(Rp("",null,null,null,[""],n=uk(n),0,[0],n))}function Rp(n,e,t,r,i,o,l,u,d){for(var f=0,m=0,g=l,_=0,T=0,I=0,R=1,P=1,L=1,V=0,U="",q=i,j=o,W=r,D=U;P;)switch(I=V,V=vr()){case 40:if(I!=108&&wn(D,g-1)==58){yv(D+=et(Sp(V),"&","&\f"),"&\f")!=-1&&(L=-1);break}case 34:case 39:case 91:D+=Sp(V);break;case 9:case 10:case 13:case 32:D+=l$(I);break;case 92:D+=u$(Tp()-1,7);continue;case 47:switch(ki()){case 42:case 47:Zf(f$(c$(vr(),Tp()),e,t),d);break;default:D+="/"}break;case 123*R:u[f++]=_i(D)*L;case 125*R:case 59:case 0:switch(V){case 0:case 125:P=0;case 59+m:L==-1&&(D=et(D,/\f/g,"")),T>0&&_i(D)-g&&Zf(T>32?A1(D+";",r,t,g-1):A1(et(D," ","")+";",r,t,g-2),d);break;case 59:D+=";";default:if(Zf(W=b1(D,e,t,f,m,i,u,U,q=[],j=[],g),o),V===123)if(m===0)Rp(D,e,W,W,q,o,g,u,j);else switch(_===99&&wn(D,3)===110?100:_){case 100:case 108:case 109:case 115:Rp(n,W,W,r&&Zf(b1(n,W,W,0,0,i,u,U,i,q=[],g),j),i,j,g,u,r?q:j);break;default:Rp(D,W,W,W,[""],j,0,u,j)}}f=m=T=0,R=L=1,U=D="",g=l;break;case 58:g=1+_i(D),T=I;default:if(R<1){if(V==123)--R;else if(V==125&&R++==0&&a$()==125)continue}switch(D+=lg(V),V*R){case 38:L=m>0?1:(D+="\f",-1);break;case 44:u[f++]=(_i(D)-1)*L,L=1;break;case 64:ki()===45&&(D+=Sp(vr())),_=ki(),m=g=_i(U=D+=d$(Tp())),V++;break;case 45:I===45&&_i(D)==2&&(R=0)}}return o}function b1(n,e,t,r,i,o,l,u,d,f,m){for(var g=i-1,_=i===0?o:[""],T=_w(_),I=0,R=0,P=0;I<r;++I)for(var L=0,V=Kd(n,g+1,g=t$(R=l[I])),U=n;L<T;++L)(U=ak(R>0?_[L]+" "+V:et(V,/&\f/g,_[L])))&&(d[P++]=U);return cg(n,e,t,i===0?gw:u,d,f,m)}function f$(n,e,t){return cg(n,e,t,sk,lg(o$()),Kd(n,2,-2),0)}function A1(n,e,t,r){return cg(n,e,t,yw,Kd(n,0,r),Kd(n,r+1,-1),r)}function Xl(n,e){for(var t="",r=_w(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function p$(n,e,t,r){switch(n.type){case e$:if(n.children.length)break;case Zz:case yw:return n.return=n.return||n.value;case sk:return"";case ok:return n.return=n.value+"{"+Xl(n.children,r)+"}";case gw:n.value=n.props.join(",")}return _i(t=Xl(n.children,r))?n.return=n.value+"{"+t+"}":""}function m$(n){var e=_w(n);return function(t,r,i,o){for(var l="",u=0;u<e;u++)l+=n[u](t,r,i,o)||"";return l}}function g$(n){return function(e){e.root||(e=e.return)&&n(e)}}var y$=function(e,t,r){for(var i=0,o=0;i=o,o=ki(),i===38&&o===12&&(t[r]=1),!Gd(o);)vr();return Sh(e,rr)},_$=function(e,t){var r=-1,i=44;do switch(Gd(i)){case 0:i===38&&ki()===12&&(t[r]=1),e[r]+=y$(rr-1,t,r);break;case 2:e[r]+=Sp(i);break;case 4:if(i===44){e[++r]=ki()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=lg(i)}while(i=vr());return e},v$=function(e,t){return ck(_$(uk(e),t))},P1=new WeakMap,w$=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!P1.get(r))&&!i){P1.set(e,!0);for(var o=[],l=v$(t,o),u=r.props,d=0,f=0;d<l.length;d++)for(var m=0;m<u.length;m++,f++)e.props[f]=o[d]?l[d].replace(/&\f/g,u[m]):u[m]+" "+l[d]}}},E$=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function dk(n,e){switch(r$(n,e)){case 5103:return Ze+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ze+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Ze+n+im+n+Pn+n+n;case 6828:case 4268:return Ze+n+Pn+n+n;case 6165:return Ze+n+Pn+"flex-"+n+n;case 5187:return Ze+n+et(n,/(\w+).+(:[^]+)/,Ze+"box-$1$2"+Pn+"flex-$1$2")+n;case 5443:return Ze+n+Pn+"flex-item-"+et(n,/flex-|-self/,"")+n;case 4675:return Ze+n+Pn+"flex-line-pack"+et(n,/align-content|flex-|-self/,"")+n;case 5548:return Ze+n+Pn+et(n,"shrink","negative")+n;case 5292:return Ze+n+Pn+et(n,"basis","preferred-size")+n;case 6060:return Ze+"box-"+et(n,"-grow","")+Ze+n+Pn+et(n,"grow","positive")+n;case 4554:return Ze+et(n,/([^-])(transform)/g,"$1"+Ze+"$2")+n;case 6187:return et(et(et(n,/(zoom-|grab)/,Ze+"$1"),/(image-set)/,Ze+"$1"),n,"")+n;case 5495:case 3959:return et(n,/(image-set\([^]*)/,Ze+"$1$`$1");case 4968:return et(et(n,/(.+:)(flex-)?(.*)/,Ze+"box-pack:$3"+Pn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ze+n+n;case 4095:case 3583:case 4068:case 2532:return et(n,/(.+)-inline(.+)/,Ze+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(_i(n)-1-e>6)switch(wn(n,e+1)){case 109:if(wn(n,e+4)!==45)break;case 102:return et(n,/(.+:)(.+)-([^]+)/,"$1"+Ze+"$2-$3$1"+im+(wn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~yv(n,"stretch")?dk(et(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(wn(n,e+1)!==115)break;case 6444:switch(wn(n,_i(n)-3-(~yv(n,"!important")&&10))){case 107:return et(n,":",":"+Ze)+n;case 101:return et(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ze+(wn(n,14)===45?"inline-":"")+"box$3$1"+Ze+"$2$3$1"+Pn+"$2box$3")+n}break;case 5936:switch(wn(n,e+11)){case 114:return Ze+n+Pn+et(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Ze+n+Pn+et(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Ze+n+Pn+et(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Ze+n+Pn+n+n}return n}var I$=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case yw:e.return=dk(e.value,e.length);break;case ok:return Xl([Xc(e,{value:et(e.value,"@","@"+Ze)})],i);case gw:if(e.length)return s$(e.props,function(o){switch(i$(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Xl([Xc(e,{props:[et(o,/:(read-\w+)/,":"+im+"$1")]})],i);case"::placeholder":return Xl([Xc(e,{props:[et(o,/:(plac\w+)/,":"+Ze+"input-$1")]}),Xc(e,{props:[et(o,/:(plac\w+)/,":"+im+"$1")]}),Xc(e,{props:[et(o,/:(plac\w+)/,Pn+"input-$1")]})],i)}return""})}},T$=[I$],S$=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(R){var P=R.getAttribute("data-emotion");P.indexOf(" ")!==-1&&(document.head.appendChild(R),R.setAttribute("data-s",""))})}var i=e.stylisPlugins||T$,o={},l,u=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(R){for(var P=R.getAttribute("data-emotion").split(" "),L=1;L<P.length;L++)o[P[L]]=!0;u.push(R)});var d,f=[w$,E$];{var m,g=[p$,g$(function(R){m.insert(R)})],_=m$(f.concat(i,g)),T=function(P){return Xl(h$(P),_)};d=function(P,L,V,U){m=V,T(P?P+"{"+L.styles+"}":L.styles),U&&(I.inserted[L.name]=!0)}}var I={key:t,sheet:new Xz({key:t,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:d};return I.sheet.hydrate(u),I},R$=!0;function b$(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var hk=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||R$===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},A$=function(e,t,r){hk(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function P$(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var C$={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},k$=!1,x$=/[A-Z]|^ms/g,O$=/_EMO_([^_]+?)_([^]*?)_EMO_/g,fk=function(e){return e.charCodeAt(1)===45},C1=function(e){return e!=null&&typeof e!="boolean"},__=ik(function(n){return fk(n)?n:n.replace(x$,"-$&").toLowerCase()}),k1=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(O$,function(r,i,o){return vi={name:i,styles:o,next:vi},i})}return C$[e]!==1&&!fk(e)&&typeof t=="number"&&t!==0?t+"px":t},N$="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Qd(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return vi={name:i.name,styles:i.styles,next:vi},i.name;var o=t;if(o.styles!==void 0){var l=o.next;if(l!==void 0)for(;l!==void 0;)vi={name:l.name,styles:l.styles,next:vi},l=l.next;var u=o.styles+";";return u}return D$(n,e,t)}case"function":{if(n!==void 0){var d=vi,f=t(n);return vi=d,Qd(n,e,f)}break}}var m=t;if(e==null)return m;var g=e[m];return g!==void 0?g:m}function D$(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=Qd(n,e,t[i])+";";else for(var o in t){var l=t[o];if(typeof l!="object"){var u=l;e!=null&&e[u]!==void 0?r+=o+"{"+e[u]+"}":C1(u)&&(r+=__(o)+":"+k1(o,u)+";")}else{if(o==="NO_COMPONENT_SELECTOR"&&k$)throw new Error(N$);if(Array.isArray(l)&&typeof l[0]=="string"&&(e==null||e[l[0]]===void 0))for(var d=0;d<l.length;d++)C1(l[d])&&(r+=__(o)+":"+k1(o,l[d])+";");else{var f=Qd(n,e,l);switch(o){case"animation":case"animationName":{r+=__(o)+":"+f+";";break}default:r+=o+"{"+f+"}"}}}}return r}var x1=/label:\s*([^\s;{]+)\s*(;|$)/g,vi;function pk(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";vi=void 0;var o=n[0];if(o==null||o.raw===void 0)r=!1,i+=Qd(t,e,o);else{var l=o;i+=l[0]}for(var u=1;u<n.length;u++)if(i+=Qd(t,e,n[u]),r){var d=o;i+=d[u]}x1.lastIndex=0;for(var f="",m;(m=x1.exec(i))!==null;)f+="-"+m[1];var g=P$(i)+f;return{name:g,styles:i,next:vi}}var V$=function(e){return e()},L$=S_.useInsertionEffect?S_.useInsertionEffect:!1,M$=L$||V$,mk=K.createContext(typeof HTMLElement<"u"?S$({key:"css"}):null);mk.Provider;var F$=function(e){return K.forwardRef(function(t,r){var i=K.useContext(mk);return e(t,i,r)})},U$=K.createContext({}),B$=Gz,j$=function(e){return e!=="theme"},O1=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?B$:j$},N1=function(e,t,r){var i;if(t){var o=t.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(l){return e.__emotion_forwardProp(l)&&o(l)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},z$=!1,$$=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return hk(t,r,i),M$(function(){return A$(t,r,i)}),null},q$=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,l;t!==void 0&&(o=t.label,l=t.target);var u=N1(e,t,r),d=u||O1(i),f=!d("as");return function(){var m=arguments,g=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&g.push("label:"+o+";"),m[0]==null||m[0].raw===void 0)g.push.apply(g,m);else{g.push(m[0][0]);for(var _=m.length,T=1;T<_;T++)g.push(m[T],m[0][T])}var I=F$(function(R,P,L){var V=f&&R.as||i,U="",q=[],j=R;if(R.theme==null){j={};for(var W in R)j[W]=R[W];j.theme=K.useContext(U$)}typeof R.className=="string"?U=b$(P.registered,q,R.className):R.className!=null&&(U=R.className+" ");var D=pk(g.concat(q),P.registered,j);U+=P.key+"-"+D.name,l!==void 0&&(U+=" "+l);var b=f&&u===void 0?O1(V):d,C={};for(var E in R)f&&E==="as"||b(E)&&(C[E]=R[E]);return C.className=U,L&&(C.ref=L),K.createElement(K.Fragment,null,K.createElement($$,{cache:P,serialized:D,isStringTag:typeof V=="string"}),K.createElement(V,C))});return I.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",I.defaultProps=e.defaultProps,I.__emotion_real=I,I.__emotion_base=i,I.__emotion_styles=g,I.__emotion_forwardProp=u,Object.defineProperty(I,"toString",{value:function(){return l===void 0&&z$?"NO_COMPONENT_SELECTOR":"."+l}}),I.withComponent=function(R,P){return n(R,gv({},t,P,{shouldForwardProp:N1(I,P,!0)})).apply(void 0,g)},I}},W$=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],vv=q$.bind();W$.forEach(function(n){vv[n]=vv(n)});/**
 * @mui/styled-engine v6.1.9
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function H$(n,e){return vv(n,e)}function K$(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const D1=[];function V1(n){return D1[0]=n,pk(D1)}const G$=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function Q$(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...i}=n,o=G$(e),l=Object.keys(o);function u(_){return`@media (min-width:${typeof e[_]=="number"?e[_]:_}${t})`}function d(_){return`@media (max-width:${(typeof e[_]=="number"?e[_]:_)-r/100}${t})`}function f(_,T){const I=l.indexOf(T);return`@media (min-width:${typeof e[_]=="number"?e[_]:_}${t}) and (max-width:${(I!==-1&&typeof e[l[I]]=="number"?e[l[I]]:T)-r/100}${t})`}function m(_){return l.indexOf(_)+1<l.length?f(_,l[l.indexOf(_)+1]):u(_)}function g(_){const T=l.indexOf(_);return T===0?u(l[1]):T===l.length-1?d(l[T]):f(_,l[l.indexOf(_)+1]).replace("@media","@media not all and")}return{keys:l,values:o,up:u,down:d,between:f,only:m,not:g,unit:t,...i}}const J$={borderRadius:4};function gk(n=8,e=pw({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(o=>{const l=e(o);return typeof l=="number"?`${l}px`:l}).join(" ");return t.mui=!0,t}function Y$(n,e){var r;const t=this;if(t.vars){if(!((r=t.colorSchemes)!=null&&r[n])||typeof t.getColorSchemeSelector!="function")return{};let i=t.getColorSchemeSelector(n);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return t.palette.mode===n?e:{}}function yk(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:o={},...l}=n,u=Q$(t),d=gk(i);let f=_r({breakpoints:u,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:d,shape:{...J$,...o}},l);return f=iz(f),f.applyStyles=Y$,f=e.reduce((m,g)=>_r(m,g),f),f.unstable_sxConfig={...ag,...l==null?void 0:l.unstable_sxConfig},f.unstable_sx=function(g){return _u({sx:g,theme:this})},f}function _k(n){const{variants:e,...t}=n,r={variants:e,style:V1(t),isProcessed:!0};return r.style===t||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=V1(i.style))}),r}const X$=yk();function v_(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function Z$(n){return n?(e,t)=>t[n]:null}function e6(n,e,t){n.theme=r6(n.theme)?t:n.theme[e]||n.theme}function bp(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(r=>bp(n,r));if(Array.isArray(t==null?void 0:t.variants)){let r;if(t.isProcessed)r=t.style;else{const{variants:i,...o}=t;r=o}return vk(n,t.variants,[r])}return t!=null&&t.isProcessed?t.style:t}function vk(n,e,t=[]){var i;let r;e:for(let o=0;o<e.length;o+=1){const l=e[o];if(typeof l.props=="function"){if(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),!l.props(r))continue}else for(const u in l.props)if(n[u]!==l.props[u]&&((i=n.ownerState)==null?void 0:i[u])!==l.props[u])continue e;typeof l.style=="function"?(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),t.push(l.style(r))):t.push(l.style)}return t}function t6(n={}){const{themeId:e,defaultTheme:t=X$,rootShouldForwardProp:r=v_,slotShouldForwardProp:i=v_}=n;function o(u){e6(u,e,t)}return(u,d={})=>{K$(u,j=>j.filter(W=>W!==_u));const{name:f,slot:m,skipVariantsResolver:g,skipSx:_,overridesResolver:T=Z$(s6(m)),...I}=d,R=g!==void 0?g:m&&m!=="Root"&&m!=="root"||!1,P=_||!1;let L=v_;m==="Root"||m==="root"?L=r:m?L=i:i6(u)&&(L=void 0);const V=H$(u,{shouldForwardProp:L,label:n6(),...I}),U=j=>{if(typeof j=="function"&&j.__emotion_real!==j)return function(D){return bp(D,j)};if(is(j)){const W=_k(j);return W.variants?function(b){return bp(b,W)}:W.style}return j},q=(...j)=>{const W=[],D=j.map(U),b=[];if(W.push(o),f&&T&&b.push(function(k){var me,oe;const ee=(oe=(me=k.theme.components)==null?void 0:me[f])==null?void 0:oe.styleOverrides;if(!ee)return null;const M={};for(const X in ee)M[X]=bp(k,ee[X]);return T(k,M)}),f&&!R&&b.push(function(k){var M,me;const x=k.theme,ee=(me=(M=x==null?void 0:x.components)==null?void 0:M[f])==null?void 0:me.variants;return ee?vk(k,ee):null}),P||b.push(_u),Array.isArray(D[0])){const O=D.shift(),k=new Array(W.length).fill(""),x=new Array(b.length).fill("");let ee;ee=[...k,...O,...x],ee.raw=[...k,...O.raw,...x],W.unshift(ee)}const C=[...W,...D,...b],E=V(...C);return u.muiName&&(E.muiName=u.muiName),E};return V.withConfig&&(q.withConfig=V.withConfig),q}}function n6(n,e){return void 0}function r6(n){for(const e in n)return!1;return!0}function i6(n){return typeof n=="string"&&n.charCodeAt(0)>96}function s6(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function vw(n,e=0,t=1){return XC(n,e,t)}function o6(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Eo(n){if(n.type)return n;if(n.charAt(0)==="#")return Eo(o6(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(xa(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(xa(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:t,values:r,colorSpace:i}}const a6=n=>{const e=Eo(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},cd=(n,e)=>{try{return a6(n)}catch{return n}};function dg(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function wk(n){n=Eo(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),l=(f,m=(f+t/30)%12)=>i-o*Math.max(Math.min(m-3,9-m,1),-1);let u="rgb";const d=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return n.type==="hsla"&&(u+="a",d.push(e[3])),dg({type:u,values:d})}function wv(n){n=Eo(n);let e=n.type==="hsl"||n.type==="hsla"?Eo(wk(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function l6(n,e){const t=wv(n),r=wv(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function u6(n,e){return n=Eo(n),e=vw(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,dg(n)}function ep(n,e,t){try{return u6(n,e)}catch{return n}}function ww(n,e){if(n=Eo(n),e=vw(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return dg(n)}function at(n,e,t){try{return ww(n,e)}catch{return n}}function Ew(n,e){if(n=Eo(n),e=vw(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return dg(n)}function lt(n,e,t){try{return Ew(n,e)}catch{return n}}function c6(n,e=.15){return wv(n)>.5?ww(n,e):Ew(n,e)}function tp(n,e,t){try{return c6(n,e)}catch{return n}}const d6=K.createContext(void 0);function h6(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const i=e.components[t];return i.defaultProps?mv(i.defaultProps,r):!i.styleOverrides&&!i.variants?mv(i,r):r}function f6({props:n,name:e}){const t=K.useContext(d6);return h6({props:n,name:e,theme:{components:t}})}const L1={theme:void 0};function p6(n){let e,t;return function(i){let o=e;return(o===void 0||i.theme!==t)&&(L1.theme=i.theme,o=_k(n(L1)),e=o,t=i.theme),o}}function m6(n=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${n?`${n}-`:""}${r}${e(...i)})`}const M1=(n,e,t,r=[])=>{let i=n;e.forEach((o,l)=>{l===e.length-1?Array.isArray(i)?i[Number(o)]=t:i&&typeof i=="object"&&(i[o]=t):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},g6=(n,e,t)=>{function r(i,o=[],l=[]){Object.entries(i).forEach(([u,d])=>{(!t||t&&!t([...o,u]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?r(d,[...o,u],Array.isArray(d)?[...l,u]:l):e([...o,u],d,l))})}r(n)},y6=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function w_(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},i={},o={},l={};return g6(n,(u,d,f)=>{if((typeof d=="string"||typeof d=="number")&&(!r||!r(u,d))){const m=`--${t?`${t}-`:""}${u.join("-")}`,g=y6(u,d);Object.assign(i,{[m]:g}),M1(o,u,`var(${m})`,f),M1(l,u,`var(${m}, ${g})`,f)}},u=>u[0]==="vars"),{css:i,vars:o,varsWithDefaults:l}}function _6(n,e={}){const{getSelector:t=P,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:o={},components:l,defaultColorScheme:u="light",...d}=n,{vars:f,css:m,varsWithDefaults:g}=w_(d,e);let _=g;const T={},{[u]:I,...R}=o;if(Object.entries(R||{}).forEach(([U,q])=>{const{vars:j,css:W,varsWithDefaults:D}=w_(q,e);_=_r(_,D),T[U]={css:W,vars:j}}),I){const{css:U,vars:q,varsWithDefaults:j}=w_(I,e);_=_r(_,j),T[u]={css:U,vars:q}}function P(U,q){var W,D;let j=i;if(i==="class"&&(j=".%s"),i==="data"&&(j="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(j=`[${i}="%s"]`),U){if(j==="media")return n.defaultColorScheme===U?":root":{[`@media (prefers-color-scheme: ${((D=(W=o[U])==null?void 0:W.palette)==null?void 0:D.mode)||U})`]:{":root":q}};if(j)return n.defaultColorScheme===U?`:root, ${j.replace("%s",String(U))}`:j.replace("%s",String(U))}return":root"}return{vars:_,generateThemeVars:()=>{let U={...f};return Object.entries(T).forEach(([,{vars:q}])=>{U=_r(U,q)}),U},generateStyleSheets:()=>{var b,C;const U=[],q=n.defaultColorScheme||"light";function j(E,O){Object.keys(O).length&&U.push(typeof E=="string"?{[E]:{...O}}:E)}j(t(void 0,{...m}),m);const{[q]:W,...D}=T;if(W){const{css:E}=W,O=(C=(b=o[q])==null?void 0:b.palette)==null?void 0:C.mode,k=!r&&O?{colorScheme:O,...E}:{...E};j(t(q,{...k}),k)}return Object.entries(D).forEach(([E,{css:O}])=>{var ee,M;const k=(M=(ee=o[E])==null?void 0:ee.palette)==null?void 0:M.mode,x=!r&&k?{colorScheme:k,...O}:{...O};j(t(E,{...x}),x)}),U}}}function v6(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}const Jd={black:"#000",white:"#fff"},w6={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Nl={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Dl={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Zc={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Vl={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Ll={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Ml={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function Ek(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Jd.white,default:Jd.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const E6=Ek();function Ik(){return{text:{primary:Jd.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Jd.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const F1=Ik();function U1(n,e,t,r){const i=r.light||r,o=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=Ew(n.main,i):e==="dark"&&(n.dark=ww(n.main,o)))}function I6(n="light"){return n==="dark"?{main:Vl[200],light:Vl[50],dark:Vl[400]}:{main:Vl[700],light:Vl[400],dark:Vl[800]}}function T6(n="light"){return n==="dark"?{main:Nl[200],light:Nl[50],dark:Nl[400]}:{main:Nl[500],light:Nl[300],dark:Nl[700]}}function S6(n="light"){return n==="dark"?{main:Dl[500],light:Dl[300],dark:Dl[700]}:{main:Dl[700],light:Dl[400],dark:Dl[800]}}function R6(n="light"){return n==="dark"?{main:Ll[400],light:Ll[300],dark:Ll[700]}:{main:Ll[700],light:Ll[500],dark:Ll[900]}}function b6(n="light"){return n==="dark"?{main:Ml[400],light:Ml[300],dark:Ml[700]}:{main:Ml[800],light:Ml[500],dark:Ml[900]}}function A6(n="light"){return n==="dark"?{main:Zc[400],light:Zc[300],dark:Zc[700]}:{main:"#ed6c02",light:Zc[500],dark:Zc[900]}}function Iw(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,...i}=n,o=n.primary||I6(e),l=n.secondary||T6(e),u=n.error||S6(e),d=n.info||R6(e),f=n.success||b6(e),m=n.warning||A6(e);function g(R){return l6(R,F1.text.primary)>=t?F1.text.primary:E6.text.primary}const _=({color:R,name:P,mainShade:L=500,lightShade:V=300,darkShade:U=700})=>{if(R={...R},!R.main&&R[L]&&(R.main=R[L]),!R.hasOwnProperty("main"))throw new Error(xa(11,P?` (${P})`:"",L));if(typeof R.main!="string")throw new Error(xa(12,P?` (${P})`:"",JSON.stringify(R.main)));return U1(R,"light",V,r),U1(R,"dark",U,r),R.contrastText||(R.contrastText=g(R.main)),R};let T;return e==="light"?T=Ek():e==="dark"&&(T=Ik()),_r({common:{...Jd},mode:e,primary:_({color:o,name:"primary"}),secondary:_({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:_({color:u,name:"error"}),warning:_({color:m,name:"warning"}),info:_({color:d,name:"info"}),success:_({color:f,name:"success"}),grey:w6,contrastThreshold:t,getContrastText:g,augmentColor:_,tonalOffset:r,...T},i)}function P6(n){const e={};return Object.entries(n).forEach(r=>{const[i,o]=r;typeof o=="object"&&(e[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function C6(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function k6(n){return Math.round(n*1e5)/1e5}const B1={textTransform:"uppercase"},j1='"Roboto", "Helvetica", "Arial", sans-serif';function x6(n,e){const{fontFamily:t=j1,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:l=500,fontWeightBold:u=700,htmlFontSize:d=16,allVariants:f,pxToRem:m,...g}=typeof e=="function"?e(n):e,_=r/14,T=m||(P=>`${P/d*_}rem`),I=(P,L,V,U,q)=>({fontFamily:t,fontWeight:P,fontSize:T(L),lineHeight:V,...t===j1?{letterSpacing:`${k6(U/L)}em`}:{},...q,...f}),R={h1:I(i,96,1.167,-1.5),h2:I(i,60,1.2,-.5),h3:I(o,48,1.167,0),h4:I(o,34,1.235,.25),h5:I(o,24,1.334,0),h6:I(l,20,1.6,.15),subtitle1:I(o,16,1.75,.15),subtitle2:I(l,14,1.57,.1),body1:I(o,16,1.5,.15),body2:I(o,14,1.43,.15),button:I(l,14,1.75,.4,B1),caption:I(o,12,1.66,.4),overline:I(o,12,2.66,1,B1),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return _r({htmlFontSize:d,pxToRem:T,fontFamily:t,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:l,fontWeightBold:u,...R},g,{clone:!1})}const O6=.2,N6=.14,D6=.12;function vt(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${O6})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${N6})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${D6})`].join(",")}const V6=["none",vt(0,2,1,-1,0,1,1,0,0,1,3,0),vt(0,3,1,-2,0,2,2,0,0,1,5,0),vt(0,3,3,-2,0,3,4,0,0,1,8,0),vt(0,2,4,-1,0,4,5,0,0,1,10,0),vt(0,3,5,-1,0,5,8,0,0,1,14,0),vt(0,3,5,-1,0,6,10,0,0,1,18,0),vt(0,4,5,-2,0,7,10,1,0,2,16,1),vt(0,5,5,-3,0,8,10,1,0,3,14,2),vt(0,5,6,-3,0,9,12,1,0,3,16,2),vt(0,6,6,-3,0,10,14,1,0,4,18,3),vt(0,6,7,-4,0,11,15,1,0,4,20,3),vt(0,7,8,-4,0,12,17,2,0,5,22,4),vt(0,7,8,-4,0,13,19,2,0,5,24,4),vt(0,7,9,-4,0,14,21,2,0,5,26,4),vt(0,8,9,-5,0,15,22,2,0,6,28,5),vt(0,8,10,-5,0,16,24,2,0,6,30,5),vt(0,8,11,-5,0,17,26,2,0,6,32,5),vt(0,9,11,-5,0,18,28,2,0,7,34,6),vt(0,9,12,-6,0,19,29,2,0,7,36,6),vt(0,10,13,-6,0,20,31,3,0,8,38,7),vt(0,10,13,-6,0,21,33,3,0,8,40,7),vt(0,10,14,-6,0,22,35,3,0,8,42,7),vt(0,11,14,-7,0,23,36,3,0,9,44,8),vt(0,11,15,-7,0,24,38,3,0,9,46,8)],L6={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},M6={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function z1(n){return`${Math.round(n)}ms`}function F6(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function U6(n){const e={...L6,...n.easing},t={...M6,...n.duration};return{getAutoHeightDuration:F6,create:(i=["all"],o={})=>{const{duration:l=t.standard,easing:u=e.easeInOut,delay:d=0,...f}=o;return(Array.isArray(i)?i:[i]).map(m=>`${m} ${typeof l=="string"?l:z1(l)} ${u} ${typeof d=="string"?d:z1(d)}`).join(",")},...n,easing:e,duration:t}}const B6={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function j6(n){return is(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function Tk(n={}){const e={...n};function t(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[l,u]=i[o];!j6(u)||l.startsWith("unstable_")?delete r[l]:is(u)&&(r[l]={...u},t(r[l]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Ev(n={},...e){const{breakpoints:t,mixins:r={},spacing:i,palette:o={},transitions:l={},typography:u={},shape:d,...f}=n;if(n.vars)throw new Error(xa(20));const m=Iw(o),g=yk(n);let _=_r(g,{mixins:C6(g.breakpoints,r),palette:m,shadows:V6.slice(),typography:x6(m,u),transitions:U6(l),zIndex:{...B6}});return _=_r(_,f),_=e.reduce((T,I)=>_r(T,I),_),_.unstable_sxConfig={...ag,...f==null?void 0:f.unstable_sxConfig},_.unstable_sx=function(I){return _u({sx:I,theme:this})},_.toRuntimeSource=Tk,_}function z6(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const $6=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=z6(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function Sk(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function Rk(n){return n==="dark"?$6:[]}function q6(n){const{palette:e={mode:"light"},opacity:t,overlays:r,...i}=n,o=Iw(e);return{palette:o,opacity:{...Sk(o.mode),...t},overlays:r||Rk(o.mode),...i}}function W6(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const H6=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],K6=n=>(e,t)=>{const r=n.rootSelector||":root",i=n.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const l={};return H6(n.cssVarPrefix).forEach(u=>{l[u]=t[u],delete t[u]}),o==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:l}}:o?{[o.replace("%s",e)]:l,[`${r}, ${o.replace("%s",e)}`]:t}:{[r]:{...t,...l}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(o)return o.replace("%s",String(e))}return r};function G6(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function se(n,e,t){!n[e]&&t&&(n[e]=t)}function dd(n){return!n||!n.startsWith("hsl")?n:wk(n)}function es(n,e){`${e}Channel`in n||(n[`${e}Channel`]=cd(dd(n[e]),`MUI: Can't create \`palette.${e}Channel\` because \`palette.${e}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${e}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function Q6(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const yi=n=>{try{return n()}catch{}},J6=(n="mui")=>m6(n);function E_(n,e,t,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!t){n[r]=q6({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:o,...l}=Ev({...t,palette:{mode:i,...e==null?void 0:e.palette}});return n[r]={...e,palette:o,opacity:{...Sk(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||Rk(i)},l}function Y6(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:l=W6,colorSchemeSelector:u=t.light&&t.dark?"media":void 0,rootSelector:d=":root",...f}=n,m=Object.keys(t)[0],g=r||(t.light&&m!=="light"?"light":m),_=J6(o),{[g]:T,light:I,dark:R,...P}=t,L={...P};let V=T;if((g==="dark"&&!("dark"in t)||g==="light"&&!("light"in t))&&(V=!0),!V)throw new Error(xa(21,g));const U=E_(L,V,f,g);I&&!L.light&&E_(L,I,void 0,"light"),R&&!L.dark&&E_(L,R,void 0,"dark");let q={defaultColorScheme:g,...U,cssVarPrefix:o,colorSchemeSelector:u,rootSelector:d,getCssVar:_,colorSchemes:L,font:{...P6(U.typography),...U.font},spacing:Q6(f.spacing)};Object.keys(q.colorSchemes).forEach(C=>{const E=q.colorSchemes[C].palette,O=k=>{const x=k.split("-"),ee=x[1],M=x[2];return _(k,E[ee][M])};if(E.mode==="light"&&(se(E.common,"background","#fff"),se(E.common,"onBackground","#000")),E.mode==="dark"&&(se(E.common,"background","#000"),se(E.common,"onBackground","#fff")),G6(E,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),E.mode==="light"){se(E.Alert,"errorColor",at(E.error.light,.6)),se(E.Alert,"infoColor",at(E.info.light,.6)),se(E.Alert,"successColor",at(E.success.light,.6)),se(E.Alert,"warningColor",at(E.warning.light,.6)),se(E.Alert,"errorFilledBg",O("palette-error-main")),se(E.Alert,"infoFilledBg",O("palette-info-main")),se(E.Alert,"successFilledBg",O("palette-success-main")),se(E.Alert,"warningFilledBg",O("palette-warning-main")),se(E.Alert,"errorFilledColor",yi(()=>E.getContrastText(E.error.main))),se(E.Alert,"infoFilledColor",yi(()=>E.getContrastText(E.info.main))),se(E.Alert,"successFilledColor",yi(()=>E.getContrastText(E.success.main))),se(E.Alert,"warningFilledColor",yi(()=>E.getContrastText(E.warning.main))),se(E.Alert,"errorStandardBg",lt(E.error.light,.9)),se(E.Alert,"infoStandardBg",lt(E.info.light,.9)),se(E.Alert,"successStandardBg",lt(E.success.light,.9)),se(E.Alert,"warningStandardBg",lt(E.warning.light,.9)),se(E.Alert,"errorIconColor",O("palette-error-main")),se(E.Alert,"infoIconColor",O("palette-info-main")),se(E.Alert,"successIconColor",O("palette-success-main")),se(E.Alert,"warningIconColor",O("palette-warning-main")),se(E.AppBar,"defaultBg",O("palette-grey-100")),se(E.Avatar,"defaultBg",O("palette-grey-400")),se(E.Button,"inheritContainedBg",O("palette-grey-300")),se(E.Button,"inheritContainedHoverBg",O("palette-grey-A100")),se(E.Chip,"defaultBorder",O("palette-grey-400")),se(E.Chip,"defaultAvatarColor",O("palette-grey-700")),se(E.Chip,"defaultIconColor",O("palette-grey-700")),se(E.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),se(E.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),se(E.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),se(E.LinearProgress,"primaryBg",lt(E.primary.main,.62)),se(E.LinearProgress,"secondaryBg",lt(E.secondary.main,.62)),se(E.LinearProgress,"errorBg",lt(E.error.main,.62)),se(E.LinearProgress,"infoBg",lt(E.info.main,.62)),se(E.LinearProgress,"successBg",lt(E.success.main,.62)),se(E.LinearProgress,"warningBg",lt(E.warning.main,.62)),se(E.Skeleton,"bg",`rgba(${O("palette-text-primaryChannel")} / 0.11)`),se(E.Slider,"primaryTrack",lt(E.primary.main,.62)),se(E.Slider,"secondaryTrack",lt(E.secondary.main,.62)),se(E.Slider,"errorTrack",lt(E.error.main,.62)),se(E.Slider,"infoTrack",lt(E.info.main,.62)),se(E.Slider,"successTrack",lt(E.success.main,.62)),se(E.Slider,"warningTrack",lt(E.warning.main,.62));const k=tp(E.background.default,.8);se(E.SnackbarContent,"bg",k),se(E.SnackbarContent,"color",yi(()=>E.getContrastText(k))),se(E.SpeedDialAction,"fabHoverBg",tp(E.background.paper,.15)),se(E.StepConnector,"border",O("palette-grey-400")),se(E.StepContent,"border",O("palette-grey-400")),se(E.Switch,"defaultColor",O("palette-common-white")),se(E.Switch,"defaultDisabledColor",O("palette-grey-100")),se(E.Switch,"primaryDisabledColor",lt(E.primary.main,.62)),se(E.Switch,"secondaryDisabledColor",lt(E.secondary.main,.62)),se(E.Switch,"errorDisabledColor",lt(E.error.main,.62)),se(E.Switch,"infoDisabledColor",lt(E.info.main,.62)),se(E.Switch,"successDisabledColor",lt(E.success.main,.62)),se(E.Switch,"warningDisabledColor",lt(E.warning.main,.62)),se(E.TableCell,"border",lt(ep(E.divider,1),.88)),se(E.Tooltip,"bg",ep(E.grey[700],.92))}if(E.mode==="dark"){se(E.Alert,"errorColor",lt(E.error.light,.6)),se(E.Alert,"infoColor",lt(E.info.light,.6)),se(E.Alert,"successColor",lt(E.success.light,.6)),se(E.Alert,"warningColor",lt(E.warning.light,.6)),se(E.Alert,"errorFilledBg",O("palette-error-dark")),se(E.Alert,"infoFilledBg",O("palette-info-dark")),se(E.Alert,"successFilledBg",O("palette-success-dark")),se(E.Alert,"warningFilledBg",O("palette-warning-dark")),se(E.Alert,"errorFilledColor",yi(()=>E.getContrastText(E.error.dark))),se(E.Alert,"infoFilledColor",yi(()=>E.getContrastText(E.info.dark))),se(E.Alert,"successFilledColor",yi(()=>E.getContrastText(E.success.dark))),se(E.Alert,"warningFilledColor",yi(()=>E.getContrastText(E.warning.dark))),se(E.Alert,"errorStandardBg",at(E.error.light,.9)),se(E.Alert,"infoStandardBg",at(E.info.light,.9)),se(E.Alert,"successStandardBg",at(E.success.light,.9)),se(E.Alert,"warningStandardBg",at(E.warning.light,.9)),se(E.Alert,"errorIconColor",O("palette-error-main")),se(E.Alert,"infoIconColor",O("palette-info-main")),se(E.Alert,"successIconColor",O("palette-success-main")),se(E.Alert,"warningIconColor",O("palette-warning-main")),se(E.AppBar,"defaultBg",O("palette-grey-900")),se(E.AppBar,"darkBg",O("palette-background-paper")),se(E.AppBar,"darkColor",O("palette-text-primary")),se(E.Avatar,"defaultBg",O("palette-grey-600")),se(E.Button,"inheritContainedBg",O("palette-grey-800")),se(E.Button,"inheritContainedHoverBg",O("palette-grey-700")),se(E.Chip,"defaultBorder",O("palette-grey-700")),se(E.Chip,"defaultAvatarColor",O("palette-grey-300")),se(E.Chip,"defaultIconColor",O("palette-grey-300")),se(E.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),se(E.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),se(E.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),se(E.LinearProgress,"primaryBg",at(E.primary.main,.5)),se(E.LinearProgress,"secondaryBg",at(E.secondary.main,.5)),se(E.LinearProgress,"errorBg",at(E.error.main,.5)),se(E.LinearProgress,"infoBg",at(E.info.main,.5)),se(E.LinearProgress,"successBg",at(E.success.main,.5)),se(E.LinearProgress,"warningBg",at(E.warning.main,.5)),se(E.Skeleton,"bg",`rgba(${O("palette-text-primaryChannel")} / 0.13)`),se(E.Slider,"primaryTrack",at(E.primary.main,.5)),se(E.Slider,"secondaryTrack",at(E.secondary.main,.5)),se(E.Slider,"errorTrack",at(E.error.main,.5)),se(E.Slider,"infoTrack",at(E.info.main,.5)),se(E.Slider,"successTrack",at(E.success.main,.5)),se(E.Slider,"warningTrack",at(E.warning.main,.5));const k=tp(E.background.default,.98);se(E.SnackbarContent,"bg",k),se(E.SnackbarContent,"color",yi(()=>E.getContrastText(k))),se(E.SpeedDialAction,"fabHoverBg",tp(E.background.paper,.15)),se(E.StepConnector,"border",O("palette-grey-600")),se(E.StepContent,"border",O("palette-grey-600")),se(E.Switch,"defaultColor",O("palette-grey-300")),se(E.Switch,"defaultDisabledColor",O("palette-grey-600")),se(E.Switch,"primaryDisabledColor",at(E.primary.main,.55)),se(E.Switch,"secondaryDisabledColor",at(E.secondary.main,.55)),se(E.Switch,"errorDisabledColor",at(E.error.main,.55)),se(E.Switch,"infoDisabledColor",at(E.info.main,.55)),se(E.Switch,"successDisabledColor",at(E.success.main,.55)),se(E.Switch,"warningDisabledColor",at(E.warning.main,.55)),se(E.TableCell,"border",at(ep(E.divider,1),.68)),se(E.Tooltip,"bg",ep(E.grey[700],.92))}es(E.background,"default"),es(E.background,"paper"),es(E.common,"background"),es(E.common,"onBackground"),es(E,"divider"),Object.keys(E).forEach(k=>{const x=E[k];x&&typeof x=="object"&&(x.main&&se(E[k],"mainChannel",cd(dd(x.main))),x.light&&se(E[k],"lightChannel",cd(dd(x.light))),x.dark&&se(E[k],"darkChannel",cd(dd(x.dark))),x.contrastText&&se(E[k],"contrastTextChannel",cd(dd(x.contrastText))),k==="text"&&(es(E[k],"primary"),es(E[k],"secondary")),k==="action"&&(x.active&&es(E[k],"active"),x.selected&&es(E[k],"selected")))})}),q=e.reduce((C,E)=>_r(C,E),q);const j={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:l,getSelector:K6(q)},{vars:W,generateThemeVars:D,generateStyleSheets:b}=_6(q,j);return q.vars=W,Object.entries(q.colorSchemes[q.defaultColorScheme]).forEach(([C,E])=>{q[C]=E}),q.generateThemeVars=D,q.generateStyleSheets=b,q.generateSpacing=function(){return gk(f.spacing,pw(this))},q.getColorSchemeSelector=v6(u),q.spacing=q.generateSpacing(),q.shouldSkipGeneratingVar=l,q.unstable_sxConfig={...ag,...f==null?void 0:f.unstable_sxConfig},q.unstable_sx=function(E){return _u({sx:E,theme:this})},q.toRuntimeSource=Tk,q}function $1(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:Iw({...t===!0?{}:t.palette,mode:e})})}function X6(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:i=t?void 0:{light:!0},defaultColorScheme:o=t==null?void 0:t.mode,...l}=n,u=o||"light",d=i==null?void 0:i[u],f={...i,...t?{[u]:{...typeof d!="boolean"&&d,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return Ev(n,...e);let m=t;"palette"in n||f[u]&&(f[u]!==!0?m=f[u].palette:u==="dark"&&(m={mode:"dark"}));const g=Ev({...n,palette:m},...e);return g.defaultColorScheme=u,g.colorSchemes=f,g.palette.mode==="light"&&(g.colorSchemes.light={...f.light!==!0&&f.light,palette:g.palette},$1(g,"dark",f.dark)),g.palette.mode==="dark"&&(g.colorSchemes.dark={...f.dark!==!0&&f.dark,palette:g.palette},$1(g,"light",f.light)),g}return!t&&!("light"in f)&&u==="light"&&(f.light=!0),Y6({...l,colorSchemes:f,defaultColorScheme:u,...typeof r!="boolean"&&r},...e)}const Z6=X6(),e9="$$material";function bk(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const t9=n=>bk(n)&&n!=="classes",Rh=t6({themeId:e9,defaultTheme:Z6,rootShouldForwardProp:t9}),Tw=p6;function Ak(n){return f6(n)}function n9(n){return dw("MuiSvgIcon",n)}nk("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const r9=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${wo(e)}`,`fontSize${wo(t)}`]};return ZC(i,n9,r)},i9=Rh("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${wo(t.color)}`],e[`fontSize${wo(t.fontSize)}`]]}})(Tw(({theme:n})=>{var e,t,r,i,o,l,u,d,f,m,g,_,T,I;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=n.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:r.shorter}),variants:[{props:R=>!R.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((l=(o=n.typography)==null?void 0:o.pxToRem)==null?void 0:l.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((d=(u=n.typography)==null?void 0:u.pxToRem)==null?void 0:d.call(u,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((m=(f=n.typography)==null?void 0:f.pxToRem)==null?void 0:m.call(f,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,R])=>R&&R.main).map(([R])=>{var P,L;return{props:{color:R},style:{color:(L=(P=(n.vars??n).palette)==null?void 0:P[R])==null?void 0:L.main}}}),{props:{color:"action"},style:{color:(_=(g=(n.vars??n).palette)==null?void 0:g.action)==null?void 0:_.active}},{props:{color:"disabled"},style:{color:(I=(T=(n.vars??n).palette)==null?void 0:T.action)==null?void 0:I.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),sm=K.forwardRef(function(e,t){const r=Ak({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:l="inherit",component:u="svg",fontSize:d="medium",htmlColor:f,inheritViewBox:m=!1,titleAccess:g,viewBox:_="0 0 24 24",...T}=r,I=K.isValidElement(i)&&i.type==="svg",R={...r,color:l,component:u,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:m,viewBox:_,hasSvgAsChild:I},P={};m||(P.viewBox=_);const L=r9(R);return B.jsxs(i9,{as:u,className:Td(L.root,o),focusable:"false",color:f,"aria-hidden":g?void 0:!0,role:g?"img":void 0,ref:t,...P,...T,...I&&i.props,ownerState:R,children:[I?i.props.children:i,g?B.jsx("title",{children:g}):null]})});sm&&(sm.muiName="SvgIcon");function Pk(n,e){function t(r,i){return B.jsx(sm,{"data-testid":`${e}Icon`,ref:i,...r,children:n})}return t.muiName=sm.muiName,K.memo(K.forwardRef(t))}const s9=Pk(B.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),o9=Pk(B.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function a9(n){return dw("MuiRating",n)}const ed=nk("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);function l9(n){const e=n.toString().split(".")[1];return e?e.length:0}function I_(n,e){if(n==null)return n;const t=Math.round(n/e)*e;return Number(t.toFixed(l9(e)))}const u9=n=>{const{classes:e,size:t,readOnly:r,disabled:i,emptyValueFocused:o,focusVisible:l}=n,u={root:["root",`size${wo(t)}`,i&&"disabled",l&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[o&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return ZC(u,a9,e)},c9=Rh("span",{name:"MuiRating",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${ed.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${wo(t.size)}`],t.readOnly&&e.readOnly]}})(Tw(({theme:n})=>({display:"inline-flex",position:"relative",fontSize:n.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${ed.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${ed.focusVisible} .${ed.iconActive}`]:{outline:"1px solid #999"},[`& .${ed.visuallyHidden}`]:q3,variants:[{props:{size:"small"},style:{fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:n.typography.pxToRem(30)}},{props:({ownerState:e})=>e.readOnly,style:{pointerEvents:"none"}}]}))),Ck=Rh("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:n},e)=>[e.label,n.emptyValueFocused&&e.labelEmptyValueActive]})({cursor:"inherit",variants:[{props:({ownerState:n})=>n.emptyValueFocused,style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),d9=Rh("span",{name:"MuiRating",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.iconEmpty&&e.iconEmpty,t.iconFilled&&e.iconFilled,t.iconHover&&e.iconHover,t.iconFocus&&e.iconFocus,t.iconActive&&e.iconActive]}})(Tw(({theme:n})=>({display:"flex",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:({ownerState:e})=>e.iconActive,style:{transform:"scale(1.2)"}},{props:({ownerState:e})=>e.iconEmpty,style:{color:(n.vars||n).palette.action.disabled}}]}))),h9=Rh("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:n=>bk(n)&&n!=="iconActive",overridesResolver:(n,e)=>{const{iconActive:t}=n;return[e.decimal,t&&e.iconActive]}})({position:"relative",variants:[{props:({iconActive:n})=>n,style:{transform:"scale(1.2)"}}]});function f9(n){const{value:e,...t}=n;return B.jsx("span",{...t})}function q1(n){const{classes:e,disabled:t,emptyIcon:r,focus:i,getLabelText:o,highlightSelectedOnly:l,hover:u,icon:d,IconContainerComponent:f,isActive:m,itemValue:g,labelProps:_,name:T,onBlur:I,onChange:R,onClick:P,onFocus:L,readOnly:V,ownerState:U,ratingValue:q,ratingValueRounded:j}=n,W=l?g===q:g<=q,D=g<=u,b=g<=i,C=g===j,E=`${T}-${tk()}`,O=B.jsx(d9,{as:f,value:g,className:Td(e.icon,W?e.iconFilled:e.iconEmpty,D&&e.iconHover,b&&e.iconFocus,m&&e.iconActive),ownerState:{...U,iconEmpty:!W,iconFilled:W,iconHover:D,iconFocus:b,iconActive:m},children:r&&!W?r:d});return V?B.jsx("span",{..._,children:O}):B.jsxs(K.Fragment,{children:[B.jsxs(Ck,{ownerState:{...U,emptyValueFocused:void 0},htmlFor:E,..._,children:[O,B.jsx("span",{className:e.visuallyHidden,children:o(g)})]}),B.jsx("input",{className:e.visuallyHidden,onFocus:L,onBlur:I,onChange:R,onClick:P,disabled:t,value:g,id:E,type:"radio",name:T,checked:C})]})}const p9=B.jsx(s9,{fontSize:"inherit"}),m9=B.jsx(o9,{fontSize:"inherit"});function g9(n){return`${n||"0"} Star${n!==1?"s":""}`}const y9=K.forwardRef(function(e,t){const r=Ak({name:"MuiRating",props:e}),{component:i="span",className:o,defaultValue:l=null,disabled:u=!1,emptyIcon:d=m9,emptyLabelText:f="Empty",getLabelText:m=g9,highlightSelectedOnly:g=!1,icon:_=p9,IconContainerComponent:T=f9,max:I=5,name:R,onChange:P,onChangeActive:L,onMouseLeave:V,onMouseMove:U,precision:q=1,readOnly:j=!1,size:W="medium",value:D,...b}=r,C=tk(R),[E,O]=J3({controlled:D,default:l,name:"Rating"}),k=I_(E,q),x=H3(),[{hover:ee,focus:M},me]=K.useState({hover:-1,focus:-1});let oe=k;ee!==-1&&(oe=ee),M!==-1&&(oe=M);const[X,pe]=K.useState(!1),de=K.useRef(),$=Y3(de,t),ie=nt=>{U&&U(nt);const ht=de.current,{right:Yt,left:Fr,width:Er}=ht.getBoundingClientRect();let Ir;x?Ir=(Yt-nt.clientX)/Er:Ir=(nt.clientX-Fr)/Er;let zn=I_(I*Ir+q/2,q);zn=XC(zn,q,I),me($n=>$n.hover===zn&&$n.focus===zn?$n:{hover:zn,focus:zn}),pe(!1),L&&ee!==zn&&L(nt,zn)},Te=nt=>{V&&V(nt);const ht=-1;me({hover:ht,focus:ht}),L&&ee!==ht&&L(nt,ht)},Ce=nt=>{let ht=nt.target.value===""?null:parseFloat(nt.target.value);ee!==-1&&(ht=ee),O(ht),P&&P(nt,ht)},Ve=nt=>{nt.clientX===0&&nt.clientY===0||(me({hover:-1,focus:-1}),O(null),P&&parseFloat(nt.target.value)===k&&P(nt,null))},Fe=nt=>{w1(nt.target)&&pe(!0);const ht=parseFloat(nt.target.value);me(Yt=>({hover:Yt.hover,focus:ht}))},Ke=nt=>{if(ee!==-1)return;w1(nt.target)||pe(!1);const ht=-1;me(Yt=>({hover:Yt.hover,focus:ht}))},[We,tt]=K.useState(!1),gt={...r,component:i,defaultValue:l,disabled:u,emptyIcon:d,emptyLabelText:f,emptyValueFocused:We,focusVisible:X,getLabelText:m,icon:_,IconContainerComponent:T,max:I,precision:q,readOnly:j,size:W},on=u9(gt);return B.jsxs(c9,{as:i,ref:$,onMouseMove:ie,onMouseLeave:Te,className:Td(on.root,o,j&&"MuiRating-readOnly"),ownerState:gt,role:j?"img":null,"aria-label":j?m(oe):null,...b,children:[Array.from(new Array(I)).map((nt,ht)=>{const Yt=ht+1,Fr={classes:on,disabled:u,emptyIcon:d,focus:M,getLabelText:m,highlightSelectedOnly:g,hover:ee,icon:_,IconContainerComponent:T,name:C,onBlur:Ke,onChange:Ce,onClick:Ve,onFocus:Fe,ratingValue:oe,ratingValueRounded:k,readOnly:j,ownerState:gt},Er=Yt===Math.ceil(oe)&&(ee!==-1||M!==-1);if(q<1){const Ir=Array.from(new Array(1/q));return B.jsx(h9,{className:Td(on.decimal,Er&&on.iconActive),ownerState:gt,iconActive:Er,children:Ir.map((zn,$n)=>{const ir=I_(Yt-1+($n+1)*q,q);return B.jsx(q1,{...Fr,isActive:!1,itemValue:ir,labelProps:{style:Ir.length-1===$n?{}:{width:ir===oe?`${($n+1)*q*100}%`:"0%",overflow:"hidden",position:"absolute"}}},ir)})},Yt)}return B.jsx(q1,{...Fr,isActive:Er,itemValue:Yt},Yt)}),!j&&!u&&B.jsxs(Ck,{className:Td(on.label,on.labelEmptyValue),ownerState:gt,children:[B.jsx("input",{className:on.visuallyHidden,value:"",id:`${C}-empty`,type:"radio",name:C,checked:k==null,onFocus:()=>tt(!0),onBlur:()=>tt(!1),onChange:Ce}),B.jsx("span",{className:on.visuallyHidden,children:f})]})]})});var Ap={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */var _9=Ap.exports,W1;function v9(){return W1||(W1=1,function(n){(function(e,t){n.exports?n.exports=t():e.numeral=t()})(_9,function(){var e,t,r="2.0.6",i={},o={},l={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},u={currentLocale:l.currentLocale,zeroFormat:l.zeroFormat,nullFormat:l.nullFormat,defaultFormat:l.defaultFormat,scalePercentBy100:l.scalePercentBy100};function d(f,m){this._input=f,this._value=m}return e=function(f){var m,g,_,T;if(e.isNumeral(f))m=f.value();else if(f===0||typeof f>"u")m=0;else if(f===null||t.isNaN(f))m=null;else if(typeof f=="string")if(u.zeroFormat&&f===u.zeroFormat)m=0;else if(u.nullFormat&&f===u.nullFormat||!f.replace(/[^0-9]+/g,"").length)m=null;else{for(g in i)if(T=typeof i[g].regexps.unformat=="function"?i[g].regexps.unformat():i[g].regexps.unformat,T&&f.match(T)){_=i[g].unformat;break}_=_||e._.stringToNumber,m=_(f)}else m=Number(f)||null;return new d(f,m)},e.version=r,e.isNumeral=function(f){return f instanceof d},e._=t={numberToFormat:function(f,m,g){var _=o[e.options.currentLocale],T=!1,I=!1,R=0,P="",L=1e12,V=1e9,U=1e6,q=1e3,j="",W=!1,D,b,C,E,O,k,x;if(f=f||0,b=Math.abs(f),e._.includes(m,"(")?(T=!0,m=m.replace(/[\(|\)]/g,"")):(e._.includes(m,"+")||e._.includes(m,"-"))&&(O=e._.includes(m,"+")?m.indexOf("+"):f<0?m.indexOf("-"):-1,m=m.replace(/[\+|\-]/g,"")),e._.includes(m,"a")&&(D=m.match(/a(k|m|b|t)?/),D=D?D[1]:!1,e._.includes(m," a")&&(P=" "),m=m.replace(new RegExp(P+"a[kmbt]?"),""),b>=L&&!D||D==="t"?(P+=_.abbreviations.trillion,f=f/L):b<L&&b>=V&&!D||D==="b"?(P+=_.abbreviations.billion,f=f/V):b<V&&b>=U&&!D||D==="m"?(P+=_.abbreviations.million,f=f/U):(b<U&&b>=q&&!D||D==="k")&&(P+=_.abbreviations.thousand,f=f/q)),e._.includes(m,"[.]")&&(I=!0,m=m.replace("[.]",".")),C=f.toString().split(".")[0],E=m.split(".")[1],k=m.indexOf(","),R=(m.split(".")[0].split(",")[0].match(/0/g)||[]).length,E?(e._.includes(E,"[")?(E=E.replace("]",""),E=E.split("["),j=e._.toFixed(f,E[0].length+E[1].length,g,E[1].length)):j=e._.toFixed(f,E.length,g),C=j.split(".")[0],e._.includes(j,".")?j=_.delimiters.decimal+j.split(".")[1]:j="",I&&Number(j.slice(1))===0&&(j="")):C=e._.toFixed(f,0,g),P&&!D&&Number(C)>=1e3&&P!==_.abbreviations.trillion)switch(C=String(Number(C)/1e3),P){case _.abbreviations.thousand:P=_.abbreviations.million;break;case _.abbreviations.million:P=_.abbreviations.billion;break;case _.abbreviations.billion:P=_.abbreviations.trillion;break}if(e._.includes(C,"-")&&(C=C.slice(1),W=!0),C.length<R)for(var ee=R-C.length;ee>0;ee--)C="0"+C;return k>-1&&(C=C.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+_.delimiters.thousands)),m.indexOf(".")===0&&(C=""),x=C+j+(P||""),T?x=(T&&W?"(":"")+x+(T&&W?")":""):O>=0?x=O===0?(W?"-":"+")+x:x+(W?"-":"+"):W&&(x="-"+x),x},stringToNumber:function(f){var m=o[u.currentLocale],g=f,_={thousand:3,million:6,billion:9,trillion:12},T,I,R;if(u.zeroFormat&&f===u.zeroFormat)I=0;else if(u.nullFormat&&f===u.nullFormat||!f.replace(/[^0-9]+/g,"").length)I=null;else{I=1,m.delimiters.decimal!=="."&&(f=f.replace(/\./g,"").replace(m.delimiters.decimal,"."));for(T in _)if(R=new RegExp("[^a-zA-Z]"+m.abbreviations[T]+"(?:\\)|(\\"+m.currency.symbol+")?(?:\\))?)?$"),g.match(R)){I*=Math.pow(10,_[T]);break}I*=(f.split("-").length+Math.min(f.split("(").length-1,f.split(")").length-1))%2?1:-1,f=f.replace(/[^0-9\.]+/g,""),I*=Number(f)}return I},isNaN:function(f){return typeof f=="number"&&isNaN(f)},includes:function(f,m){return f.indexOf(m)!==-1},insert:function(f,m,g){return f.slice(0,g)+m+f.slice(g)},reduce:function(f,m){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof m!="function")throw new TypeError(m+" is not a function");var g=Object(f),_=g.length>>>0,T=0,I;if(arguments.length===3)I=arguments[2];else{for(;T<_&&!(T in g);)T++;if(T>=_)throw new TypeError("Reduce of empty array with no initial value");I=g[T++]}for(;T<_;T++)T in g&&(I=m(I,g[T],T,g));return I},multiplier:function(f){var m=f.toString().split(".");return m.length<2?1:Math.pow(10,m[1].length)},correctionFactor:function(){var f=Array.prototype.slice.call(arguments);return f.reduce(function(m,g){var _=t.multiplier(g);return m>_?m:_},1)},toFixed:function(f,m,g,_){var T=f.toString().split("."),I=m-(_||0),R,P,L,V;return T.length===2?R=Math.min(Math.max(T[1].length,I),m):R=I,L=Math.pow(10,R),V=(g(f+"e+"+R)/L).toFixed(R),_>m-R&&(P=new RegExp("\\.?0{1,"+(_-(m-R))+"}$"),V=V.replace(P,"")),V}},e.options=u,e.formats=i,e.locales=o,e.locale=function(f){return f&&(u.currentLocale=f.toLowerCase()),u.currentLocale},e.localeData=function(f){if(!f)return o[u.currentLocale];if(f=f.toLowerCase(),!o[f])throw new Error("Unknown locale : "+f);return o[f]},e.reset=function(){for(var f in l)u[f]=l[f]},e.zeroFormat=function(f){u.zeroFormat=typeof f=="string"?f:null},e.nullFormat=function(f){u.nullFormat=typeof f=="string"?f:null},e.defaultFormat=function(f){u.defaultFormat=typeof f=="string"?f:"0.0"},e.register=function(f,m,g){if(m=m.toLowerCase(),this[f+"s"][m])throw new TypeError(m+" "+f+" already registered.");return this[f+"s"][m]=g,g},e.validate=function(f,m){var g,_,T,I,R,P,L,V;if(typeof f!="string"&&(f+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",f)),f=f.trim(),f.match(/^\d+$/))return!0;if(f==="")return!1;try{L=e.localeData(m)}catch{L=e.localeData(e.locale())}return T=L.currency.symbol,R=L.abbreviations,g=L.delimiters.decimal,L.delimiters.thousands==="."?_="\\.":_=L.delimiters.thousands,V=f.match(/^[^\d]+/),V!==null&&(f=f.substr(1),V[0]!==T)||(V=f.match(/[^\d]+$/),V!==null&&(f=f.slice(0,-1),V[0]!==R.thousand&&V[0]!==R.million&&V[0]!==R.billion&&V[0]!==R.trillion))?!1:(P=new RegExp(_+"{2}"),f.match(/[^\d.,]/g)?!1:(I=f.split(g),I.length>2?!1:I.length<2?!!I[0].match(/^\d+.*\d$/)&&!I[0].match(P):I[0].length===1?!!I[0].match(/^\d+$/)&&!I[0].match(P)&&!!I[1].match(/^\d+$/):!!I[0].match(/^\d+.*\d$/)&&!I[0].match(P)&&!!I[1].match(/^\d+$/)))},e.fn=d.prototype={clone:function(){return e(this)},format:function(f,m){var g=this._value,_=f||u.defaultFormat,T,I,R;if(m=m||Math.round,g===0&&u.zeroFormat!==null)I=u.zeroFormat;else if(g===null&&u.nullFormat!==null)I=u.nullFormat;else{for(T in i)if(_.match(i[T].regexps.format)){R=i[T].format;break}R=R||e._.numberToFormat,I=R(g,_,m)}return I},value:function(){return this._value},input:function(){return this._input},set:function(f){return this._value=Number(f),this},add:function(f){var m=t.correctionFactor.call(null,this._value,f);function g(_,T,I,R){return _+Math.round(m*T)}return this._value=t.reduce([this._value,f],g,0)/m,this},subtract:function(f){var m=t.correctionFactor.call(null,this._value,f);function g(_,T,I,R){return _-Math.round(m*T)}return this._value=t.reduce([f],g,Math.round(this._value*m))/m,this},multiply:function(f){function m(g,_,T,I){var R=t.correctionFactor(g,_);return Math.round(g*R)*Math.round(_*R)/Math.round(R*R)}return this._value=t.reduce([this._value,f],m,1),this},divide:function(f){function m(g,_,T,I){var R=t.correctionFactor(g,_);return Math.round(g*R)/Math.round(_*R)}return this._value=t.reduce([this._value,f],m),this},difference:function(f){return Math.abs(e(this._value).subtract(f).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(f){var m=f%10;return~~(f%100/10)===1?"th":m===1?"st":m===2?"nd":m===3?"rd":"th"},currency:{symbol:"$"}}),function(){e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(f,m,g){var _=e._.includes(m," BPS")?" ":"",T;return f=f*1e4,m=m.replace(/\s?BPS/,""),T=e._.numberToFormat(f,m,g),e._.includes(T,")")?(T=T.split(""),T.splice(-1,0,_+"BPS"),T=T.join("")):T=T+_+"BPS",T},unformat:function(f){return+(e._.stringToNumber(f)*1e-4).toFixed(15)}})}(),function(){var f={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},m={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},g=f.suffixes.concat(m.suffixes.filter(function(T){return f.suffixes.indexOf(T)<0})),_=g.join("|");_="("+_.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(_)},format:function(T,I,R){var P,L=e._.includes(I,"ib")?m:f,V=e._.includes(I," b")||e._.includes(I," ib")?" ":"",U,q,j;for(I=I.replace(/\s?i?b/,""),U=0;U<=L.suffixes.length;U++)if(q=Math.pow(L.base,U),j=Math.pow(L.base,U+1),T===null||T===0||T>=q&&T<j){V+=L.suffixes[U],q>0&&(T=T/q);break}return P=e._.numberToFormat(T,I,R),P+V},unformat:function(T){var I=e._.stringToNumber(T),R,P;if(I){for(R=f.suffixes.length-1;R>=0;R--){if(e._.includes(T,f.suffixes[R])){P=Math.pow(f.base,R);break}if(e._.includes(T,m.suffixes[R])){P=Math.pow(m.base,R);break}}I*=P||1}return I}})}(),function(){e.register("format","currency",{regexps:{format:/(\$)/},format:function(f,m,g){var _=e.locales[e.options.currentLocale],T={before:m.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:m.match(/([\+|\-|\)|\s|\$]*)$/)[0]},I,R,P;for(m=m.replace(/\s?\$\s?/,""),I=e._.numberToFormat(f,m,g),f>=0?(T.before=T.before.replace(/[\-\(]/,""),T.after=T.after.replace(/[\-\)]/,"")):f<0&&!e._.includes(T.before,"-")&&!e._.includes(T.before,"(")&&(T.before="-"+T.before),P=0;P<T.before.length;P++)switch(R=T.before[P],R){case"$":I=e._.insert(I,_.currency.symbol,P);break;case" ":I=e._.insert(I," ",P+_.currency.symbol.length-1);break}for(P=T.after.length-1;P>=0;P--)switch(R=T.after[P],R){case"$":I=P===T.after.length-1?I+_.currency.symbol:e._.insert(I,_.currency.symbol,-(T.after.length-(1+P)));break;case" ":I=P===T.after.length-1?I+" ":e._.insert(I," ",-(T.after.length-(1+P)+_.currency.symbol.length-1));break}return I}})}(),function(){e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(f,m,g){var _,T=typeof f=="number"&&!e._.isNaN(f)?f.toExponential():"0e+0",I=T.split("e");return m=m.replace(/e[\+|\-]{1}0/,""),_=e._.numberToFormat(Number(I[0]),m,g),_+"e"+I[1]},unformat:function(f){var m=e._.includes(f,"e+")?f.split("e+"):f.split("e-"),g=Number(m[0]),_=Number(m[1]);_=e._.includes(f,"e-")?_*=-1:_;function T(I,R,P,L){var V=e._.correctionFactor(I,R),U=I*V*(R*V)/(V*V);return U}return e._.reduce([g,Math.pow(10,_)],T,1)}})}(),function(){e.register("format","ordinal",{regexps:{format:/(o)/},format:function(f,m,g){var _=e.locales[e.options.currentLocale],T,I=e._.includes(m," o")?" ":"";return m=m.replace(/\s?o/,""),I+=_.ordinal(f),T=e._.numberToFormat(f,m,g),T+I}})}(),function(){e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(f,m,g){var _=e._.includes(m," %")?" ":"",T;return e.options.scalePercentBy100&&(f=f*100),m=m.replace(/\s?\%/,""),T=e._.numberToFormat(f,m,g),e._.includes(T,")")?(T=T.split(""),T.splice(-1,0,_+"%"),T=T.join("")):T=T+_+"%",T},unformat:function(f){var m=e._.stringToNumber(f);return e.options.scalePercentBy100?m*.01:m}})}(),function(){e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(f,m,g){var _=Math.floor(f/60/60),T=Math.floor((f-_*60*60)/60),I=Math.round(f-_*60*60-T*60);return _+":"+(T<10?"0"+T:T)+":"+(I<10?"0"+I:I)},unformat:function(f){var m=f.split(":"),g=0;return m.length===3?(g=g+Number(m[0])*60*60,g=g+Number(m[1])*60,g=g+Number(m[2])):m.length===2&&(g=g+Number(m[0])*60,g=g+Number(m[1])),Number(g)}})}(),e})}(Ap)),Ap.exports}var w9=v9();const E9=Rv(w9),Sw=({amount:n})=>{const e=E9(n).format("$0,0.00");return B.jsx("div",{children:e})},I9="_Card_container_1nq7v_5",T9="_button_1nq7v_23",S9="_detail_1nq7v_81",R9="_Card_rating_1nq7v_105",b9="_product_container_1nq7v_117",A9="_product_flexed_1nq7v_143",$l={Card_container:I9,button:T9,detail:S9,Card_rating:R9,product_container:b9,product_flexed:A9};function Fa({product:n,flex:e,renderDesc:t,renderAdd:r}){const{image:i,title:o,id:l,rating:u,price:d,description:f}=n,[m,g]=K.useContext(_s),_=()=>{g({type:ti.ADD_TO_BASKET,item:{image:i,title:o,id:l,rating:u,price:d,description:f}})};return B.jsxs("div",{className:`${$l.Card_container}  ${$l.product_fixed}`,children:[B.jsxs(Si,{to:`/products/${l}`,children:[B.jsx("img",{src:i||"https://via.placeholder.com/150",alt:o}),B.jsx("button",{className:$l.detail,children:"View Product"})]}),B.jsxs("div",{children:[B.jsx("h3",{children:o}),B.jsxs("div",{className:$l.rating,children:[B.jsx(y9,{value:(u==null?void 0:u.rate)||0,precision:.1,readOnly:!0}),B.jsx("small",{children:u==null?void 0:u.count})]}),B.jsx("div",{children:B.jsx(Sw,{amount:d||0})}),B.jsx("button",{className:$l.button,onClick:_,children:"Add to Cart"})]})]})}Fa.propTypes={image:je.string,title:je.string,price:je.number,id:je.oneOfType([je.string,je.number]).isRequired,rating:je.oneOfType([je.string,je.number]).isRequired};function P9(){const[n,e]=K.useState([]);return K.useEffect(()=>{kt.get("https://fakestoreapi.com/products").then(t=>{e(t.data)}).catch(t=>{console.log(t)})},[]),B.jsx("section",{className:$l.product_container,children:n==null?void 0:n.map(t=>B.jsx(Fa,{product:t,renderAdd:!0},t.id))})}function C9(){return B.jsxs(ds,{children:[B.jsx(u5,{}),B.jsx(p5,{}),B.jsx(P9,{})]})}const k9="_login_1etfx_5",x9="_login_container_1etfx_27",O9="_login_signInButton_1etfx_97",N9="_login_registerButton_1etfx_99",np={login:k9,login_container:x9,login_signInButton:O9,login_registerButton:N9};var D9={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function V9(n){if(typeof n=="number")return{value:n,unit:"px"};var e,t=(n.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var r=(n.match(/[^0-9]*$/)||"").toString();return D9[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function T_(n){var e=V9(n);return"".concat(e.value).concat(e.unit)}var L9=function(n,e,t){var r="react-spinners-".concat(n,"-").concat(t);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var o=i.sheet,l=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return o&&o.insertRule(l,0),r},om=function(){return om=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},om.apply(this,arguments)},M9=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},F9=L9("BeatLoader","50% {transform: scale(0.75);opacity: 0.2} 100% {transform: scale(1);opacity: 1}","beat");function Iv(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,o=n.speedMultiplier,l=o===void 0?1:o,u=n.cssOverride,d=u===void 0?{}:u,f=n.size,m=f===void 0?15:f,g=n.margin,_=g===void 0?2:g,T=M9(n,["loading","color","speedMultiplier","cssOverride","size","margin"]),I=om({display:"inherit"},d),R=function(P){return{display:"inline-block",backgroundColor:i,width:T_(m),height:T_(m),margin:T_(_),borderRadius:"100%",animation:"".concat(F9," ").concat(.7/l,"s ").concat(P%2?"0s":"".concat(.35/l,"s")," infinite linear"),animationFillMode:"both"}};return t?K.createElement("span",om({style:I},T),K.createElement("span",{style:R(1)}),K.createElement("span",{style:R(2)}),K.createElement("span",{style:R(3)})):null}function U9(){var T,I;const[n,e]=K.useState(""),[t,r]=K.useState(""),[i,o]=K.useState(""),[l,u]=K.useState({signIn:!1,signUp:!1}),[{user:d},f]=K.useContext(_s),m=lm(),g=So();console.log(g);const _=async R=>{R.preventDefault(),console.log(R.target.name),R.target.name==="signin"?(u({...l,signIn:!0}),Tb(em,n,t).then(P=>{var L;f({type:ti.SET_USER,user:P.user}),u({...l,signIn:!1}),m(((L=g==null?void 0:g.state)==null?void 0:L.redirect)||"/")}).catch(P=>{o(P.message),u({...l,signIn:!1})})):(u({...l,signUp:!0}),Ib(em,n,t).then(P=>{var L;f({type:ti.SET_USER,user:P.user}),u({...l,signUp:!1}),m(((L=g==null?void 0:g.state)==null?void 0:L.redirect)||"/")}).catch(P=>{o(P.message),u({...l,signUp:!1})}))};return B.jsxs("section",{className:np.login,children:[B.jsx(Si,{to:"/",children:B.jsx("img",{src:"https://en.wikichip.org/w/images/thumb/a/a9/Amazon_logo.svg/603px-Amazon_logo.svg.png",alt:""})}),B.jsxs("div",{className:np.login_container,children:[B.jsx("h1",{children:"Sign-In"}),((T=g==null?void 0:g.state)==null?void 0:T.msg)&&B.jsx("small",{style:{padding:"5px",textAlign:"center",color:"red",fontWeight:"bold"},children:(I=g==null?void 0:g.state)==null?void 0:I.msg}),B.jsxs("form",{action:"",children:[B.jsxs("div",{children:[B.jsx("label",{htmlFor:"email",children:"Email"}),B.jsx("input",{value:n,onChange:R=>e(R.target.value),type:"email",id:"email"})]}),B.jsxs("div",{children:[B.jsx("label",{htmlFor:"password",children:"Password"}),B.jsx("input",{value:t,onChange:R=>r(R.target.value),type:"password",id:"password"})]}),B.jsx("button",{type:"submit",onClick:_,name:"signin",className:np.login_signInButton,children:l.signIn?B.jsx(Iv,{color:"#000",size:15}):"Sign In"})]}),B.jsx("p",{children:"By signing in, you agree to our Terms of Service and Privacy Policy. You consent to the collection and use of your data as outlined in our policies. You confirm that all information provided is accurate to the best of your knowledge."}),B.jsx("button",{type:"submit",onClick:_,name:"signup",className:np.login_registerButton,children:l.signUp?B.jsx(Iv,{color:"#000",size:15}):"Create your Amazon Account"}),i&&B.jsx("small",{style:{paddingTop:"5px",color:"red"},children:i})]})]})}const B9="_payment_header_1uo82_3",j9="_payment_1uo82_3",z9="_flex_1uo82_21",$9="_payment_card_container_1uo82_49",q9="_payment__details_1uo82_57",W9="_payment__price_1uo82_77",H9="_loading_1uo82_817",ts={payment_header:B9,payment:j9,flex:z9,payment_card_container:$9,payment__details:q9,payment__price:W9,loading:H9};function H1(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function K1(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?H1(Object(t),!0).forEach(function(r){kk(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):H1(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Pp(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Pp=function(e){return typeof e}:Pp=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pp(n)}function kk(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function xk(n,e){return K9(n)||G9(n,e)||Q9(n,e)||J9()}function K9(n){if(Array.isArray(n))return n}function G9(n,e){var t=n&&(typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"]);if(t!=null){var r=[],i=!0,o=!1,l,u;try{for(t=t.call(n);!(i=(l=t.next()).done)&&(r.push(l.value),!(e&&r.length===e));i=!0);}catch(d){o=!0,u=d}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw u}}return r}}function Q9(n,e){if(n){if(typeof n=="string")return G1(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return G1(n,e)}}function G1(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function J9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var fr=function(e,t,r){var i=!!r,o=ze.useRef(r);ze.useEffect(function(){o.current=r},[r]),ze.useEffect(function(){if(!i||!e)return function(){};var l=function(){o.current&&o.current.apply(o,arguments)};return e.on(t,l),function(){e.off(t,l)}},[i,t,e,o])},Tv=function(e){var t=ze.useRef(e);return ze.useEffect(function(){t.current=e},[e]),t.current},wu=function(e){return e!==null&&Pp(e)==="object"},Y9=function(e){return wu(e)&&typeof e.then=="function"},X9=function(e){return wu(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},Q1="[object Object]",Z9=function n(e,t){if(!wu(e)||!wu(t))return e===t;var r=Array.isArray(e),i=Array.isArray(t);if(r!==i)return!1;var o=Object.prototype.toString.call(e)===Q1,l=Object.prototype.toString.call(t)===Q1;if(o!==l)return!1;if(!o&&!r)return e===t;var u=Object.keys(e),d=Object.keys(t);if(u.length!==d.length)return!1;for(var f={},m=0;m<u.length;m+=1)f[u[m]]=!0;for(var g=0;g<d.length;g+=1)f[d[g]]=!0;var _=Object.keys(f);if(_.length!==u.length)return!1;var T=e,I=t,R=function(L){return n(T[L],I[L])};return _.every(R)},Ok=function(e,t,r){return wu(e)?Object.keys(e).reduce(function(i,o){var l=!wu(t)||!Z9(e[o],t[o]);return r.includes(o)?(l&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),i):l?K1(K1({},i||{}),{},kk({},o,e[o])):i},null):null},Nk="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",J1=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Nk;if(e===null||X9(e))return e;throw new Error(t)},eq=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Nk;if(Y9(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return J1(i,t)})};var r=J1(e,t);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},tq=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"2.9.0"}),e.registerAppInfo({name:"react-stripe-js",version:"2.9.0",url:"https://stripe.com/docs/stripe-js/react"}))},hg=ze.createContext(null);hg.displayName="ElementsContext";var Dk=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},Vk=function(e){var t=e.stripe,r=e.options,i=e.children,o=ze.useMemo(function(){return eq(t)},[t]),l=ze.useState(function(){return{stripe:o.tag==="sync"?o.stripe:null,elements:o.tag==="sync"?o.stripe.elements(r):null}}),u=xk(l,2),d=u[0],f=u[1];ze.useEffect(function(){var _=!0,T=function(R){f(function(P){return P.stripe?P:{stripe:R,elements:R.elements(r)}})};return o.tag==="async"&&!d.stripe?o.stripePromise.then(function(I){I&&_&&T(I)}):o.tag==="sync"&&!d.stripe&&T(o.stripe),function(){_=!1}},[o,d,r]);var m=Tv(t);ze.useEffect(function(){m!==null&&m!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[m,t]);var g=Tv(r);return ze.useEffect(function(){if(d.elements){var _=Ok(r,g,["clientSecret","fonts"]);_&&d.elements.update(_)}},[r,g,d.elements]),ze.useEffect(function(){tq(d.stripe)},[d.stripe]),ze.createElement(hg.Provider,{value:d},i)};Vk.propTypes={stripe:je.any,options:je.object};var nq=function(e){var t=ze.useContext(hg);return Dk(t,e)},rq=function(){var e=nq("calls useElements()"),t=e.elements;return t};je.func.isRequired;var Lk=ze.createContext(null);Lk.displayName="CheckoutSdkContext";var iq=function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e},sq=ze.createContext(null);sq.displayName="CheckoutContext";je.any,je.shape({clientSecret:je.string.isRequired,elementsOptions:je.object}).isRequired;var Sv=function(e){var t=ze.useContext(Lk),r=ze.useContext(hg);if(t&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t?iq(t,e):Dk(r,e)},oq=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Qt=function(e,t){var r="".concat(oq(e),"Element"),i=function(d){var f=d.id,m=d.className,g=d.options,_=g===void 0?{}:g,T=d.onBlur,I=d.onFocus,R=d.onReady,P=d.onChange,L=d.onEscape,V=d.onClick,U=d.onLoadError,q=d.onLoaderStart,j=d.onNetworksChange,W=d.onConfirm,D=d.onCancel,b=d.onShippingAddressChange,C=d.onShippingRateChange,E=Sv("mounts <".concat(r,">")),O="elements"in E?E.elements:null,k="checkoutSdk"in E?E.checkoutSdk:null,x=ze.useState(null),ee=xk(x,2),M=ee[0],me=ee[1],oe=ze.useRef(null),X=ze.useRef(null);fr(M,"blur",T),fr(M,"focus",I),fr(M,"escape",L),fr(M,"click",V),fr(M,"loaderror",U),fr(M,"loaderstart",q),fr(M,"networkschange",j),fr(M,"confirm",W),fr(M,"cancel",D),fr(M,"shippingaddresschange",b),fr(M,"shippingratechange",C),fr(M,"change",P);var pe;R&&(e==="expressCheckout"?pe=R:pe=function(){R(M)}),fr(M,"ready",pe),ze.useLayoutEffect(function(){if(oe.current===null&&X.current!==null&&(O||k)){var $=null;k?$=k.createElement(e,_):O&&($=O.create(e,_)),oe.current=$,me($),$&&$.mount(X.current)}},[O,k,_]);var de=Tv(_);return ze.useEffect(function(){if(oe.current){var $=Ok(_,de,["paymentRequest"]);$&&"update"in oe.current&&oe.current.update($)}},[_,de]),ze.useLayoutEffect(function(){return function(){if(oe.current&&typeof oe.current.destroy=="function")try{oe.current.destroy(),oe.current=null}catch{}}},[]),ze.createElement("div",{id:f,className:m,ref:X})},o=function(d){Sv("mounts <".concat(r,">"));var f=d.id,m=d.className;return ze.createElement("div",{id:f,className:m})},l=t?o:i;return l.propTypes={id:je.string,className:je.string,onChange:je.func,onBlur:je.func,onFocus:je.func,onReady:je.func,onEscape:je.func,onClick:je.func,onLoadError:je.func,onLoaderStart:je.func,onNetworksChange:je.func,onConfirm:je.func,onCancel:je.func,onShippingAddressChange:je.func,onShippingRateChange:je.func,options:je.object},l.displayName=r,l.__elementType=e,l},Jt=typeof window>"u",aq=ze.createContext(null);aq.displayName="EmbeddedCheckoutProviderContext";var lq=function(){var e=Sv("calls useStripe()"),t=e.stripe;return t};Qt("auBankAccount",Jt);var Y1=Qt("card",Jt);Qt("cardNumber",Jt);Qt("cardExpiry",Jt);Qt("cardCvc",Jt);Qt("fpxBank",Jt);Qt("iban",Jt);Qt("idealBank",Jt);Qt("p24Bank",Jt);Qt("epsBank",Jt);Qt("payment",Jt);Qt("expressCheckout",Jt);Qt("currencySelector",Jt);Qt("paymentRequestButton",Jt);Qt("linkAuthentication",Jt);Qt("address",Jt);Qt("shippingAddress",Jt);Qt("paymentMethodMessaging",Jt);Qt("affirmMessage",Jt);Qt("afterpayClearpayMessage",Jt);const uq=kt.create({baseURL:"https://amazon-api-ajxt.onrender.com/"});function cq(){const[{user:n,basket:e},t]=K.useContext(_s),r=e==null?void 0:e.reduce((I,R)=>R.amount+I,0),i=e==null?void 0:e.reduce((I,R)=>R.price*R.amount+I,0),[o,l]=K.useState(null),[u,d]=K.useState(!1),f=lq(),m=rq(),g=lm(),_=I=>{var R;l(((R=I.error)==null?void 0:R.message)||"")},T=async I=>{var R;I.preventDefault();try{d(!0);const L=(R=(await uq.post(`/payment/create?total=${i*100}`)).data)==null?void 0:R.clientSecret,{paymentIntent:V}=await f.confirmCardPayment(L,{payment_method:{card:m.getElement(Y1)}});await wC.collection("users").doc(n.uid).collection("orders").doc(V.id).set({basket:e,amount:V.amount,created:V.created}),t({type:Type.EMPTY_BASKET}),d(!1),g("/orders",{state:{msg:"You have placed a new order."}})}catch(P){console.error("Payment Error:",P),d(!1)}};return B.jsxs(ds,{children:[B.jsxs("div",{className:ts.payment_header,children:["Checkout (",r,") items"]}),B.jsxs("section",{className:ts.payment,children:[B.jsxs("div",{className:ts.flex,children:[B.jsx("h3",{children:"Delivery Address"}),B.jsxs("div",{children:[B.jsx("div",{children:n==null?void 0:n.email}),B.jsx("div",{children:"123 REEE"}),B.jsx("div",{children:"KSA"})]})]}),B.jsx("hr",{}),B.jsxs("div",{className:ts.flex,children:[B.jsx("h3",{children:"Review Items and Delivery"}),B.jsx("div",{children:e==null?void 0:e.map(I=>B.jsx(Fa,{product:I,flex:!0},I.id))})]}),B.jsx("hr",{}),B.jsxs("div",{className:ts.flex,children:[B.jsx("h3",{children:"Payment Method"}),B.jsx("div",{className:ts.payment_card_container,children:B.jsx("div",{className:ts.payment__details,children:B.jsxs("form",{onSubmit:T,children:[o&&B.jsx("small",{style:{color:"red"},children:o}),B.jsx(Y1,{onChange:_}),B.jsxs("div",{className:ts.payment__price,children:[B.jsx("div",{children:B.jsxs("span",{style:{display:"flex",gap:"10px"},children:[B.jsx("p",{children:"Total Order |"}),B.jsx(Sw,{amount:i})]})}),B.jsx("button",{type:"submit",disabled:u,children:u?B.jsxs("div",{className:ts.loading,children:[B.jsx(Iv,{color:"gray",size:12}),B.jsx("p",{children:"Please wait..."})]}):"Pay Now"})]})]})})})]})]})]})}const dq="_container_ha03w_5",hq="_orders__container_ha03w_13",X1={container:dq,orders__container:hq};function fq(){const[{user:n}]=K.useContext(_s),[e,t]=K.useState([]);return K.useEffect(()=>{if(n){const r=wC.collection("users").doc(n.uid).collection("orders").orderBy("created","desc").onSnapshot(i=>{t(i.docs.map(o=>({id:o.id,data:o.data()})))});return()=>r()}else t([])},[n]),B.jsx(ds,{children:B.jsx("section",{className:X1.container,children:B.jsxs("div",{className:X1.orders__container,children:[B.jsx("h2",{children:"Your Orders"}),(e==null?void 0:e.length)===0&&B.jsx("div",{style:{padding:"20px"},children:"You do not have any orders yet."}),B.jsx("div",{children:e==null?void 0:e.map((r,i)=>{var o,l;return B.jsxs("div",{children:[B.jsx("hr",{}),B.jsxs("p",{children:["Order ID: ",r.id]}),B.jsx("div",{children:(l=(o=r==null?void 0:r.data)==null?void 0:o.basket)==null?void 0:l.map(u=>B.jsx(Fa,{flex:!0,product:u},u.id))})]},r.id)})})]})})})}const pq="_container_1tv6y_5",mq="_subtotal_1tv6y_27",gq="_cart_product_1tv6y_35",yq="_btn_container_1tv6y_45",_q="_cart__container_1tv6y_85",td={container:pq,subtotal:mq,cart_product:gq,btn_container:yq,cart__container:_q};function vq(n){return Tu({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"},child:[]}]})(n)}function wq(n){return Tu({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z"},child:[]}]})(n)}function Eq(){const[{basket:n,user:e},t]=K.useContext(_s),r=n.reduce((l,u)=>u.price*u.amount+l,0),i=l=>{t({type:ti.ADD_TO_BASKET,item:l})},o=l=>{t({type:ti.REMOVE_FROM_BASKET,id:l})};return B.jsx(ds,{children:B.jsxs("section",{className:td.container,children:[B.jsxs("div",{className:td.cart__container,children:[B.jsx("h2",{children:"Hello"}),B.jsx("h3",{children:"Your shopping basket"}),B.jsx("hr",{}),(n==null?void 0:n.length)==0?B.jsx("p",{children:" No item in your cart"}):n==null?void 0:n.map((l,u)=>B.jsxs("section",{className:td.cart_product,children:[B.jsx(Fa,{product:l,render_desc:!0,renderAdd:!1,flex:!0},u),B.jsxs("div",{className:td.btn_container,children:[B.jsx("button",{onClick:()=>i(l),children:B.jsx(wq,{size:30})}),B.jsx("span",{children:l.amount}),B.jsx("button",{onClick:()=>o(l.id),children:B.jsx(vq,{size:30})})]})]}))]}),(n==null?void 0:n.length)!==0&&B.jsxs("div",{className:td.subtotal,children:[B.jsxs("div",{children:[B.jsxs("p",{children:["Subtotal (",n==null?void 0:n.length,"items)"]}),B.jsx(Sw,{amount:r})]}),B.jsxs("span",{children:[B.jsx("input",{type:"checkbox"}),B.jsx("small",{children:"This Order Contains a Gift"})]}),B.jsx(Si,{to:"/payments",children:"Continue to CheckOut"})]})]})})}const Iq="_product_container_3z10l_5",Tq={product_container:Iq},Mk="https://fakestoreapi.com";function Sq(){const{categoryName:n}=fR(),[e,t]=K.useState([]),[r,i]=K.useState(!0),[o,l]=K.useState(null);return K.useEffect(()=>{i(!0),l(null),kt.get(`${Mk}/products/category/${n}`).then(u=>{t(u.data),i(!1)}).catch(u=>{console.log(u),l("Failed to fetch products"),i(!1)})},[n]),r?B.jsx("p",{children:"Loading..."}):o?B.jsx("p",{children:o}):B.jsx(ds,{children:B.jsxs("section",{children:[B.jsx("h1",{style:{padding:"30px"},children:"Results"}),B.jsxs("p",{style:{padding:"30px"},children:["Category / ",n]}),B.jsx("hr",{}),B.jsx("div",{className:Tq.product_container,children:e==null?void 0:e.map(u=>B.jsx(Fa,{product:u},u.id))})]})})}function Rq(){const{productId:n}=fR(),[e,t]=K.useState({}),[r,i]=K.useState(!0),[o,l]=K.useState(!1);return console.log(e),K.useEffect(()=>{kt.get(`${Mk}/products/${n}`).then(u=>{console.log(u.data),t(u.data),i(!1)}).catch(u=>{console.error(u),l(!0),i(!1)})},[n]),r?B.jsx(ds,{children:B.jsx("p",{children:"Loading product details..."})}):o?B.jsx(ds,{children:B.jsx("p",{children:"Error: Product not found."})}):B.jsxs(ds,{children:[B.jsx("h1",{children:"Product Detail"}),B.jsx(Fa,{product:e,flex:!0,renderDesc:!0,renderAdd:!0})]})}var Fk="https://js.stripe.com/v3",bq=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Z1="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",Aq=function(){for(var e=document.querySelectorAll('script[src^="'.concat(Fk,'"]')),t=0;t<e.length;t++){var r=e[t];if(bq.test(r.src))return r}return null},eR=function(e){var t="",r=document.createElement("script");r.src="".concat(Fk).concat(t);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},Pq=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"5.1.0",startTime:t})},nd=null,rp=null,ip=null,Cq=function(e){return function(){e(new Error("Failed to load Stripe.js"))}},kq=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},xq=function(e){return nd!==null?nd:(nd=new Promise(function(t,r){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe&&e&&console.warn(Z1),window.Stripe){t(window.Stripe);return}try{var i=Aq();if(i&&e)console.warn(Z1);else if(!i)i=eR(e);else if(i&&ip!==null&&rp!==null){var o;i.removeEventListener("load",ip),i.removeEventListener("error",rp),(o=i.parentNode)===null||o===void 0||o.removeChild(i),i=eR(e)}ip=kq(t,r),rp=Cq(r),i.addEventListener("load",ip),i.addEventListener("error",rp)}catch(l){r(l);return}}),nd.catch(function(t){return nd=null,Promise.reject(t)}))},Oq=function(e,t,r){if(e===null)return null;var i=e.apply(void 0,t);return Pq(i,r),i},rd,Uk=!1,Bk=function(){return rd||(rd=xq(null).catch(function(e){return rd=null,Promise.reject(e)}),rd)};Promise.resolve().then(function(){return Bk()}).catch(function(n){Uk||console.warn(n)});var Nq=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Uk=!0;var i=Date.now();return Bk().then(function(o){return Oq(o,t,i)})};const tR=({children:n,msg:e,redirect:t})=>{const[{user:r},i]=K.useContext(_s),o=lm();return K.useEffect(()=>{r||o("/auth",{state:{msg:e,redirect:t}})},[r]),n},Dq=Nq("pk_test_51QTJeqHI3c1M4fqbx6v11XBuYJWzgk2Vbr5yssloadX6DSbIJSTuKaVEa5IqXfwXy8yLSf8KK1yCKOOVrBaqW99M00cZoXa8IN");function Vq(){return B.jsx(yN,{children:B.jsxs(KO,{children:[B.jsx(ns,{path:"/",element:B.jsx(C9,{})}),B.jsx(ns,{path:"/auth",element:B.jsx(U9,{})}),B.jsx(ns,{path:"/payments",element:B.jsx(tR,{msg:"you must login to pay",redirect:"/payments",children:B.jsx(Vk,{stripe:Dq,children:B.jsx(cq,{})})})}),B.jsx(ns,{path:"/orders",element:B.jsx(tR,{msg:"you must login to access your orders",redirect:"/orders",children:B.jsx(fq,{})})}),B.jsx(ns,{path:"/category/:categoryName",element:B.jsx(Sq,{})}),B.jsx(ns,{path:"/products/:productId",element:B.jsx(Rq,{})}),B.jsx(ns,{path:"/cart",element:B.jsx(Eq,{})}),B.jsx(ns,{path:"*",element:B.jsx("p",{children:"Page not found"})})]})})}function Lq(){const[{user:n},e]=K.useContext(_s);return K.useEffect(()=>{em.onAuthStateChanged(t=>{e(t?{type:ti.SET_USER,user:t}:{type:ti.SET_USER,user:null})})},[]),B.jsx(Vq,{})}const Mq={basket:[],user:null},Fq=(n,e)=>{switch(e.type){case ti.ADD_TO_BASKET:if(n.basket.find(o=>o.id===e.item.id)){const o=n.basket.map(l=>l.id===e.item.id?{...l,amount:l.amount+1}:l);return{...n,basket:o}}else return{...n,basket:[...n.basket,{...e.item,amount:1}]};case ti.REMOVE_FROM_BASKET:const r=n.basket.findIndex(o=>o.id===e.id);let i=[...n.basket];return r>=0&&(i[r].amount>1?i[r]={...i[r],amount:i[r].amount-1}:i.splice(r,1)),{...n,basket:i};case ti.EMPTY_BASKET:return{...n,basket:[]};case ti.SET_USER:return{...n,user:e.user};default:return n}};Zx.createRoot(document.getElementById("root")).render(B.jsx(K.StrictMode,{children:B.jsx(rR,{reducer:Fq,initialState:Mq,children:B.jsx(Lq,{})})}));
